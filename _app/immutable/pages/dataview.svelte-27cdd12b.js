import{S as et,i as tt,s as nt,e as v,c as b,a as R,d as f,g as h,E as Qe,K as Lo,v as dl,L as Ce,F as Io,C as ll,M as $s,G as Po,H as Ro,I as Ao,z as ha,q as W,o as Y,N as ws,O as _a,w as Q,x as Z,y as x,B as ee,P as pl,k as C,m as S,t as M,h as H,J as d,Q as Lt,b as U,f as ft,R as be,T as wt,n as lt,p as st,U as ma,j as $t,V as nn,l as Ke,W as Oo,X as Ni,Y as ga,Z as Mo,_ as De,$ as Ne,a0 as an,D as va,a1 as ba,a2 as ka}from"../chunks/index-93102edf.js";import{c as ya,t as Ae,B as Xe,M as $a,a as wa,b as Fa,d as Ta}from"../chunks/Offcanvas.svelte_svelte_type_style_lang-964f3055.js";import{N as Ho,s as Li,t as Ea,F as xn,f as Ca,a as Sa,b as sl,c as Da,d as Na,g as La,e as Ia,h as Pa,i as Bo}from"../chunks/vistorian-faad5068.js";import{C as rn,a as un,b as ln,B as Ra,F as Aa}from"../chunks/Feedback-234e0fd5.js";import{F as Oa}from"../chunks/Footer-a301bf05.js";import{D as Ri,L as Uo,N as Ma,a as Ha,f as ti,i as zo,g as jo,d as Ba}from"../chunks/main-ba7be054.js";import{w as Ua}from"../chunks/index-cb133a72.js";import{g as si}from"../chunks/utils-9aa79bf4.js";import"../chunks/preload-helper-c28b9807.js";function Fs(i,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function ot(i,e,n){return e&&Fs(i.prototype,e),n&&Fs(i,n),i}function Ve(){return(Ve=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[t]=n[t])}return i}).apply(this,arguments)}function Se(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,qo(i,e)}function qo(i,e){return(qo=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(i,e)}function oi(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Ts(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=i[n];return t}function kt(i,e){var n=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n)return(n=n.call(i)).next.bind(n);if(Array.isArray(i)||(n=function(r,l){if(r){if(typeof r=="string")return Ts(r,l);var a=Object.prototype.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ts(r,l):void 0}}(i))||e&&i&&typeof i.length=="number"){n&&(i=n);var t=0;return function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ie,Wo,ii,Vo,Es,Go,Ii={},hl=[],za=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function fn(i,e){for(var n in e)i[n]=e[n];return i}function Yo(i){var e=i.parentNode;e&&e.removeChild(i)}function _e(i,e,n){var t,r,l,a=arguments,s={};for(l in e)l=="key"?t=e[l]:l=="ref"?r=e[l]:s[l]=e[l];if(arguments.length>3)for(n=[n],l=3;l<arguments.length;l++)n.push(a[l]);if(n!=null&&(s.children=n),typeof i=="function"&&i.defaultProps!=null)for(l in i.defaultProps)s[l]===void 0&&(s[l]=i.defaultProps[l]);return Si(i,s,t,r,null)}function Si(i,e,n,t,r){var l={type:i,props:e,key:n,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r==null?++Ie.__v:r};return Ie.vnode!=null&&Ie.vnode(l),l}function zt(i){return i.children}function ri(i,e){this.props=i,this.context=e}function ai(i,e){if(e==null)return i.__?ai(i.__,i.__.__k.indexOf(i)+1):null;for(var n;e<i.__k.length;e++)if((n=i.__k[e])!=null&&n.__e!=null)return n.__e;return typeof i.type=="function"?ai(i):null}function Ko(i){var e,n;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((n=i.__k[e])!=null&&n.__e!=null){i.__e=i.__c.base=n.__e;break}return Ko(i)}}function ol(i){(!i.__d&&(i.__d=!0)&&ii.push(i)&&!Pi.__r++||Es!==Ie.debounceRendering)&&((Es=Ie.debounceRendering)||Vo)(Pi)}function Pi(){for(var i;Pi.__r=ii.length;)i=ii.sort(function(e,n){return e.__v.__b-n.__v.__b}),ii=[],i.some(function(e){var n,t,r,l,a,s;e.__d&&(a=(l=(n=e).__v).__e,(s=n.__P)&&(t=[],(r=fn({},l)).__v=l.__v+1,_l(s,l,r,n.__n,s.ownerSVGElement!==void 0,l.__h!=null?[a]:null,t,a==null?ai(l):a,l.__h),Qo(t,l),l.__e!=a&&Ko(l)))})}function Cs(i,e,n,t,r,l,a,s,o,c){var u,p,k,_,D,B,T,N=t&&t.__k||hl,E=N.length;for(n.__k=[],u=0;u<e.length;u++)if((_=n.__k[u]=(_=e[u])==null||typeof _=="boolean"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"?Si(null,_,null,null,_):Array.isArray(_)?Si(zt,{children:_},null,null,null):_.__b>0?Si(_.type,_.props,_.key,null,_.__v):_)!=null){if(_.__=n,_.__b=n.__b+1,(k=N[u])===null||k&&_.key==k.key&&_.type===k.type)N[u]=void 0;else for(p=0;p<E;p++){if((k=N[p])&&_.key==k.key&&_.type===k.type){N[p]=void 0;break}k=null}_l(i,_,k=k||Ii,r,l,a,s,o,c),D=_.__e,(p=_.ref)&&k.ref!=p&&(T||(T=[]),k.ref&&T.push(k.ref,null,_),T.push(p,_.__c||D,_)),D!=null?(B==null&&(B=D),typeof _.type=="function"&&_.__k!=null&&_.__k===k.__k?_.__d=o=Xo(_,o,i):o=Jo(i,_,k,N,D,o),c||n.type!=="option"?typeof n.type=="function"&&(n.__d=o):i.value=""):o&&k.__e==o&&o.parentNode!=i&&(o=ai(k))}for(n.__e=B,u=E;u--;)N[u]!=null&&(typeof n.type=="function"&&N[u].__e!=null&&N[u].__e==n.__d&&(n.__d=ai(t,u+1)),xo(N[u],N[u]));if(T)for(u=0;u<T.length;u++)Zo(T[u],T[++u],T[++u])}function Xo(i,e,n){var t,r;for(t=0;t<i.__k.length;t++)(r=i.__k[t])&&(r.__=i,e=typeof r.type=="function"?Xo(r,e,n):Jo(n,r,r,i.__k,r.__e,e));return e}function Jo(i,e,n,t,r,l){var a,s,o;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||r!=l||r.parentNode==null)e:if(l==null||l.parentNode!==i)i.appendChild(r),a=null;else{for(s=l,o=0;(s=s.nextSibling)&&o<t.length;o+=2)if(s==r)break e;i.insertBefore(r,l),a=l}return a!==void 0?a:r.nextSibling}function Ss(i,e,n){e[0]==="-"?i.setProperty(e,n):i[e]=n==null?"":typeof n!="number"||za.test(e)?n:n+"px"}function Ti(i,e,n,t,r){var l;e:if(e==="style")if(typeof n=="string")i.style.cssText=n;else{if(typeof t=="string"&&(i.style.cssText=t=""),t)for(e in t)n&&e in n||Ss(i.style,e,"");if(n)for(e in n)t&&n[e]===t[e]||Ss(i.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")l=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in i?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+l]=n,n?t||i.addEventListener(e,l?Ns:Ds,l):i.removeEventListener(e,l?Ns:Ds,l);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in i)try{i[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?i.setAttribute(e,n):i.removeAttribute(e))}}function Ds(i){this.l[i.type+!1](Ie.event?Ie.event(i):i)}function Ns(i){this.l[i.type+!0](Ie.event?Ie.event(i):i)}function _l(i,e,n,t,r,l,a,s,o){var c,u,p,k,_,D,B,T,N,E,w,F=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(o=n.__h,s=e.__e=n.__e,e.__h=null,l=[s]),(c=Ie.__b)&&c(e);try{e:if(typeof F=="function"){if(T=e.props,N=(c=F.contextType)&&t[c.__c],E=c?N?N.props.value:c.__:t,n.__c?B=(u=e.__c=n.__c).__=u.__E:("prototype"in F&&F.prototype.render?e.__c=u=new F(T,E):(e.__c=u=new ri(T,E),u.constructor=F,u.render=ja),N&&N.sub(u),u.props=T,u.state||(u.state={}),u.context=E,u.__n=t,p=u.__d=!0,u.__h=[]),u.__s==null&&(u.__s=u.state),F.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=fn({},u.__s)),fn(u.__s,F.getDerivedStateFromProps(T,u.__s))),k=u.props,_=u.state,p)F.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(F.getDerivedStateFromProps==null&&T!==k&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(T,E),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(T,u.__s,E)===!1||e.__v===n.__v){u.props=T,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),u.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(I){I&&(I.__=e)}),u.__h.length&&a.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(T,u.__s,E),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(k,_,D)})}u.context=E,u.props=T,u.state=u.__s,(c=Ie.__r)&&c(e),u.__d=!1,u.__v=e,u.__P=i,c=u.render(u.props,u.state,u.context),u.state=u.__s,u.getChildContext!=null&&(t=fn(fn({},t),u.getChildContext())),p||u.getSnapshotBeforeUpdate==null||(D=u.getSnapshotBeforeUpdate(k,_)),w=c!=null&&c.type===zt&&c.key==null?c.props.children:c,Cs(i,Array.isArray(w)?w:[w],e,n,t,r,l,a,s,o),u.base=e.__e,e.__h=null,u.__h.length&&a.push(u),B&&(u.__E=u.__=null),u.__e=!1}else l==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(I,A,G,g,m,z,j,y){var $,q,K,O,V=G.props,te=A.props,J=A.type,fe=0;if(J==="svg"&&(m=!0),z!=null){for(;fe<z.length;fe++)if(($=z[fe])&&($===I||(J?$.localName==J:$.nodeType==3))){I=$,z[fe]=null;break}}if(I==null){if(J===null)return document.createTextNode(te);I=m?document.createElementNS("http://www.w3.org/2000/svg",J):document.createElement(J,te.is&&te),z=null,y=!1}if(J===null)V===te||y&&I.data===te||(I.data=te);else{if(z=z&&hl.slice.call(I.childNodes),q=(V=G.props||Ii).dangerouslySetInnerHTML,K=te.dangerouslySetInnerHTML,!y){if(z!=null)for(V={},O=0;O<I.attributes.length;O++)V[I.attributes[O].name]=I.attributes[O].value;(K||q)&&(K&&(q&&K.__html==q.__html||K.__html===I.innerHTML)||(I.innerHTML=K&&K.__html||""))}if(function(me,ne,ce,ae,X){var L;for(L in ce)L==="children"||L==="key"||L in ne||Ti(me,L,null,ce[L],ae);for(L in ne)X&&typeof ne[L]!="function"||L==="children"||L==="key"||L==="value"||L==="checked"||ce[L]===ne[L]||Ti(me,L,ne[L],ce[L],ae)}(I,te,V,m,y),K)A.__k=[];else if(fe=A.props.children,Cs(I,Array.isArray(fe)?fe:[fe],A,G,g,m&&J!=="foreignObject",z,j,I.firstChild,y),z!=null)for(fe=z.length;fe--;)z[fe]!=null&&Yo(z[fe]);y||("value"in te&&(fe=te.value)!==void 0&&(fe!==I.value||J==="progress"&&!fe)&&Ti(I,"value",fe,V.value,!1),"checked"in te&&(fe=te.checked)!==void 0&&fe!==I.checked&&Ti(I,"checked",fe,V.checked,!1))}return I}(n.__e,e,n,t,r,l,a,o);(c=Ie.diffed)&&c(e)}catch(I){e.__v=null,(o||l!=null)&&(e.__e=s,e.__h=!!o,l[l.indexOf(s)]=null),Ie.__e(I,e,n)}}function Qo(i,e){Ie.__c&&Ie.__c(e,i),i.some(function(n){try{i=n.__h,n.__h=[],i.some(function(t){t.call(n)})}catch(t){Ie.__e(t,n.__v)}})}function Zo(i,e,n){try{typeof i=="function"?i(e):i.current=e}catch(t){Ie.__e(t,n)}}function xo(i,e,n){var t,r,l;if(Ie.unmount&&Ie.unmount(i),(t=i.ref)&&(t.current&&t.current!==i.__e||Zo(t,null,e)),n||typeof i.type=="function"||(n=(r=i.__e)!=null),i.__e=i.__d=void 0,(t=i.__c)!=null){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(a){Ie.__e(a,e)}t.base=t.__P=null}if(t=i.__k)for(l=0;l<t.length;l++)t[l]&&xo(t[l],e,n);r!=null&&Yo(r)}function ja(i,e,n){return this.constructor(i,n)}function li(i,e,n){var t,r,l;Ie.__&&Ie.__(i,e),r=(t=typeof n=="function")?null:n&&n.__k||e.__k,l=[],_l(e,i=(!t&&n||e).__k=_e(zt,null,[i]),r||Ii,Ii,e.ownerSVGElement!==void 0,!t&&n?[n]:r?null:e.firstChild?hl.slice.call(e.childNodes):null,l,!t&&n?n:r?r.__e:e.firstChild,t),Qo(l,i)}function ea(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var e=16*Math.random()|0;return(i=="x"?e:3&e|8).toString(16)})}Ie={__e:function(i,e){for(var n,t,r;e=e.__;)if((n=e.__c)&&!n.__)try{if((t=n.constructor)&&t.getDerivedStateFromError!=null&&(n.setState(t.getDerivedStateFromError(i)),r=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(i),r=n.__d),r)return n.__E=n}catch(l){i=l}throw i},__v:0},Wo=function(i){return i!=null&&i.constructor===void 0},ri.prototype.setState=function(i,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=fn({},this.state),typeof i=="function"&&(i=i(fn({},n),this.props)),i&&fn(n,i),i!=null&&this.__v&&(e&&this.__h.push(e),ol(this))},ri.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),ol(this))},ri.prototype.render=zt,ii=[],Vo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pi.__r=0,Go=0;var Ai=function(){function i(e){this._id=void 0,this._id=e||ea()}return ot(i,[{key:"id",get:function(){return this._id}}]),i}(),qa={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(i,e){return"Page "+i+" of "+e},page:function(i){return"Page "+i},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},Wa=function(){function i(n){this._language=void 0,this._defaultLanguage=void 0,this._language=n,this._defaultLanguage=qa}var e=i.prototype;return e.getString=function(n,t){if(!t||!n)return null;var r=n.split("."),l=r[0];if(t[l]){var a=t[l];return typeof a=="string"?function(){return a}:typeof a=="function"?a:this.getString(r.slice(1).join("."),a)}return null},e.translate=function(n){var t,r=this.getString(n,this._language);return(t=r||this.getString(n,this._defaultLanguage))?t.apply(void 0,[].slice.call(arguments,1)):n},i}(),ht=function(i){function e(n,t){var r,l;return(r=i.call(this,n,t)||this).config=void 0,r._=void 0,r.config=function(a){if(!a)return null;var s=Object.keys(a);return s.length?a[s[0]].props.value:null}(t),r.config&&(r._=(l=r.config.translator,function(a){return l.translate.apply(l,[a].concat([].slice.call(arguments,1)))})),r}return Se(e,i),e}(ri),ta=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype.render=function(){return _e(this.props.parentElement,{dangerouslySetInnerHTML:{__html:this.props.content}})},e}(ht);function na(i,e){return _e(ta,{content:i,parentElement:e})}ta.defaultProps={parentElement:"span"};var pt,ml=function(i){function e(t){var r;return(r=i.call(this)||this).data=void 0,r.update(t),r}Se(e,i);var n=e.prototype;return n.cast=function(t){return t instanceof HTMLElement?na(t.outerHTML):t},n.update=function(t){return this.data=this.cast(t),this},e}(Ai),nl=function(i){function e(t){var r;return(r=i.call(this)||this)._cells=void 0,r.cells=t||[],r}Se(e,i);var n=e.prototype;return n.cell=function(t){return this._cells[t]},n.toArray=function(){return this.cells.map(function(t){return t.data})},e.fromCells=function(t){return new e(t.map(function(r){return new ml(r.data)}))},ot(e,[{key:"cells",get:function(){return this._cells},set:function(t){this._cells=t}},{key:"length",get:function(){return this.cells.length}}]),e}(Ai),Oi=function(i){function e(n){var t;return(t=i.call(this)||this)._rows=void 0,t._length=void 0,t.rows=n instanceof Array?n:n instanceof nl?[n]:[],t}return Se(e,i),e.prototype.toArray=function(){return this.rows.map(function(n){return n.toArray()})},e.fromRows=function(n){return new e(n.map(function(t){return nl.fromCells(t.cells)}))},e.fromArray=function(n){return new e((n=function(t){return!t[0]||t[0]instanceof Array?t:[t]}(n)).map(function(t){return new nl(t.map(function(r){return new ml(r)}))}))},ot(e,[{key:"rows",get:function(){return this._rows},set:function(n){this._rows=n}},{key:"length",get:function(){return this._length||this.rows.length},set:function(n){this._length=n}}]),e}(Ai),Mi=function(){function i(){this.callbacks=void 0}var e=i.prototype;return e.init=function(n){this.callbacks||(this.callbacks={}),n&&!this.callbacks[n]&&(this.callbacks[n]=[])},e.on=function(n,t){return this.init(n),this.callbacks[n].push(t),this},e.off=function(n,t){var r=n;return this.init(),this.callbacks[r]&&this.callbacks[r].length!==0?(this.callbacks[r]=this.callbacks[r].filter(function(l){return l!=t}),this):this},e.emit=function(n){var t=arguments,r=n;return this.init(r),this.callbacks[r].length>0&&(this.callbacks[r].forEach(function(l){return l.apply(void 0,[].slice.call(t,1))}),!0)},i}();(function(i){i[i.Initiator=0]="Initiator",i[i.ServerFilter=1]="ServerFilter",i[i.ServerSort=2]="ServerSort",i[i.ServerLimit=3]="ServerLimit",i[i.Extractor=4]="Extractor",i[i.Transformer=5]="Transformer",i[i.Filter=6]="Filter",i[i.Sort=7]="Sort",i[i.Limit=8]="Limit"})(pt||(pt={}));var Zt=function(i){function e(t){var r;return(r=i.call(this)||this).id=void 0,r._props=void 0,r._props={},r.id=ea(),t&&r.setProps(t),r}Se(e,i);var n=e.prototype;return n.process=function(){var t=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,t),this.emit.apply(this,["beforeProcess"].concat(t));var r=this._process.apply(this,t);return this.emit.apply(this,["afterProcess"].concat(t)),r},n.setProps=function(t){return Object.assign(this._props,t),this.emit("propsUpdated",this),this},ot(e,[{key:"props",get:function(){return this._props}}]),e}(Mi),Va=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype._process=function(n){return this.props.keyword?(t=String(this.props.keyword).trim(),r=this.props.columns,l=this.props.ignoreHiddenColumns,a=n,s=this.props.selector,t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new Oi(a.rows.filter(function(o,c){return o.cells.some(function(u,p){if(!u||l&&r&&r[p]&&typeof r[p]=="object"&&r[p].hidden)return!1;var k="";if(typeof s=="function")k=s(u.data,c,p);else if(typeof u.data=="object"){var _=u.data;_&&_.props&&_.props.content&&(k=_.props.content)}else k=String(u.data);return new RegExp(t,"gi").test(k)})}))):n;var t,r,l,a,s},ot(e,[{key:"type",get:function(){return pt.Filter}}]),e}(Zt);function Be(){var i="gridjs";return""+i+[].slice.call(arguments).reduce(function(e,n){return e+"-"+n},"")}function We(){return[].slice.call(arguments).filter(function(i){return i}).reduce(function(i,e){return(i||"")+" "+e},"").trim()||null}var pn,ia=function(i){function e(t){var r;return(r=i.call(this)||this)._state=void 0,r.dispatcher=void 0,r.dispatcher=t,r._state=r.getInitialState(),t.register(r._handle.bind(oi(r))),r}Se(e,i);var n=e.prototype;return n._handle=function(t){this.handle(t.type,t.payload)},n.setState=function(t){var r=this._state;this._state=t,this.emit("updated",t,r)},ot(e,[{key:"state",get:function(){return this._state}}]),e}(Mi),Ga=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.getInitialState=function(){return{keyword:null}},n.handle=function(t,r){t==="SEARCH_KEYWORD"&&this.search(r.keyword)},n.search=function(t){this.setState({keyword:t})},e}(ia),ra=function(){function i(e){this.dispatcher=void 0,this.dispatcher=e}return i.prototype.dispatch=function(e,n){this.dispatcher.dispatch({type:e,payload:n})},i}(),Ya=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype.search=function(n){this.dispatch("SEARCH_KEYWORD",{keyword:n})},e}(ra),Ls=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype._process=function(n){if(!this.props.keyword)return n;var t={};return this.props.url&&(t.url=this.props.url(n.url,this.props.keyword)),this.props.body&&(t.body=this.props.body(n.body,this.props.keyword)),Ve({},n,t)},ot(e,[{key:"type",get:function(){return pt.ServerFilter}}]),e}(Zt),Ht=new(function(){function i(){}var e=i.prototype;return e.format=function(n,t){return"[Grid.js] ["+t.toUpperCase()+"]: "+n},e.error=function(n,t){t===void 0&&(t=!1);var r=this.format(n,"error");if(t)throw Error(r);console.error(r)},e.warn=function(n){console.warn(this.format(n,"warn"))},e.info=function(n){console.info(this.format(n,"info"))},i}()),la=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e}(ht);(function(i){i[i.Header=0]="Header",i[i.Footer=1]="Footer",i[i.Cell=2]="Cell"})(pn||(pn={}));var Ka=function(){function i(){this.plugins=void 0,this.plugins=[]}var e=i.prototype;return e.get=function(n){var t=this.plugins.filter(function(r){return r.id===n});return t.length>0?t[0]:null},e.add=function(n){return n.id?this.get(n.id)!==null?(Ht.error("Duplicate plugin ID: "+n.id),this):(this.plugins.push(n),this):(Ht.error("Plugin ID cannot be empty"),this)},e.remove=function(n){return this.plugins.splice(this.plugins.indexOf(this.get(n)),1),this},e.list=function(n){return(n!=null||n!=null?this.plugins.filter(function(t){return t.position===n}):this.plugins).sort(function(t,r){return t.order-r.order})},i}(),Hi=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype.render=function(){var n=this;if(this.props.pluginId){var t=this.config.plugin.get(this.props.pluginId);return t?_e(zt,{},_e(t.component,Ve({plugin:t},t.props,this.props.props))):null}return this.props.position!==void 0?_e(zt,{},this.config.plugin.list(this.props.position).map(function(r){return _e(r.component,Ve({plugin:r},r.props,n.props.props))})):null},e}(ht),sa=function(i){function e(t,r){var l;(l=i.call(this,t,r)||this).searchProcessor=void 0,l.actions=void 0,l.store=void 0,l.storeUpdatedFn=void 0,l.actions=new Ya(l.config.dispatcher),l.store=new Ga(l.config.dispatcher);var a,s=t.keyword;return t.enabled&&(s&&l.actions.search(s),l.storeUpdatedFn=l.storeUpdated.bind(oi(l)),l.store.on("updated",l.storeUpdatedFn),a=t.server?new Ls({keyword:t.keyword,url:t.server.url,body:t.server.body}):new Va({keyword:t.keyword,columns:l.config.header&&l.config.header.columns,ignoreHiddenColumns:t.ignoreHiddenColumns||t.ignoreHiddenColumns===void 0,selector:t.selector}),l.searchProcessor=a,l.config.pipeline.register(a)),l}Se(e,i);var n=e.prototype;return n.componentWillUnmount=function(){this.config.pipeline.unregister(this.searchProcessor),this.store.off("updated",this.storeUpdatedFn)},n.storeUpdated=function(t){this.searchProcessor.setProps({keyword:t.keyword})},n.onChange=function(t){this.actions.search(t.target.value)},n.render=function(){if(!this.props.enabled)return null;var t,r,l,a=this.onChange.bind(this);return this.searchProcessor instanceof Ls&&(t=a,r=this.props.debounceTimeout,a=function(){var s=arguments;return new Promise(function(o){l&&clearTimeout(l),l=setTimeout(function(){return o(t.apply(void 0,[].slice.call(s)))},r)})}),_e("div",{className:Be(We("search",this.config.className.search))},_e("input",{type:"search",placeholder:this._("search.placeholder"),"aria-label":this._("search.placeholder"),onInput:a,className:We(Be("input"),Be("search","input")),value:this.store.state.keyword}))},e}(la);sa.defaultProps={debounceTimeout:250};var Xa=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},n._process=function(t){var r=this.props.page;return new Oi(t.rows.slice(r*this.props.limit,(r+1)*this.props.limit))},ot(e,[{key:"type",get:function(){return pt.Limit}}]),e}(Zt),Ja=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype._process=function(n){var t={};return this.props.url&&(t.url=this.props.url(n.url,this.props.page,this.props.limit)),this.props.body&&(t.body=this.props.body(n.body,this.props.page,this.props.limit)),Ve({},n,t)},ot(e,[{key:"type",get:function(){return pt.ServerLimit}}]),e}(Zt),oa=function(i){function e(t,r){var l;return(l=i.call(this,t,r)||this).processor=void 0,l.onUpdateFn=void 0,l.setTotalFromTabularFn=void 0,l.state={limit:t.limit,page:t.page||0,total:0},l}Se(e,i);var n=e.prototype;return n.componentWillMount=function(){var t,r=this;this.props.enabled&&(this.setTotalFromTabularFn=this.setTotalFromTabular.bind(this),this.props.server?(t=new Ja({limit:this.state.limit,page:this.state.page,url:this.props.server.url,body:this.props.server.body}),this.config.pipeline.on("afterProcess",this.setTotalFromTabularFn)):(t=new Xa({limit:this.state.limit,page:this.state.page})).on("beforeProcess",this.setTotalFromTabularFn),this.processor=t,this.config.pipeline.register(t),this.config.pipeline.on("error",function(){r.setState({total:0,page:0})}))},n.setTotalFromTabular=function(t){this.setTotal(t.length)},n.onUpdate=function(t){this.props.resetPageOnUpdate&&t!==this.processor&&this.setPage(0)},n.componentDidMount=function(){this.onUpdateFn=this.onUpdate.bind(this),this.config.pipeline.on("updated",this.onUpdateFn)},n.componentWillUnmount=function(){this.config.pipeline.unregister(this.processor),this.config.pipeline.off("updated",this.onUpdateFn)},n.setPage=function(t){if(t>=this.pages||t<0||t===this.state.page)return null;this.setState({page:t}),this.processor.setProps({page:t})},n.setTotal=function(t){this.setState({total:t})},n.renderPages=function(){var t=this;if(this.props.buttonsCount<=0)return null;var r=Math.min(this.pages,this.props.buttonsCount),l=Math.min(this.state.page,Math.floor(r/2));return this.state.page+Math.floor(r/2)>=this.pages&&(l=r-(this.pages-this.state.page)),_e(zt,null,this.pages>r&&this.state.page-l>0&&_e(zt,null,_e("button",{tabIndex:0,role:"button",onClick:this.setPage.bind(this,0),title:this._("pagination.firstPage"),"aria-label":this._("pagination.firstPage"),className:this.config.className.paginationButton},this._("1")),_e("button",{tabIndex:-1,className:We(Be("spread"),this.config.className.paginationButton)},"...")),Array.from(Array(r).keys()).map(function(a){return t.state.page+(a-l)}).map(function(a){return _e("button",{tabIndex:0,role:"button",onClick:t.setPage.bind(t,a),className:We(t.state.page===a?We(Be("currentPage"),t.config.className.paginationButtonCurrent):null,t.config.className.paginationButton),title:t._("pagination.page",a+1),"aria-label":t._("pagination.page",a+1)},t._(""+(a+1)))}),this.pages>r&&this.pages>this.state.page+l+1&&_e(zt,null,_e("button",{tabIndex:-1,className:We(Be("spread"),this.config.className.paginationButton)},"..."),_e("button",{tabIndex:0,role:"button",onClick:this.setPage.bind(this,this.pages-1),title:this._("pagination.page",this.pages),"aria-label":this._("pagination.page",this.pages),className:this.config.className.paginationButton},this._(""+this.pages))))},n.renderSummary=function(){return _e(zt,null,this.props.summary&&this.state.total>0&&_e("div",{role:"status","aria-live":"polite",className:We(Be("summary"),this.config.className.paginationSummary),title:this._("pagination.navigate",this.state.page+1,this.pages)},this._("pagination.showing")," ",_e("b",null,this._(""+(this.state.page*this.state.limit+1)))," ",this._("pagination.to")," ",_e("b",null,this._(""+Math.min((this.state.page+1)*this.state.limit,this.state.total)))," ",this._("pagination.of")," ",_e("b",null,this._(""+this.state.total))," ",this._("pagination.results")))},n.render=function(){return this.props.enabled?_e("div",{className:We(Be("pagination"),this.config.className.pagination)},this.renderSummary(),_e("div",{className:Be("pages")},this.props.prevButton&&_e("button",{tabIndex:0,role:"button",disabled:this.state.page===0,onClick:this.setPage.bind(this,this.state.page-1),title:this._("pagination.previous"),"aria-label":this._("pagination.previous"),className:We(this.config.className.paginationButton,this.config.className.paginationButtonPrev)},this._("pagination.previous")),this.renderPages(),this.props.nextButton&&_e("button",{tabIndex:0,role:"button",disabled:this.pages===this.state.page+1||this.pages===0,onClick:this.setPage.bind(this,this.state.page+1),title:this._("pagination.next"),"aria-label":this._("pagination.next"),className:We(this.config.className.paginationButton,this.config.className.paginationButtonNext)},this._("pagination.next")))):null},ot(e,[{key:"pages",get:function(){return Math.ceil(this.state.total/this.state.limit)}}]),e}(la);function Qa(i,e){return typeof i=="string"?i.indexOf("%")>-1?e/100*parseInt(i,10):parseInt(i,10):i}function il(i){return i?Math.floor(i)+"px":""}oa.defaultProps={summary:!0,nextButton:!0,prevButton:!0,buttonsCount:3,limit:10,resetPageOnUpdate:!0};var Za=function(i){function e(t,r){var l;return(l=i.call(this,t,r)||this).tableElement=void 0,l.tableClassName=void 0,l.tableStyle=void 0,l.tableElement=l.props.tableRef.current.base.cloneNode(!0),l.tableElement.style.position="absolute",l.tableElement.style.width="100%",l.tableElement.style.zIndex="-2147483640",l.tableElement.style.visibility="hidden",l.tableClassName=l.tableElement.className,l.tableStyle=l.tableElement.style.cssText,l}Se(e,i);var n=e.prototype;return n.widths=function(){this.tableElement.className=this.tableClassName+" "+Be("shadowTable"),this.tableElement.style.tableLayout="auto",this.tableElement.style.width="auto",this.tableElement.style.padding="0",this.tableElement.style.margin="0",this.tableElement.style.border="none",this.tableElement.style.outline="none";var t=Array.from(this.base.parentNode.querySelectorAll("thead th")).reduce(function(r,l){var a;return l.style.width=l.clientWidth+"px",Ve(((a={})[l.getAttribute("data-column-id")]={minWidth:l.clientWidth},a),r)},{});return this.tableElement.className=this.tableClassName,this.tableElement.style.cssText=this.tableStyle,this.tableElement.style.tableLayout="auto",Array.from(this.base.parentNode.querySelectorAll("thead th")).reduce(function(r,l){return r[l.getAttribute("data-column-id")].width=l.clientWidth,r},t)},n.render=function(){var t=this;return this.props.tableRef.current?_e("div",{ref:function(r){r&&r.appendChild(t.tableElement)}}):null},e}(ht);function xa(i){if(!i)return"";var e=i.split(" ");return e.length===1&&/([a-z][A-Z])+/g.test(i)?i:e.map(function(n,t){return t==0?n.toLowerCase():n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}).join("")}var Zn=function(i){function e(){var t;return(t=i.call(this)||this)._columns=void 0,t._columns=[],t}Se(e,i);var n=e.prototype;return n.adjustWidth=function(t){var r=t.container,l=t.tableRef,a=t.tempRef,s=t.tempRef||!0;if(!r)return this;var o=r.clientWidth,c={current:null},u={};if(l.current&&s){var p=_e(Za,{tableRef:l});p.ref=c,li(p,a.current),u=c.current.widths()}for(var k,_=kt(e.tabularFormat(this.columns).reduce(function(B,T){return B.concat(T)},[]));!(k=_()).done;){var D=k.value;D.columns&&D.columns.length>0||(!D.width&&s?D.id in u&&(D.width=il(u[D.id].width),D.minWidth=il(u[D.id].minWidth)):D.width=il(Qa(D.width,o)))}return l.current&&s&&li(null,a.current),this},n.setSort=function(t,r){for(var l,a=kt(r||this.columns||[]);!(l=a()).done;){var s=l.value;s.columns&&s.columns.length>0&&(s.sort={enabled:!1}),s.sort===void 0&&t.sort&&(s.sort={enabled:!0}),s.sort?typeof s.sort=="object"&&(s.sort=Ve({enabled:!0},s.sort)):s.sort={enabled:!1},s.columns&&this.setSort(t,s.columns)}},n.setFixedHeader=function(t,r){for(var l,a=kt(r||this.columns||[]);!(l=a()).done;){var s=l.value;s.fixedHeader===void 0&&(s.fixedHeader=t.fixedHeader),s.columns&&this.setFixedHeader(t,s.columns)}},n.setResizable=function(t,r){for(var l,a=kt(r||this.columns||[]);!(l=a()).done;){var s=l.value;s.resizable===void 0&&(s.resizable=t.resizable),s.columns&&this.setResizable(t,s.columns)}},n.setID=function(t){for(var r,l=kt(t||this.columns||[]);!(r=l()).done;){var a=r.value;a.id||typeof a.name!="string"||(a.id=xa(a.name)),a.id||Ht.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),a.columns&&this.setID(a.columns)}},n.populatePlugins=function(t,r){for(var l,a=kt(r);!(l=a()).done;){var s=l.value;s.plugin!==void 0&&t.plugin.add(Ve({id:s.id,props:{}},s.plugin,{position:pn.Cell}))}},e.fromColumns=function(t){for(var r,l=new e,a=kt(t);!(r=a()).done;){var s=r.value;if(typeof s=="string"||Wo(s))l.columns.push({name:s});else if(typeof s=="object"){var o=s;o.columns&&(o.columns=e.fromColumns(o.columns).columns),typeof o.plugin=="object"&&o.data===void 0&&(o.data=null),l.columns.push(s)}}return l},e.fromUserConfig=function(t){var r=new e;return t.from?r.columns=e.fromHTMLTable(t.from).columns:t.columns?r.columns=e.fromColumns(t.columns).columns:!t.data||typeof t.data[0]!="object"||t.data[0]instanceof Array||(r.columns=Object.keys(t.data[0]).map(function(l){return{name:l}})),r.columns.length?(r.setID(),r.setSort(t),r.setFixedHeader(t),r.setResizable(t),r.populatePlugins(t,r.columns),r):null},e.fromHTMLTable=function(t){for(var r,l=new e,a=kt(t.querySelector("thead").querySelectorAll("th"));!(r=a()).done;){var s=r.value;l.columns.push({name:s.innerHTML,width:s.width})}return l},e.tabularFormat=function(t){var r=[],l=t||[],a=[];if(l&&l.length){r.push(l);for(var s,o=kt(l);!(s=o()).done;){var c=s.value;c.columns&&c.columns.length&&(a=a.concat(c.columns))}a.length&&(r=r.concat(this.tabularFormat(a)))}return r},e.leafColumns=function(t){var r=[],l=t||[];if(l&&l.length)for(var a,s=kt(l);!(a=s()).done;){var o=a.value;o.columns&&o.columns.length!==0||r.push(o),o.columns&&(r=r.concat(this.leafColumns(o.columns)))}return r},e.maximumDepth=function(t){return this.tabularFormat([t]).length-1},ot(e,[{key:"columns",get:function(){return this._columns},set:function(t){this._columns=t}},{key:"visibleColumns",get:function(){return this._columns.filter(function(t){return!t.hidden})}}]),e}(Ai),ef=function(){function i(){this._callbacks=void 0,this._isDispatching=void 0,this._isHandled=void 0,this._isPending=void 0,this._lastID=void 0,this._pendingPayload=void 0,this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var e=i.prototype;return e.register=function(n){var t="ID_"+this._lastID++;return this._callbacks[t]=n,t},e.unregister=function(n){if(!this._callbacks[n])throw Error("Dispatcher.unregister(...): "+n+" does not map to a registered callback.");delete this._callbacks[n]},e.waitFor=function(n){if(!this._isDispatching)throw Error("Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<n.length;t++){var r=n[t];if(this._isPending[r]){if(!this._isHandled[r])throw Error(`Dispatcher.waitFor(...): Circular dependency detected while ' +
            'waiting for `+r+".")}else{if(!this._callbacks[r])throw Error("Dispatcher.waitFor(...): "+r+" does not map to a registered callback.");this._invokeCallback(r)}}},e.dispatch=function(n){if(this._isDispatching)throw Error("Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this._startDispatching(n);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.isDispatching=function(){return this._isDispatching},e._invokeCallback=function(n){this._isPending[n]=!0,this._callbacks[n](this._pendingPayload),this._isHandled[n]=!0},e._startDispatching=function(n){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=n,this._isDispatching=!0},e._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},i}(),aa=function(){},Is=function(i){function e(t){var r;return(r=i.call(this)||this).data=void 0,r.set(t),r}Se(e,i);var n=e.prototype;return n.get=function(){try{return Promise.resolve(this.data()).then(function(t){return{data:t,total:t.length}})}catch(t){return Promise.reject(t)}},n.set=function(t){return t instanceof Array?this.data=function(){return t}:t instanceof Function&&(this.data=t),this},e}(aa),fa=function(i){function e(t){var r;return(r=i.call(this)||this).options=void 0,r.options=t,r}Se(e,i);var n=e.prototype;return n.handler=function(t){return typeof this.options.handle=="function"?this.options.handle(t):t.ok?t.json():(Ht.error("Could not fetch data: "+t.status+" - "+t.statusText,!0),null)},n.get=function(t){var r=Ve({},this.options,t);return typeof r.data=="function"?r.data(r):fetch(r.url,r).then(this.handler.bind(this)).then(function(l){return{data:r.then(l),total:typeof r.total=="function"?r.total(l):void 0}})},e}(aa),tf=function(){function i(){}return i.createFromUserConfig=function(e){var n=null;return e.data&&(n=new Is(e.data)),e.from&&(n=new Is(this.tableElementToArray(e.from)),e.from.style.display="none"),e.server&&(n=new fa(e.server)),n||Ht.error("Could not determine the storage type",!0),n},i.tableElementToArray=function(e){for(var n,t,r=[],l=kt(e.querySelector("tbody").querySelectorAll("tr"));!(n=l()).done;){for(var a,s=[],o=kt(n.value.querySelectorAll("td"));!(a=o()).done;){var c=a.value;c.childNodes.length===1&&c.childNodes[0].nodeType===Node.TEXT_NODE?s.push((t=c.innerHTML,new DOMParser().parseFromString(t,"text/html").documentElement.textContent)):s.push(na(c.innerHTML))}r.push(s)}return r},i}(),Ps=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function yt(i,e,n){if(!i.s){if(n instanceof Jn){if(!n.s)return void(n.o=yt.bind(null,i,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(yt.bind(null,i,e),yt.bind(null,i,2));i.s=e,i.v=n;var t=i.o;t&&t(i)}}var Jn=function(){function i(){}return i.prototype.then=function(e,n){var t=new i,r=this.s;if(r){var l=1&r?e:n;if(l){try{yt(t,1,l(this.v))}catch(a){yt(t,2,a)}return t}return this}return this.o=function(a){try{var s=a.v;1&a.s?yt(t,1,e?e(s):s):n?yt(t,1,n(s)):yt(t,2,s)}catch(o){yt(t,2,o)}},t},i}();function Rs(i){return i instanceof Jn&&1&i.s}var Tt,nf=function(i){function e(t){var r;return(r=i.call(this)||this)._steps=new Map,r.cache=new Map,r.lastProcessorIndexUpdated=-1,t&&t.forEach(function(l){return r.register(l)}),r}Se(e,i);var n=e.prototype;return n.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},n.register=function(t,r){if(r===void 0&&(r=null),t.type===null)throw Error("Processor type is not defined");t.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(t,r),this.afterRegistered(t)},n.unregister=function(t){if(t){var r=this._steps.get(t.type);r&&r.length&&(this._steps.set(t.type,r.filter(function(l){return l!=t})),this.emit("updated",t))}},n.addProcessorByPriority=function(t,r){var l=this._steps.get(t.type);if(!l){var a=[];this._steps.set(t.type,a),l=a}if(r===null||r<0)l.push(t);else if(l[r]){var s=l.slice(0,r-1),o=l.slice(r+1);this._steps.set(t.type,s.concat(t).concat(o))}else l[r]=t},n.getStepsByType=function(t){return this.steps.filter(function(r){return r.type===t})},n.getSortedProcessorTypes=function(){return Object.keys(pt).filter(function(t){return!isNaN(Number(t))}).map(function(t){return Number(t)})},n.process=function(t){try{var r=this,l=function(u){return r.lastProcessorIndexUpdated=s.length,r.emit("afterProcess",o),o},a=r.lastProcessorIndexUpdated,s=r.steps,o=t,c=function(u,p){try{var k=function(_,D,B){if(typeof _[Ps]=="function"){var T,N,E,w=_[Ps]();if(function G(g){try{for(;!(T=w.next()).done;)if((g=D(T.value))&&g.then){if(!Rs(g))return void g.then(G,E||(E=yt.bind(null,N=new Jn,2)));g=g.v}N?yt(N,1,g):N=g}catch(m){yt(N||(N=new Jn),2,m)}}(),w.return){var F=function(G){try{T.done||w.return()}catch{}return G};if(N&&N.then)return N.then(F,function(G){throw F(G)});F()}return N}if(!("length"in _))throw new TypeError("Object is not iterable");for(var I=[],A=0;A<_.length;A++)I.push(_[A]);return function(G,g,m){var z,j,y=-1;return function $(q){try{for(;++y<G.length;)if((q=g(y))&&q.then){if(!Rs(q))return void q.then($,j||(j=yt.bind(null,z=new Jn,2)));q=q.v}z?yt(z,1,q):z=q}catch(K){yt(z||(z=new Jn),2,K)}}(),z}(I,function(G){return D(I[G])})}(s,function(_){var D=r.findProcessorIndexByID(_.id),B=function(){if(D>=a)return Promise.resolve(_.process(o)).then(function(T){r.cache.set(_.id,o=T)});o=r.cache.get(_.id)}();if(B&&B.then)return B.then(function(){})})}catch(_){return p(_)}return k&&k.then?k.then(void 0,p):k}(0,function(u){throw Ht.error(u),r.emit("error",o),u});return Promise.resolve(c&&c.then?c.then(l):l())}catch(u){return Promise.reject(u)}},n.findProcessorIndexByID=function(t){return this.steps.findIndex(function(r){return r.id==t})},n.setLastProcessorIndex=function(t){var r=this.findProcessorIndexByID(t.id);this.lastProcessorIndexUpdated>r&&(this.lastProcessorIndexUpdated=r)},n.processorPropsUpdated=function(t){this.setLastProcessorIndex(t),this.emit("propsUpdated"),this.emit("updated",t)},n.afterRegistered=function(t){this.setLastProcessorIndex(t),this.emit("afterRegister"),this.emit("updated",t)},ot(e,[{key:"steps",get:function(){for(var t,r=[],l=kt(this.getSortedProcessorTypes());!(t=l()).done;){var a=this._steps.get(t.value);a&&a.length&&(r=r.concat(a))}return r.filter(function(s){return s})}}]),e}(Mi),rf=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype._process=function(n){try{return Promise.resolve(this.props.storage.get(n))}catch(t){return Promise.reject(t)}},ot(e,[{key:"type",get:function(){return pt.Extractor}}]),e}(Zt),lf=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype._process=function(n){var t=Oi.fromArray(n.data);return t.length=n.total,t},ot(e,[{key:"type",get:function(){return pt.Transformer}}]),e}(Zt),sf=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(n){return typeof n[1]!="function"}).reduce(function(n,t){var r;return Ve({},n,((r={})[t[0]]=t[1],r))},{})},ot(e,[{key:"type",get:function(){return pt.Initiator}}]),e}(Zt),of=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.castData=function(t){if(!t||!t.length)return[];if(!this.props.header||!this.props.header.columns)return t;var r=Zn.leafColumns(this.props.header.columns);return t[0]instanceof Array?t.map(function(l){var a=0;return r.map(function(s,o){return s.data!==void 0?(a++,typeof s.data=="function"?s.data(l):s.data):l[o-a]})}):typeof t[0]!="object"||t[0]instanceof Array?[]:t.map(function(l){return r.map(function(a,s){return a.data!==void 0?typeof a.data=="function"?a.data(l):a.data:a.id?l[a.id]:(Ht.error("Could not find the correct cell for column at position "+s+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null)})})},n._process=function(t){return{data:this.castData(t.data),total:t.total}},ot(e,[{key:"type",get:function(){return pt.Transformer}}]),e}(Zt),af=function(){function i(){}return i.createFromConfig=function(e){var n=new nf;return e.storage instanceof fa&&n.register(new sf({serverStorageOptions:e.server})),n.register(new rf({storage:e.storage})),n.register(new of({header:e.header})),n.register(new lf),n},i}(),ff=function(){function i(n){this._userConfig=void 0,Object.assign(this,Ve({},i.defaultConfig(),n)),this._userConfig={}}var e=i.prototype;return e.assign=function(n){for(var t=0,r=Object.keys(n);t<r.length;t++){var l=r[t];l!=="_userConfig"&&(this[l]=n[l])}return this},e.update=function(n){return n?(this._userConfig=Ve({},this._userConfig,n),this.assign(i.fromUserConfig(this._userConfig)),this):this},i.defaultConfig=function(){return{plugin:new Ka,dispatcher:new ef,tableRef:{current:null},tempRef:{current:null},width:"100%",height:"auto",autoWidth:!0,style:{},className:{}}},i.fromUserConfig=function(n){var t=new i(n);return t._userConfig=n,typeof n.sort=="boolean"&&n.sort&&t.assign({sort:{multiColumn:!0}}),t.assign({header:Zn.fromUserConfig(t)}),t.assign({storage:tf.createFromUserConfig(n)}),t.assign({pipeline:af.createFromConfig(t)}),t.assign({translator:new Wa(n.language)}),t.plugin.add({id:"search",position:pn.Header,component:sa,props:Ve({enabled:n.search===!0||n.search instanceof Object},n.search)}),t.plugin.add({id:"pagination",position:pn.Footer,component:oa,props:Ve({enabled:n.pagination===!0||n.pagination instanceof Object},n.pagination)}),n.plugins&&n.plugins.forEach(function(r){return t.plugin.add(r)}),t},i}();(function(i){i[i.Init=0]="Init",i[i.Loading=1]="Loading",i[i.Loaded=2]="Loaded",i[i.Rendered=3]="Rendered",i[i.Error=4]="Error"})(Tt||(Tt={}));var As,ua=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.content=function(){return this.props.column&&typeof this.props.column.formatter=="function"?this.props.column.formatter(this.props.cell.data,this.props.row,this.props.column):this.props.column&&this.props.column.plugin?_e(Hi,{pluginId:this.props.column.id,props:{column:this.props.column,cell:this.props.cell,row:this.props.row}}):this.props.cell.data},n.handleClick=function(t){this.props.messageCell||this.config.eventEmitter.emit("cellClick",t,this.props.cell,this.props.column,this.props.row)},n.getCustomAttributes=function(t){return t?typeof t.attributes=="function"?t.attributes(this.props.cell.data,this.props.row,this.props.column):t.attributes:{}},n.render=function(){return _e("td",Ve({role:this.props.role,colSpan:this.props.colSpan,"data-column-id":this.props.column&&this.props.column.id,className:We(Be("td"),this.props.className,this.config.className.td),style:Ve({},this.props.style,this.config.style.td),onClick:this.handleClick.bind(this)},this.getCustomAttributes(this.props.column)),this.content())},e}(ht),gl=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.getColumn=function(t){if(this.props.header){var r=Zn.leafColumns(this.props.header.columns);if(r)return r[t]}return null},n.handleClick=function(t){this.props.messageRow||this.config.eventEmitter.emit("rowClick",t,this.props.row)},n.getChildren=function(){var t=this;return this.props.children?this.props.children:_e(zt,null,this.props.row.cells.map(function(r,l){var a=t.getColumn(l);return a&&a.hidden?null:_e(ua,{key:r.id,cell:r,row:t.props.row,column:a})}))},n.render=function(){return _e("tr",{className:We(Be("tr"),this.config.className.tr),onClick:this.handleClick.bind(this)},this.getChildren())},e}(ht),rl=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype.render=function(){return _e(gl,{messageRow:!0},_e(ua,{role:"alert",colSpan:this.props.colSpan,messageCell:!0,cell:new ml(this.props.message),className:We(Be("message"),this.props.className?this.props.className:null)}))},e}(ht),uf=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.headerLength=function(){return this.props.header?this.props.header.visibleColumns.length:0},n.render=function(){var t=this;return _e("tbody",{className:We(Be("tbody"),this.config.className.tbody)},this.props.data&&this.props.data.rows.map(function(r){return _e(gl,{key:r.id,row:r,header:t.props.header})}),this.props.status===Tt.Loading&&(!this.props.data||this.props.data.length===0)&&_e(rl,{message:this._("loading"),colSpan:this.headerLength(),className:We(Be("loading"),this.config.className.loading)}),this.props.status===Tt.Rendered&&this.props.data&&this.props.data.length===0&&_e(rl,{message:this._("noRecordsFound"),colSpan:this.headerLength(),className:We(Be("notfound"),this.config.className.notfound)}),this.props.status===Tt.Error&&_e(rl,{message:this._("error"),colSpan:this.headerLength(),className:We(Be("error"),this.config.className.error)}))},e}(ht),cf=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.validateProps=function(){for(var t,r=kt(this.props.columns);!(t=r()).done;){var l=t.value;l.direction===void 0&&(l.direction=1),l.direction!==1&&l.direction!==-1&&Ht.error("Invalid sort direction "+l.direction)}},n.compare=function(t,r){return t>r?1:t<r?-1:0},n.compareWrapper=function(t,r){for(var l,a=0,s=kt(this.props.columns);!(l=s()).done;){var o=l.value;if(a!==0)break;var c=t.cells[o.index].data,u=r.cells[o.index].data;a|=typeof o.compare=="function"?o.compare(c,u)*o.direction:this.compare(c,u)*o.direction}return a},n._process=function(t){var r=[].concat(t.rows);r.sort(this.compareWrapper.bind(this));var l=new Oi(r);return l.length=t.length,l},ot(e,[{key:"type",get:function(){return pt.Sort}}]),e}(Zt),df=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.getInitialState=function(){return[]},n.handle=function(t,r){t==="SORT_COLUMN"?this.sortColumn(r.index,r.direction,r.multi,r.compare):t==="SORT_COLUMN_TOGGLE"&&this.sortToggle(r.index,r.multi,r.compare)},n.sortToggle=function(t,r,l){var a=[].concat(this.state).find(function(s){return s.index===t});this.sortColumn(t,a&&a.direction===1?-1:1,r,l)},n.sortColumn=function(t,r,l,a){var s=[].concat(this.state),o=s.length,c=s.find(function(T){return T.index===t}),u=!1,p=!1,k=!1,_=!1;if(c!==void 0?l?c.direction===-1?k=!0:_=!0:o===1?_=!0:o>1&&(p=!0,u=!0):o===0?u=!0:o>0&&!l?(u=!0,p=!0):o>0&&l&&(u=!0),p&&(s=[]),u)s.push({index:t,direction:r,compare:a});else if(_){var D=s.indexOf(c);s[D].direction=r}else if(k){var B=s.indexOf(c);s.splice(B,1)}this.setState(s)},e}(ia),pf=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.sortColumn=function(t,r,l,a){this.dispatch("SORT_COLUMN",{index:t,direction:r,multi:l,compare:a})},n.sortToggle=function(t,r,l){this.dispatch("SORT_COLUMN_TOGGLE",{index:t,multi:r,compare:l})},e}(ra),hf=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype._process=function(n){var t={};return this.props.url&&(t.url=this.props.url(n.url,this.props.columns)),this.props.body&&(t.body=this.props.body(n.body,this.props.columns)),Ve({},n,t)},ot(e,[{key:"type",get:function(){return pt.ServerSort}}]),e}(Zt),_f=function(i){function e(t,r){var l;return(l=i.call(this,t,r)||this).sortProcessor=void 0,l.actions=void 0,l.store=void 0,l.updateStateFn=void 0,l.updateSortProcessorFn=void 0,l.actions=new pf(l.config.dispatcher),l.store=new df(l.config.dispatcher),t.enabled&&(l.sortProcessor=l.getOrCreateSortProcessor(),l.updateStateFn=l.updateState.bind(oi(l)),l.store.on("updated",l.updateStateFn),l.state={direction:0}),l}Se(e,i);var n=e.prototype;return n.componentWillUnmount=function(){this.config.pipeline.unregister(this.sortProcessor),this.store.off("updated",this.updateStateFn),this.updateSortProcessorFn&&this.store.off("updated",this.updateSortProcessorFn)},n.updateState=function(){var t=this,r=this.store.state.find(function(l){return l.index===t.props.index});this.setState(r?{direction:r.direction}:{direction:0})},n.updateSortProcessor=function(t){this.sortProcessor.setProps({columns:t})},n.getOrCreateSortProcessor=function(){var t=pt.Sort;this.config.sort&&typeof this.config.sort.server=="object"&&(t=pt.ServerSort);var r,l=this.config.pipeline.getStepsByType(t);return l.length>0?r=l[0]:(this.updateSortProcessorFn=this.updateSortProcessor.bind(this),this.store.on("updated",this.updateSortProcessorFn),r=t===pt.ServerSort?new hf(Ve({columns:this.store.state},this.config.sort.server)):new cf({columns:this.store.state}),this.config.pipeline.register(r)),r},n.changeDirection=function(t){t.preventDefault(),t.stopPropagation(),this.actions.sortToggle(this.props.index,t.shiftKey===!0&&this.config.sort.multiColumn,this.props.compare)},n.render=function(){if(!this.props.enabled)return null;var t=this.state.direction,r="neutral";return t===1?r="asc":t===-1&&(r="desc"),_e("button",{tabIndex:-1,"aria-label":this._("sort.sort"+(t===1?"Desc":"Asc")),title:this._("sort.sort"+(t===1?"Desc":"Asc")),className:We(Be("sort"),Be("sort",r),this.config.className.sort),onClick:this.changeDirection.bind(this)})},e}(ht),mf=function(i){function e(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(t=i.call.apply(i,[this].concat(l))||this).moveFn=void 0,t.upFn=void 0,t}Se(e,i);var n=e.prototype;return n.getPageX=function(t){return t instanceof MouseEvent?Math.floor(t.pageX):Math.floor(t.changedTouches[0].pageX)},n.start=function(t){var r,l,a,s,o;t.stopPropagation(),this.setState({offsetStart:parseInt(this.props.thRef.current.style.width,10)-this.getPageX(t)}),this.upFn=this.end.bind(this),this.moveFn=(r=this.move.bind(this),(l=10)===void 0&&(l=100),function(){var c=[].slice.call(arguments);a?(clearTimeout(s),s=setTimeout(function(){Date.now()-o>=l&&(r.apply(void 0,c),o=Date.now())},Math.max(l-(Date.now()-o),0))):(r.apply(void 0,c),o=Date.now(),a=!0)}),document.addEventListener("mouseup",this.upFn),document.addEventListener("touchend",this.upFn),document.addEventListener("mousemove",this.moveFn),document.addEventListener("touchmove",this.moveFn)},n.move=function(t){t.stopPropagation();var r=this.props.thRef.current;this.state.offsetStart+this.getPageX(t)>=parseInt(r.style.minWidth,10)&&(r.style.width=this.state.offsetStart+this.getPageX(t)+"px")},n.end=function(t){t.stopPropagation(),document.removeEventListener("mouseup",this.upFn),document.removeEventListener("mousemove",this.moveFn),document.removeEventListener("touchmove",this.moveFn),document.removeEventListener("touchend",this.upFn)},n.render=function(){return _e("div",{className:We(Be("th"),Be("resizable")),onMouseDown:this.start.bind(this),onTouchStart:this.start.bind(this),onClick:function(t){return t.stopPropagation()}})},e}(ht),gf=function(i){function e(t,r){var l;return(l=i.call(this,t,r)||this).sortRef={current:null},l.thRef={current:null},l.state={style:{}},l}Se(e,i);var n=e.prototype;return n.isSortable=function(){return this.props.column.sort.enabled},n.isResizable=function(){return this.props.column.resizable},n.onClick=function(t){t.stopPropagation(),this.isSortable()&&this.sortRef.current.changeDirection(t)},n.keyDown=function(t){this.isSortable()&&t.which===13&&this.onClick(t)},n.componentDidMount=function(){var t=this;setTimeout(function(){if(t.props.column.fixedHeader&&t.thRef.current){var r=t.thRef.current.offsetTop;typeof r=="number"&&t.setState({style:{top:r}})}},0)},n.content=function(){return this.props.column.name!==void 0?this.props.column.name:this.props.column.plugin!==void 0?_e(Hi,{pluginId:this.props.column.plugin.id,props:{column:this.props.column}}):null},n.getCustomAttributes=function(){var t=this.props.column;return t?typeof t.attributes=="function"?t.attributes(null,null,this.props.column):t.attributes:{}},n.render=function(){var t={};return this.isSortable()&&(t.tabIndex=0),_e("th",Ve({ref:this.thRef,"data-column-id":this.props.column&&this.props.column.id,className:We(Be("th"),this.isSortable()?Be("th","sort"):null,this.props.column.fixedHeader?Be("th","fixed"):null,this.config.className.th),onClick:this.onClick.bind(this),style:Ve({},this.config.style.th,{minWidth:this.props.column.minWidth,width:this.props.column.width},this.state.style,this.props.style),onKeyDown:this.keyDown.bind(this),rowSpan:this.props.rowSpan>1?this.props.rowSpan:void 0,colSpan:this.props.colSpan>1?this.props.colSpan:void 0},this.getCustomAttributes(),t),_e("div",{className:Be("th","content")},this.content()),this.isSortable()&&_e(_f,Ve({ref:this.sortRef,index:this.props.index},this.props.column.sort)),this.isResizable()&&this.props.index<this.config.header.visibleColumns.length-1&&_e(mf,{column:this.props.column,thRef:this.thRef}))},e}(ht),vf=function(i){function e(){return i.apply(this,arguments)||this}Se(e,i);var n=e.prototype;return n.renderColumn=function(t,r,l,a){var s=function(o,c,u){var p=Zn.maximumDepth(o),k=u-c;return{rowSpan:Math.floor(k-p-p/k),colSpan:o.columns&&o.columns.length||1}}(t,r,a);return _e(gf,{column:t,index:l,colSpan:s.colSpan,rowSpan:s.rowSpan})},n.renderRow=function(t,r,l){var a=this,s=Zn.leafColumns(this.props.header.columns);return _e(gl,null,t.map(function(o){return o.hidden?null:a.renderColumn(o,r,s.indexOf(o),l)}))},n.renderRows=function(){var t=this,r=Zn.tabularFormat(this.props.header.columns);return r.map(function(l,a){return t.renderRow(l,a,r.length)})},n.render=function(){return this.props.header?_e("thead",{key:this.props.header.id,className:We(Be("thead"),this.config.className.thead)},this.renderRows()):null},e}(ht),bf=function(i){function e(){return i.apply(this,arguments)||this}return Se(e,i),e.prototype.render=function(){return _e("table",{role:"grid",className:We(Be("table"),this.config.className.table),style:Ve({},this.config.style.table,{height:this.props.height})},_e(vf,{header:this.props.header}),_e(uf,{data:this.props.data,status:this.props.status,header:this.props.header}))},e}(ht),kf=function(i){function e(t,r){var l;return(l=i.call(this,t,r)||this).headerRef={current:null},l.state={isActive:!0},l}Se(e,i);var n=e.prototype;return n.componentDidMount=function(){this.headerRef.current.children.length===0&&this.setState({isActive:!1})},n.render=function(){return this.state.isActive?_e("div",{ref:this.headerRef,className:We(Be("head"),this.config.className.header),style:Ve({},this.config.style.header)},_e(Hi,{position:pn.Header})):null},e}(ht),yf=function(i){function e(t,r){var l;return(l=i.call(this,t,r)||this).footerRef={current:null},l.state={isActive:!0},l}Se(e,i);var n=e.prototype;return n.componentDidMount=function(){this.footerRef.current.children.length===0&&this.setState({isActive:!1})},n.render=function(){return this.state.isActive?_e("div",{ref:this.footerRef,className:We(Be("footer"),this.config.className.footer),style:Ve({},this.config.style.footer)},_e(Hi,{position:pn.Footer})):null},e}(ht),$f=function(i){function e(t,r){var l;return(l=i.call(this,t,r)||this).configContext=void 0,l.processPipelineFn=void 0,l.configContext=function(a,s){var o={__c:s="__cC"+Go++,__:null,Consumer:function(c,u){return c.children(u)},Provider:function(c){var u,p;return this.getChildContext||(u=[],(p={})[s]=this,this.getChildContext=function(){return p},this.shouldComponentUpdate=function(k){this.props.value!==k.value&&u.some(ol)},this.sub=function(k){u.push(k);var _=k.componentWillUnmount;k.componentWillUnmount=function(){u.splice(u.indexOf(k),1),_&&_.call(k)}}),c.children}};return o.Provider.__=o.Consumer.contextType=o}(),l.state={status:Tt.Loading,header:t.header,data:null},l}Se(e,i);var n=e.prototype;return n.processPipeline=function(){try{var t=this;t.props.config.eventEmitter.emit("beforeLoad"),t.setState({status:Tt.Loading});var r=function(l,a){try{var s=Promise.resolve(t.props.pipeline.process()).then(function(o){t.setState({data:o,status:Tt.Loaded}),t.props.config.eventEmitter.emit("load",o)})}catch(o){return a(o)}return s&&s.then?s.then(void 0,a):s}(0,function(l){Ht.error(l),t.setState({status:Tt.Error,data:null})});return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(l){return Promise.reject(l)}},n.componentDidMount=function(){try{var t=this,r=t.props.config;return Promise.resolve(t.processPipeline()).then(function(){r.header&&t.state.data&&t.state.data.length&&t.setState({header:r.header.adjustWidth(r)}),t.processPipelineFn=t.processPipeline.bind(t),t.props.pipeline.on("updated",t.processPipelineFn)})}catch(l){return Promise.reject(l)}},n.componentWillUnmount=function(){this.props.pipeline.off("updated",this.processPipelineFn)},n.componentDidUpdate=function(t,r){r.status!=Tt.Rendered&&this.state.status==Tt.Loaded&&(this.setState({status:Tt.Rendered}),this.props.config.eventEmitter.emit("ready"))},n.render=function(){return _e(this.configContext.Provider,{value:this.props.config},_e("div",{role:"complementary",className:We("gridjs",Be("container"),this.state.status===Tt.Loading?Be("loading"):null,this.props.config.className.container),style:Ve({},this.props.config.style.container,{width:this.props.width})},this.state.status===Tt.Loading&&_e("div",{className:Be("loading-bar")}),_e(kf,null),_e("div",{className:Be("wrapper"),style:{height:this.props.height}},_e(bf,{ref:this.props.config.tableRef,data:this.state.data,header:this.state.header,width:this.props.width,height:this.props.height,status:this.state.status})),_e(yf,null),_e("div",{ref:this.props.config.tempRef,id:"gridjs-temp",className:Be("temp")})))},e}(ht),wf=function(i){function e(t){var r;return(r=i.call(this)||this).config=void 0,r.plugin=void 0,r.config=new ff({instance:oi(r),eventEmitter:oi(r)}).update(t),r.plugin=r.config.plugin,r}Se(e,i);var n=e.prototype;return n.updateConfig=function(t){return this.config.update(t),this},n.createElement=function(){return _e($f,{config:this.config,pipeline:this.config.pipeline,header:this.config.header,width:this.config.width,height:this.config.height})},n.forceRender=function(){return this.config&&this.config.container||Ht.error("Container is empty. Make sure you call render() before forceRender()",!0),this.config.pipeline.clearCache(),li(null,this.config.container),li(this.createElement(),this.config.container),this},n.render=function(t){return t||Ht.error("Container element cannot be null",!0),t.childNodes.length>0?(Ht.error("The container element "+t+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=t,li(this.createElement(),t),this)},e}(Mi),al=[],Os=Ie.__b,Ms=Ie.__r,Hs=Ie.diffed,Bs=Ie.__c,Us=Ie.unmount;function Ff(){al.forEach(function(i){if(i.__P)try{i.__H.__h.forEach(Di),i.__H.__h.forEach(fl),i.__H.__h=[]}catch(e){i.__H.__h=[],Ie.__e(e,i.__v)}}),al=[]}Ie.__b=function(i){Os&&Os(i)},Ie.__r=function(i){Ms&&Ms(i);var e=i.__c.__H;e&&(e.__h.forEach(Di),e.__h.forEach(fl),e.__h=[])},Ie.diffed=function(i){Hs&&Hs(i);var e=i.__c;e&&e.__H&&e.__H.__h.length&&(al.push(e)!==1&&As===Ie.requestAnimationFrame||((As=Ie.requestAnimationFrame)||function(n){var t,r=function(){clearTimeout(l),zs&&cancelAnimationFrame(t),setTimeout(n)},l=setTimeout(r,100);zs&&(t=requestAnimationFrame(r))})(Ff))},Ie.__c=function(i,e){e.some(function(n){try{n.__h.forEach(Di),n.__h=n.__h.filter(function(t){return!t.__||fl(t)})}catch(t){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Ie.__e(t,n.__v)}}),Bs&&Bs(i,e)},Ie.unmount=function(i){Us&&Us(i);var e=i.__c;if(e&&e.__H)try{e.__H.__.forEach(Di)}catch(n){Ie.__e(n,e.__v)}};var zs=typeof requestAnimationFrame=="function";function Di(i){typeof i.__c=="function"&&i.__c()}function fl(i){i.__c=i.__()}function Tf(i){let e;return{c(){e=v("article")},l(n){e=b(n,"ARTICLE",{}),R(e).forEach(f)},m(n,t){h(n,e,t),i[17](e)},p:Qe,i:Qe,o:Qe,d(n){n&&f(e),i[17](null)}}}function Ef(i,e,n){let t;const r=Lo();let{width:l="100%"}=e,{height:a="auto"}=e,{autoWidth:s=!0}=e,{fixedHeader:o=!1}=e,{resizable:c=!1}=e,{from:u=void 0}=e,{language:p=void 0}=e,{search:k=!1}=e,{sort:_=!1}=e,{pagination:D=!1}=e,{server:B=void 0}=e,{columns:T=void 0}=e,{data:N=void 0}=e,{style:E={}}=e,{className:w={}}=e;const F=new wf({from:u,data:N,columns:T,server:B,search:k,sort:_,pagination:D,language:p,width:l,height:a,autoWidth:s,fixedHeader:o,style:E,className:w,resizable:c});F.on("cellClick",(...A)=>r("cellClick",Object.assign({},A))),F.on("rowClick",(...A)=>r("rowClick",Object.assign({},A))),F.on("beforeLoad",(...A)=>r("beforeLoad",Object.assign({},A))),F.on("load",(...A)=>r("load",Object.assign({},A))),F.on("ready",(...A)=>r("ready",Object.assign({},A))),dl(()=>{t&&F.render(t)});function I(A){Ce[A?"unshift":"push"](()=>{t=A,n(0,t)})}return i.$$set=A=>{"width"in A&&n(1,l=A.width),"height"in A&&n(2,a=A.height),"autoWidth"in A&&n(3,s=A.autoWidth),"fixedHeader"in A&&n(4,o=A.fixedHeader),"resizable"in A&&n(5,c=A.resizable),"from"in A&&n(6,u=A.from),"language"in A&&n(7,p=A.language),"search"in A&&n(8,k=A.search),"sort"in A&&n(9,_=A.sort),"pagination"in A&&n(10,D=A.pagination),"server"in A&&n(11,B=A.server),"columns"in A&&n(12,T=A.columns),"data"in A&&n(13,N=A.data),"style"in A&&n(14,E=A.style),"className"in A&&n(15,w=A.className)},i.$$.update=()=>{i.$$.dirty&65535&&t&&F.updateConfig({from:u,data:N,columns:T,server:B,search:k,sort:_,pagination:D,language:p,width:l,height:a,autoWidth:s,fixedHeader:o,style:E,className:w,resizable:c}).forceRender()},[t,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I]}class js extends et{constructor(e){super(),tt(this,e,Ef,Tf,nt,{width:1,height:2,autoWidth:3,fixedHeader:4,resizable:5,from:6,language:7,search:8,sort:9,pagination:10,server:11,columns:12,data:13,style:14,className:15,instance:16})}get instance(){return this.$$.ctx[16]}}function Cf(i){let e,n;const t=i[4].default,r=Io(t,i,i[3],null);let l=[i[1],{class:i[0]}],a={};for(let s=0;s<l.length;s+=1)a=ll(a,l[s]);return{c(){e=v("div"),r&&r.c(),this.h()},l(s){e=b(s,"DIV",{class:!0});var o=R(e);r&&r.l(o),o.forEach(f),this.h()},h(){$s(e,a)},m(s,o){h(s,e,o),r&&r.m(e,null),n=!0},p(s,[o]){r&&r.p&&(!n||o&8)&&Po(r,t,s,s[3],n?Ao(t,s[3],o,null):Ro(s[3]),null),$s(e,a=ha(l,[o&2&&s[1],(!n||o&1)&&{class:s[0]}]))},i(s){n||(W(r,s),n=!0)},o(s){Y(r,s),n=!1},d(s){s&&f(e),r&&r.d(s)}}}function Sf(i,e,n){let t;const r=["class"];let l=ws(e,r),{$$slots:a={},$$scope:s}=e,{class:o=""}=e;return i.$$set=c=>{e=ll(ll({},e),_a(c)),n(1,l=ws(e,r)),"class"in c&&n(2,o=c.class),"$$scope"in c&&n(3,s=c.$$scope)},i.$$.update=()=>{i.$$.dirty&4&&n(0,t=ya(o,"card-footer"))},[t,l,o,s,a]}class sn extends et{constructor(e){super(),tt(this,e,Sf,Cf,nt,{class:2})}}var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const Qn=Ua([]);function Nf(i,e){const t=new DOMParser().parseFromString(e,"text/xml"),r=t.documentElement.getElementsByTagName("node"),l=[],a=[],s={id:0,label:1,nodeType:2};for(let B=0;B<r.length;B++)l.push([l.length,r[B].getAttribute("name")||r[B].getAttribute("id"),r[B].getAttribute("type")]),a.push(r[B].id);const o=[],c=new Uo(0,1,2),u=t.documentElement.getElementsByTagName("edge");let p,k,_,D;for(let B=0;B<u.length;B++)p=a.indexOf(u[B].getAttribute("source")||""),k=a.indexOf(u[B].getAttribute("target")||""),!(_==p&&D==k)&&(_=p,D=k,o.push([o.length,p,k]));return new Ri({name:i,nodeTable:l,linkTable:o,nodeSchema:s,linkSchema:c})}function Lf(i,e){const n=e.split(`
`),t=[],r={id:0,label:1},l=[],a={id:0,source:1,target:2,directed:3};let s="",o;for(let c=0;c<n.length;c++){if(o=n[c],o.indexOf("*Vertices")>-1){s="nodes";continue}else if(o.indexOf("*Arcs")>-1){s="undirectedLinks";continue}else if(o.indexOf("*Edges")>-1){s="directedLinks";continue}o=o.trim(),o=o.split(" ");for(let u=0;u<o.length;u)o[u].length==0?o.splice(u,1):u++;o.length!=0&&(s.indexOf("nodes")>-1?t.push([t.length,o[1]]):s.indexOf("undirectedLinks")>-1?l.push([l.length,parseInt(o[0])-1,parseInt(o[1])-1,!1]):s.indexOf("directedLinks")>-1&&l.push([l.length,parseInt(o[0])-1,parseInt(o[1])-1,!0]))}return new Ri({name:i,nodeTable:t,linkTable:l,nodeSchema:r,linkSchema:a})}function If(i,e){const n=[],t={id:0,label:1,nodeType:2},r=[],l={id:0,source:1,target:2},a=e.split(`
`);let s,o;const c=[],u=[],p=[],k=[],_=[],D=[];for(let E=0;E<a.length;E++)s=a[E].replace(/@/g,""),o=s.split(" "),!(o.length<3)&&(parseInt(o[0])==0&&o[2].indexOf("INDI")>-1?(c.push(o[1].trim()),u.push("")):parseInt(o[0])==1&&o[1].indexOf("SEX")>-1?u[u.length-1]=o[2].trim():parseInt(o[0])==0&&o[2].indexOf("FAM")>-1?(p.push(o[1].trim()),k.push([]),_.push(void 0),D.push(void 0)):parseInt(o[0])==1&&o[1].indexOf("CHIL")>-1?k[k.length-1].push(o[2].trim()):parseInt(o[0])==1&&o[1].indexOf("HUSB")>-1?_[k.length-1]=o[2].trim():parseInt(o[0])==1&&o[1].indexOf("WIFE")>-1&&(D[k.length-1]=o[2].trim()));for(let E=0;E<c.length;E++)n.push([E,c[E],u[E]]);let B,T,N;for(let E=0;E<p.length;E++){B=c.indexOf(_[E]),T=c.indexOf(D[E]),console.log("-->",B,T,_[E],D[E]);for(let w=0;w<k[E].length;w++)N=c.indexOf(k[E][w]),!(N==null||N==-1)&&(B!=null&&B>-1&&r.push([r.length,B,N]),T!=null&&T>-1&&r.push([r.length,T,N]))}return new Ri({name:i,nodeTable:n,linkTable:r,nodeSchema:t,linkSchema:l})}async function qs(i){if(!i)return[void 0,void 0];const e=i.split(",")[0].trim();if(!e)return[void 0,void 0];const n=`https://api.maptiler.com/geocoding/${e}.json?key=4JfMdMSpqOnXq9pxP8x4`,r=await(await fetch(n,{mode:"cors"})).json();if(r.features.length>0){const l=r.features[0];return[l.center[0],l.center[1]]}return[void 0,void 0]}const Pf=(i,e)=>{if(!e.locationTableConfig.usingLocationFile)return null;const n=i[e.locationTableConfig.selectedFile].data,t=i[e.locationTableConfig.selectedFile].hasHeaderRow,r=[];let l=!0;for(const a of n){if(l&&t){l=!1;continue}else if(a.every(u=>!u))continue;const s=a[e.locationTableConfig.fieldPlaceName],o=a[e.locationTableConfig.fieldLon],c=a[e.locationTableConfig.fieldLat];r[s]=[o,c]}return r},Rf=(i,e)=>{if(!e.nodeMetadataConfig.hasMetadata)return null;const n=i[e.nodeMetadataConfig.selectedFile].data,t=i[e.nodeMetadataConfig.selectedFile].hasHeaderRow,r=[];let l=!0;for(const a of n){if(l&&t){l=!1;continue}else if(a.every(c=>!c))continue;const s=a[e.nodeMetadataConfig.fieldNodeType],o=a[e.nodeMetadataConfig.fieldNodeId];r[o]=s}return console.log({nodeTypes:r}),r};async function Af(i,e,n){const t=si().session,r=new Date().getTime(),l=new Ho(r);if(l.name=i.name,Li(l,t),i.fileFormat!=="tabular")return;const a=[],s=[],o=[],c=new Ma(0);c.id=0,c.label=1;const u=new Uo(0,1,2),p=new Ha(0,1,2,3,4);if(i.linkDataType==="nodeTable"){l.directed=!0,u.linkType=3;const D=i.nodeTableConfig.fieldRelations,B=e[i.nodeTableConfig.selectedFile].data,T=e[i.nodeTableConfig.selectedFile].hasHeaderRow,N=[i.nodeTableConfig.fieldNode,...D.map(I=>I.field)],E=[],w=[];let F=!0;for(const I of B){if(F&&T){F=!1;continue}else if(I.every(A=>!A))continue;for(const A of N){const G=I[A];E.includes(G)||(E.push(G),w[G]=a.length,a.push([a.length,G]))}}F=!0;for(const I of B){if(F&&T){F=!1;continue}else if(I.every(A=>!A))continue;for(const A of D)s.push([s.length,w[I[i.nodeTableConfig.fieldNode]],w[I[A.field]],A.relation])}}else if(i.linkDataType==="linkTable"){l.directed=i.linkTableConfig.edgesAreDirected;const D=e[i.linkTableConfig.selectedFile].data,B=e[i.linkTableConfig.selectedFile].hasHeaderRow;i.linkTableConfig.fieldSourceId,i.linkTableConfig.fieldTargetId;const T=[],N=[],E=[],w=[],F=Ea(i.linkTableConfig.timeConfig.formatString),I=i.linkTableConfig.fieldLocationSource||i.linkTableConfig.fieldLocationTarget;let A=1;I&&(A++,c.location=A,i.linkTableConfig.timeConfig.timeField&&(A++,c.time=A));const G=Rf(e,i);G&&(A++,c.nodeType=A);const g=Pf(e,i),m=$=>($[i.linkTableConfig.fieldLocationSource]||"").trim(),z=$=>($[i.linkTableConfig.fieldLocationTarget]||"").trim();let j=!0;for(const $ of D){if(j&&B){j=!1;continue}else if($.every(O=>!O))continue;if(i.linkTableConfig.fieldLocationSource){const O=m($);if(!E.includes(O)){E.push(O),w[O]=o.length;const[V,te]=g?g[O]:await qs(O);o.push([o.length,O,O,V,te])}}if(i.linkTableConfig.fieldLocationTarget){const O=z($);if(!E.includes(O)){E.push(O),w[O]=o.length;const[V,te]=g?g[O]:await qs(O);o.push([o.length,O,O,V,te])}}let q=i.linkTableConfig.fieldSourceId,K=$[q];if(T.includes(K)){if(i.linkTableConfig.timeConfig.timeField){const O=[N[K],K];if(i.linkTableConfig.fieldLocationSource){O.push(w[m($)]);const V=$[i.linkTableConfig.timeConfig.timeField],te=ti(F(V));O.push(te)}G&&O.push(G[K]),a.push(O)}}else{T.push(K),N[K]=T.length-1;const O=[T.length-1,K];if(i.linkTableConfig.fieldLocationSource&&(O.push(w[m($)]),i.linkTableConfig.timeConfig.timeField)){const V=$[i.linkTableConfig.timeConfig.timeField],te=ti(F(V));O.push(te)}G&&O.push(G[K]),a.push(O)}if(q=i.linkTableConfig.fieldTargetId,K=$[q],T.includes(K)){if(i.linkTableConfig.timeConfig.timeField){const O=[N[K],K];if(i.linkTableConfig.fieldLocationTarget){O.push(w[z($)]);const V=$[i.linkTableConfig.timeConfig.timeField],te=ti(F(V));O.push(te)}G&&O.push(G[K]),a.push(O)}}else{T.push(K),N[K]=T.length-1;const O=[T.length-1,K];if(i.linkTableConfig.fieldLocationTarget&&(O.push(w[z($)]),i.linkTableConfig.timeConfig.timeField)){const V=$[i.linkTableConfig.timeConfig.timeField],te=ti(F(V));O.push(te)}G&&O.push(G[K]),a.push(O)}}let y=3;i.linkTableConfig.fieldLinkType&&(u.linkType=y,y++),i.linkTableConfig.fieldWeight&&(u.weight=y,y++),i.linkTableConfig.fieldLinkIsDirected&&(u.directed=y,y++),i.linkTableConfig.timeConfig.timeField&&(u.time=y,y++),j=!0;for(const $ of D){if(j&&B){j=!1;continue}else if($.every(K=>!K))continue;const q=[i.linkTableConfig.fieldLinkId?$[i.linkTableConfig.fieldLinkId]:s.length,N[$[i.linkTableConfig.fieldSourceId]],N[$[i.linkTableConfig.fieldTargetId]]];if(i.linkTableConfig.fieldLinkType&&q.push($[i.linkTableConfig.fieldLinkType]),i.linkTableConfig.fieldWeight&&q.push($[i.linkTableConfig.fieldWeight]),i.linkTableConfig.fieldLinkIsDirected&&q.push($[i.linkTableConfig.fieldLinkIsDirected]),i.linkTableConfig.timeConfig.timeField){const K=$[i.linkTableConfig.timeConfig.timeField],O=ti(F(K));q.push(O)}s.push(q)}}const k={name:l.name,nodeTable:a,linkTable:s,nodeSchema:c,linkSchema:u,locationTable:o,locationSchema:p,timeFormat:l.timeFormat,directed:l.directed},_=new Ri(k);l.ready=!0,l.userNodeTable={name:"userNodeTable",data:a},l.userNodeSchema={...c,relation:[]},l.userLinkTable={name:"userLinkTable",data:s},l.userLinkSchema={...u,location_source:-1,location_target:-1},l.userLocationTable={name:"userLocationTable",data:o},l.userLocationSchema=p,l.networkCubeDataSet=_,Li(l,t),zo(t,_),n()}function Of(i,e,n){let t;const r=e[i.networkFileConfig.selectedFile].data,l=i.networkFileConfig.selectedFile.toLowerCase();if(l.endsWith(".ged")?t=If(i.name,r):l.endsWith(".paj")||l.endsWith(".net")?t=Lf(i.name,r):(l.endsWith(".graphml")||l.endsWith(".xml"))&&(t=Nf(i.name,r)),t){const a=si().session,s=new Date().getTime(),o=new Ho(s);o.name=i.name,o.directed=!0,Li(o,a),o.ready=!0,o.userNodeTable={name:"userNodeTable",data:t.nodeTable},o.userNodeSchema={...t.nodeSchema,relation:[]},o.userLinkTable={name:"userLinkTable",data:t.linkTable},o.userLinkSchema={...t.linkSchema,location_source:-1,location_target:-1},o.networkCubeDataSet=t,Li(o,a),zo(a,t),n()}}function Mf(i){let e,n,t,r,l;return{c(){e=v("h4"),n=M("You are all set!"),t=C(),r=v("h6"),l=M("Your network has been imported successfully")},l(a){e=b(a,"H4",{});var s=R(e);n=H(s,"You are all set!"),s.forEach(f),t=S(a),r=b(a,"H6",{});var o=R(r);l=H(o,"Your network has been imported successfully"),o.forEach(f)},m(a,s){h(a,e,s),d(e,n),h(a,t,s),h(a,r,s),d(r,l)},d(a){a&&f(e),a&&f(t),a&&f(r)}}}function Hf(i){let e;return{c(){e=M("+ Create new network")},l(n){e=H(n,"+ Create new network")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Bf(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j,y,$,q,K,O,V,te,J,fe,me,ne,ce,ae,X,L,he,ke,se,ie,ue,we,ye,de,ve,pe,Ee,Ue,Le,Me,Oe,He;return ve=new Xe({props:{outline:!0,$$slots:{default:[Hf]},$$scope:{ctx:i}}}),ve.$on("click",i[12]),{c(){e=v("h4"),n=M("Select a visualization and start exploring:"),t=C(),r=v("br"),l=C(),a=v("div"),s=v("div"),o=v("img"),u=C(),p=v("p"),k=M("Node link"),_=C(),D=v("div"),B=v("img"),N=C(),E=v("p"),w=M("Matrix"),F=C(),I=v("div"),A=v("img"),g=C(),m=v("p"),z=M("Timeline"),j=C(),y=v("div"),$=v("img"),K=C(),O=v("p"),V=M("Map"),te=C(),J=v("div"),fe=v("img"),ne=C(),ce=v("p"),ae=M("Node-Link & map"),X=C(),L=v("br"),he=C(),ke=v("br"),se=C(),ie=v("h4"),ue=M("Or, import another network:"),we=C(),ye=v("br"),de=C(),Q(ve.$$.fragment),pe=C(),Ee=v("br"),Ue=C(),Le=v("br"),this.h()},l(re){e=b(re,"H4",{});var Fe=R(e);n=H(Fe,"Select a visualization and start exploring:"),Fe.forEach(f),t=S(re),r=b(re,"BR",{}),l=S(re),a=b(re,"DIV",{id:!0,style:!0,class:!0});var $e=R(a);s=b($e,"DIV",{class:!0});var Te=R(s);o=b(Te,"IMG",{src:!0,class:!0}),u=S(Te),p=b(Te,"P",{class:!0});var ze=R(p);k=H(ze,"Node link"),ze.forEach(f),Te.forEach(f),_=S($e),D=b($e,"DIV",{class:!0});var Je=R(D);B=b(Je,"IMG",{src:!0,class:!0}),N=S(Je),E=b(Je,"P",{class:!0});var rt=R(E);w=H(rt,"Matrix"),rt.forEach(f),Je.forEach(f),F=S($e),I=b($e,"DIV",{class:!0});var Ze=R(I);A=b(Ze,"IMG",{src:!0,class:!0}),g=S(Ze),m=b(Ze,"P",{class:!0});var Ge=R(m);z=H(Ge,"Timeline"),Ge.forEach(f),Ze.forEach(f),j=S($e),y=b($e,"DIV",{class:!0});var Et=R(y);$=b(Et,"IMG",{src:!0,class:!0}),K=S(Et),O=b(Et,"P",{class:!0});var ge=R(O);V=H(ge,"Map"),ge.forEach(f),Et.forEach(f),te=S($e),J=b($e,"DIV",{class:!0});var je=R(J);fe=b(je,"IMG",{src:!0,class:!0}),ne=S(je),ce=b(je,"P",{class:!0});var it=R(ce);ae=H(it,"Node-Link & map"),it.forEach(f),je.forEach(f),$e.forEach(f),X=S(re),L=b(re,"BR",{}),he=S(re),ke=b(re,"BR",{}),se=S(re),ie=b(re,"H4",{});var Ye=R(ie);ue=H(Ye,"Or, import another network:"),Ye.forEach(f),we=S(re),ye=b(re,"BR",{}),de=S(re),Z(ve.$$.fragment,re),pe=S(re),Ee=b(re,"BR",{}),Ue=S(re),Le=b(re,"BR",{}),this.h()},h(){Lt(o.src,c="/figures/nodelink.png")||U(o,"src",c),U(o,"class","svelte-qp8y0u"),U(p,"class","svelte-qp8y0u"),U(s,"class","svelte-qp8y0u"),Lt(B.src,T="/figures/matrix.png")||U(B,"src",T),U(B,"class","svelte-qp8y0u"),U(E,"class","svelte-qp8y0u"),U(D,"class","svelte-qp8y0u"),Lt(A.src,G="/figures/dynamicego.png")||U(A,"src",G),U(A,"class","svelte-qp8y0u"),U(m,"class","svelte-qp8y0u"),U(I,"class","svelte-qp8y0u"),Lt($.src,q="/figures/map.png")||U($,"src",q),U($,"class","svelte-qp8y0u"),U(O,"class","svelte-qp8y0u"),U(y,"class","svelte-qp8y0u"),Lt(fe.src,me="/figures/nl+mat.png")||U(fe,"src",me),U(fe,"class","svelte-qp8y0u"),U(ce,"class","svelte-qp8y0u"),U(J,"class","svelte-qp8y0u"),U(a,"id","visOptions"),ft(a,"display","grid"),ft(a,"grid-template-columns","1fr 1fr 1fr 1fr"),U(a,"class","svelte-qp8y0u")},m(re,Fe){h(re,e,Fe),d(e,n),h(re,t,Fe),h(re,r,Fe),h(re,l,Fe),h(re,a,Fe),d(a,s),d(s,o),d(s,u),d(s,p),d(p,k),d(a,_),d(a,D),d(D,B),d(D,N),d(D,E),d(E,w),d(a,F),d(a,I),d(I,A),d(I,g),d(I,m),d(m,z),d(a,j),d(a,y),d(y,$),d(y,K),d(y,O),d(O,V),d(a,te),d(a,J),d(J,fe),d(J,ne),d(J,ce),d(ce,ae),h(re,X,Fe),h(re,L,Fe),h(re,he,Fe),h(re,ke,Fe),h(re,se,Fe),h(re,ie,Fe),d(ie,ue),h(re,we,Fe),h(re,ye,Fe),h(re,de,Fe),x(ve,re,Fe),h(re,pe,Fe),h(re,Ee,Fe),h(re,Ue,Fe),h(re,Le,Fe),Me=!0,Oe||(He=[be(o,"click",i[7]),be(B,"click",i[8]),be(A,"click",i[9]),be($,"click",i[10]),be(fe,"click",i[11])],Oe=!0)},p(re,Fe){const $e={};Fe&262144&&($e.$$scope={dirty:Fe,ctx:re}),ve.$set($e)},i(re){Me||(W(ve.$$.fragment,re),Me=!0)},o(re){Y(ve.$$.fragment,re),Me=!1},d(re){re&&f(e),re&&f(t),re&&f(r),re&&f(l),re&&f(a),re&&f(X),re&&f(L),re&&f(he),re&&f(ke),re&&f(se),re&&f(ie),re&&f(we),re&&f(ye),re&&f(de),ee(ve,re),re&&f(pe),re&&f(Ee),re&&f(Ue),re&&f(Le),Oe=!1,wt(He)}}}function Uf(i){let e;return{c(){e=M("Previous")},l(n){e=H(n,"Previous")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function zf(i){let e,n;return e=new Xe({props:{style:"float: left",$$slots:{default:[Uf]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,r){const l={};r&262144&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function jf(i){let e,n,t,r,l,a;return e=new un({props:{$$slots:{default:[Mf]},$$scope:{ctx:i}}}),t=new ln({props:{$$slots:{default:[Bf]},$$scope:{ctx:i}}}),l=new sn({props:{$$slots:{default:[zf]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment),r=C(),Q(l.$$.fragment)},l(s){Z(e.$$.fragment,s),n=S(s),Z(t.$$.fragment,s),r=S(s),Z(l.$$.fragment,s)},m(s,o){x(e,s,o),h(s,n,o),x(t,s,o),h(s,r,o),x(l,s,o),a=!0},p(s,o){const c={};o&262144&&(c.$$scope={dirty:o,ctx:s}),e.$set(c);const u={};o&262144&&(u.$$scope={dirty:o,ctx:s}),t.$set(u);const p={};o&262147&&(p.$$scope={dirty:o,ctx:s}),l.$set(p)},i(s){a||(W(e.$$.fragment,s),W(t.$$.fragment,s),W(l.$$.fragment,s),a=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),Y(l.$$.fragment,s),a=!1},d(s){ee(e,s),s&&f(n),ee(t,s),s&&f(r),ee(l,s)}}}function qf(i){let e,n;return e=new rn({props:{class:"mb-3",style:"width: 100%",$$slots:{default:[jf]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[r]){const l={};r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function Wf(i,e,n){let t;pl(i,Qn,I=>n(15,t=I));let{settings:r,reloadNetworks:l,stage:a,previous_stage:s,next_stage:o}=e;async function c(I){const A=si().session;_||await p(r,t,l),window.location.href=`/${I}?session=${A}&datasetName=${r.name}`,_=!0;const G=jo(),g=G.nodes().size();Ae.event("dat_19","Network size","nodes",g);const m=G.links().size();Ae.event("dat_19","Network size","links",m)}async function u(I,A,G){_||await p(I,A,G),_=!0}async function p(I,A,G){I.fileFormat==="tabular"&&await Af(I,A,G),I.fileFormat==="network"&&await Of(I,A,G)}async function k(){await u(r,t,l),n(0,a="name"),_=!1}let _=!1;const D=()=>{c("nodelink"),Ae.event("vis_1","data view","Create Visualization","Node-Link")},B=()=>{c("matrix"),Ae.event("vis_1","data view","Create Visualization","Matrix")},T=()=>{c("dynamicego"),Ae.event("vis_1","data view","Create Visualization","Timeline")},N=()=>{c("map"),Ae.event("vis_1","data view","Create Visualization","Map")},E=()=>{c("mat-nl"),Ae.event("vis_1","data view","Create Visualization","Mat+Nl")},w=()=>k(),F=()=>n(0,a=s());return i.$$set=I=>{"settings"in I&&n(4,r=I.settings),"reloadNetworks"in I&&n(5,l=I.reloadNetworks),"stage"in I&&n(0,a=I.stage),"previous_stage"in I&&n(1,s=I.previous_stage),"next_stage"in I&&n(6,o=I.next_stage)},[a,s,c,k,r,l,o,D,B,T,N,E,w,F]}class Vf extends et{constructor(e){super(),tt(this,e,Wf,qf,nt,{settings:4,reloadNetworks:5,stage:0,previous_stage:1,next_stage:6})}}function Gf(i){let e,n;return{c(){e=v("h4"),n=M("What is the format of your data?")},l(t){e=b(t,"H4",{});var r=R(e);n=H(r,"What is the format of your data?"),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},d(t){t&&f(e)}}}function Ws(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g;return n=new xn({props:{icon:Ca}}),{c(){e=v("div"),Q(n.$$.fragment),t=C(),r=v("i"),l=M(`If your data is in Excel, export it to CSV. If you have multiple workbooks, export each as
					a separate file:`),a=C(),s=v("ul"),o=v("li"),c=M("in Microsoft Excel, click "),u=v("a"),p=M("File > Save As > Select file type \u2018CSV\u2019"),k=C(),_=v("li"),D=M("in Apple Numbers, click File -> Export to -> CSV"),B=C(),T=v("li"),N=M("in Google Sheets click File -> Download as -> Comma-separated values"),E=C(),w=v("li"),F=M("or you can create "),I=v("code"),A=M("CSV"),G=M(` by hand in
						any text editor.`),this.h()},l(m){e=b(m,"DIV",{});var z=R(e);Z(n.$$.fragment,z),t=S(z),r=b(z,"I",{});var j=R(r);l=H(j,`If your data is in Excel, export it to CSV. If you have multiple workbooks, export each as
					a separate file:`),j.forEach(f),a=S(z),s=b(z,"UL",{});var y=R(s);o=b(y,"LI",{});var $=R(o);c=H($,"in Microsoft Excel, click "),u=b($,"A",{href:!0});var q=R(u);p=H(q,"File > Save As > Select file type \u2018CSV\u2019"),q.forEach(f),$.forEach(f),k=S(y),_=b(y,"LI",{});var K=R(_);D=H(K,"in Apple Numbers, click File -> Export to -> CSV"),K.forEach(f),B=S(y),T=b(y,"LI",{});var O=R(T);N=H(O,"in Google Sheets click File -> Download as -> Comma-separated values"),O.forEach(f),E=S(y),w=b(y,"LI",{});var V=R(w);F=H(V,"or you can create "),I=b(V,"CODE",{class:!0});var te=R(I);A=H(te,"CSV"),te.forEach(f),G=H(V,` by hand in
						any text editor.`),V.forEach(f),y.forEach(f),z.forEach(f),this.h()},h(){U(u,"href","https://support.office.com/en-ie/article/import-or-export-text-txt-or-csv-files-5250ac4c-663c-47ce-937b-339e391393ba"),U(I,"class","language-plaintext highlighter-rouge")},m(m,z){h(m,e,z),x(n,e,null),d(e,t),d(e,r),d(r,l),d(e,a),d(e,s),d(s,o),d(o,c),d(o,u),d(u,p),d(s,k),d(s,_),d(_,D),d(s,B),d(s,T),d(T,N),d(s,E),d(s,w),d(w,F),d(w,I),d(I,A),d(w,G),g=!0},p:Qe,i(m){g||(W(n.$$.fragment,m),g=!0)},o(m){Y(n.$$.fragment,m),g=!1},d(m){m&&f(e),ee(n)}}}function Yf(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j=i[0]==="tabular"&&Ws();return{c(){e=v("br"),n=C(),t=v("h4"),r=M("Table Format"),l=C(),a=v("input"),s=M(`
		I have one or several files in a `),o=v("b"),c=M("tabular format"),u=M(` (e.g., spreadsheet, CSV, ...)
		`),p=v("br"),k=C(),j&&j.c(),_=C(),D=v("br"),B=C(),T=v("h4"),N=M("Other Format"),E=C(),w=v("input"),F=M(`
		2. I have a file in a specific `),I=v("b"),A=M("network format"),G=M(" (e.g., GEDCOM, PAJEK or GraphML (XML))"),this.h()},l(y){e=b(y,"BR",{}),n=S(y),t=b(y,"H4",{});var $=R(t);r=H($,"Table Format"),$.forEach(f),l=S(y),a=b(y,"INPUT",{type:!0}),s=H(y,`
		I have one or several files in a `),o=b(y,"B",{});var q=R(o);c=H(q,"tabular format"),q.forEach(f),u=H(y,` (e.g., spreadsheet, CSV, ...)
		`),p=b(y,"BR",{}),k=S(y),j&&j.l(y),_=S(y),D=b(y,"BR",{}),B=S(y),T=b(y,"H4",{});var K=R(T);N=H(K,"Other Format"),K.forEach(f),E=S(y),w=b(y,"INPUT",{type:!0}),F=H(y,`
		2. I have a file in a specific `),I=b(y,"B",{});var O=R(I);A=H(O,"network format"),O.forEach(f),G=H(y," (e.g., GEDCOM, PAJEK or GraphML (XML))"),this.h()},h(){U(a,"type","radio"),a.__value="tabular",a.value=a.__value,i[5][0].push(a),U(w,"type","radio"),w.__value="network",w.value=w.__value,i[5][0].push(w)},m(y,$){h(y,e,$),h(y,n,$),h(y,t,$),d(t,r),h(y,l,$),h(y,a,$),a.checked=a.__value===i[0],h(y,s,$),h(y,o,$),d(o,c),h(y,u,$),h(y,p,$),h(y,k,$),j&&j.m(y,$),h(y,_,$),h(y,D,$),h(y,B,$),h(y,T,$),d(T,N),h(y,E,$),h(y,w,$),w.checked=w.__value===i[0],h(y,F,$),h(y,I,$),d(I,A),h(y,G,$),g=!0,m||(z=[be(a,"change",i[4]),be(a,"click",i[6]),be(w,"change",i[7]),be(w,"click",i[8])],m=!0)},p(y,$){$&1&&(a.checked=a.__value===y[0]),y[0]==="tabular"?j?(j.p(y,$),$&1&&W(j,1)):(j=Ws(),j.c(),W(j,1),j.m(_.parentNode,_)):j&&(lt(),Y(j,1,1,()=>{j=null}),st()),$&1&&(w.checked=w.__value===y[0])},i(y){g||(W(j),g=!0)},o(y){Y(j),g=!1},d(y){y&&f(e),y&&f(n),y&&f(t),y&&f(l),y&&f(a),i[5][0].splice(i[5][0].indexOf(a),1),y&&f(s),y&&f(o),y&&f(u),y&&f(p),y&&f(k),j&&j.d(y),y&&f(_),y&&f(D),y&&f(B),y&&f(T),y&&f(E),y&&f(w),i[5][0].splice(i[5][0].indexOf(w),1),y&&f(F),y&&f(I),y&&f(G),m=!1,wt(z)}}}function Kf(i){let e;return{c(){e=M("Previous")},l(n){e=H(n,"Previous")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Xf(i){let e;return{c(){e=M("Next")},l(n){e=H(n,"Next")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Jf(i){let e,n,t,r;return e=new Xe({props:{style:"float: left",$$slots:{default:[Kf]},$$scope:{ctx:i}}}),e.$on("click",i[9]),t=new Xe({props:{style:"float: right",$$slots:{default:[Xf]},$$scope:{ctx:i}}}),t.$on("click",i[10]),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment)},l(l){Z(e.$$.fragment,l),n=S(l),Z(t.$$.fragment,l)},m(l,a){x(e,l,a),h(l,n,a),x(t,l,a),r=!0},p(l,a){const s={};a&2048&&(s.$$scope={dirty:a,ctx:l}),e.$set(s);const o={};a&2048&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(W(e.$$.fragment,l),W(t.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(t.$$.fragment,l),r=!1},d(l){ee(e,l),l&&f(n),ee(t,l)}}}function Qf(i){let e,n,t,r,l,a;return e=new un({props:{$$slots:{default:[Gf]},$$scope:{ctx:i}}}),t=new ln({props:{$$slots:{default:[Yf]},$$scope:{ctx:i}}}),l=new sn({props:{$$slots:{default:[Jf]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment),r=C(),Q(l.$$.fragment)},l(s){Z(e.$$.fragment,s),n=S(s),Z(t.$$.fragment,s),r=S(s),Z(l.$$.fragment,s)},m(s,o){x(e,s,o),h(s,n,o),x(t,s,o),h(s,r,o),x(l,s,o),a=!0},p(s,o){const c={};o&2048&&(c.$$scope={dirty:o,ctx:s}),e.$set(c);const u={};o&2049&&(u.$$scope={dirty:o,ctx:s}),t.$set(u);const p={};o&2062&&(p.$$scope={dirty:o,ctx:s}),l.$set(p)},i(s){a||(W(e.$$.fragment,s),W(t.$$.fragment,s),W(l.$$.fragment,s),a=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),Y(l.$$.fragment,s),a=!1},d(s){ee(e,s),s&&f(n),ee(t,s),s&&f(r),ee(l,s)}}}function Zf(i){let e,n;return e=new rn({props:{class:"mb-3",style:"width: 100%",title:"What is the format of your data?",$$slots:{default:[Qf]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[r]){const l={};r&2063&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function xf(i,e,n){let{fileFormat:t="network"}=e,{stage:r,previous_stage:l,next_stage:a}=e;const s=[[]];function o(){t=this.__value,n(0,t)}const c=()=>{Ae.event("dat_2_DT","data view","new network","Table Format")};function u(){t=this.__value,n(0,t)}const p=()=>{Ae.event("dat_2_DT","data view","new network","Other Format")},k=()=>n(1,r=l()),_=()=>n(1,r=a());return i.$$set=D=>{"fileFormat"in D&&n(0,t=D.fileFormat),"stage"in D&&n(1,r=D.stage),"previous_stage"in D&&n(2,l=D.previous_stage),"next_stage"in D&&n(3,a=D.next_stage)},[t,r,l,a,o,s,c,u,p,k,_]}class eu extends et{constructor(e){super(),tt(this,e,xf,Zf,nt,{fileFormat:0,stage:1,previous_stage:2,next_stage:3})}}var ca={exports:{}};/* @license
Papa Parse
v5.3.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(i,e){(function(n,t){i.exports=t()})(Df,function n(){var t=typeof self<"u"?self:typeof window<"u"?window:t!==void 0?t:{},r=!t.document&&!!t.postMessage,l=r&&/blob:/i.test((t.location||{}).protocol),a={},s=0,o={parse:function(g,m){var z=(m=m||{}).dynamicTyping||!1;if(G(z)&&(m.dynamicTypingFunction=z,z={}),m.dynamicTyping=z,m.transform=!!G(m.transform)&&m.transform,m.worker&&o.WORKERS_SUPPORTED){var j=function(){if(!o.WORKERS_SUPPORTED)return!1;var $=(K=t.URL||t.webkitURL||null,O=n.toString(),o.BLOB_URL||(o.BLOB_URL=K.createObjectURL(new Blob(["(",O,")();"],{type:"text/javascript"})))),q=new t.Worker($),K,O;return q.onmessage=E,q.id=s++,a[q.id]=q}();return j.userStep=m.step,j.userChunk=m.chunk,j.userComplete=m.complete,j.userError=m.error,m.step=G(m.step),m.chunk=G(m.chunk),m.complete=G(m.complete),m.error=G(m.error),delete m.worker,void j.postMessage({input:g,config:m,workerId:j.id})}var y=null;return o.NODE_STREAM_INPUT,typeof g=="string"?y=m.download?new p(m):new _(m):g.readable===!0&&G(g.read)&&G(g.on)?y=new D(m):(t.File&&g instanceof File||g instanceof Object)&&(y=new k(m)),y.stream(g)},unparse:function(g,m){var z=!1,j=!0,y=",",$=`\r
`,q='"',K=q+q,O=!1,V=null,te=!1;(function(){if(typeof m=="object"){if(typeof m.delimiter!="string"||o.BAD_DELIMITERS.filter(function(ne){return m.delimiter.indexOf(ne)!==-1}).length||(y=m.delimiter),(typeof m.quotes=="boolean"||typeof m.quotes=="function"||Array.isArray(m.quotes))&&(z=m.quotes),typeof m.skipEmptyLines!="boolean"&&typeof m.skipEmptyLines!="string"||(O=m.skipEmptyLines),typeof m.newline=="string"&&($=m.newline),typeof m.quoteChar=="string"&&(q=m.quoteChar),typeof m.header=="boolean"&&(j=m.header),Array.isArray(m.columns)){if(m.columns.length===0)throw new Error("Option columns is empty");V=m.columns}m.escapeChar!==void 0&&(K=m.escapeChar+q),typeof m.escapeFormulae=="boolean"&&(te=m.escapeFormulae)}})();var J=new RegExp(T(q),"g");if(typeof g=="string"&&(g=JSON.parse(g)),Array.isArray(g)){if(!g.length||Array.isArray(g[0]))return fe(null,g,O);if(typeof g[0]=="object")return fe(V||Object.keys(g[0]),g,O)}else if(typeof g=="object")return typeof g.data=="string"&&(g.data=JSON.parse(g.data)),Array.isArray(g.data)&&(g.fields||(g.fields=g.meta&&g.meta.fields),g.fields||(g.fields=Array.isArray(g.data[0])?g.fields:typeof g.data[0]=="object"?Object.keys(g.data[0]):[]),Array.isArray(g.data[0])||typeof g.data[0]=="object"||(g.data=[g.data])),fe(g.fields||[],g.data||[],O);throw new Error("Unable to serialize unrecognized input");function fe(ne,ce,ae){var X="";typeof ne=="string"&&(ne=JSON.parse(ne)),typeof ce=="string"&&(ce=JSON.parse(ce));var L=Array.isArray(ne)&&0<ne.length,he=!Array.isArray(ce[0]);if(L&&j){for(var ke=0;ke<ne.length;ke++)0<ke&&(X+=y),X+=me(ne[ke],ke);0<ce.length&&(X+=$)}for(var se=0;se<ce.length;se++){var ie=L?ne.length:ce[se].length,ue=!1,we=L?Object.keys(ce[se]).length===0:ce[se].length===0;if(ae&&!L&&(ue=ae==="greedy"?ce[se].join("").trim()==="":ce[se].length===1&&ce[se][0].length===0),ae==="greedy"&&L){for(var ye=[],de=0;de<ie;de++){var ve=he?ne[de]:de;ye.push(ce[se][ve])}ue=ye.join("").trim()===""}if(!ue){for(var pe=0;pe<ie;pe++){0<pe&&!we&&(X+=y);var Ee=L&&he?ne[pe]:pe;X+=me(ce[se][Ee],pe)}se<ce.length-1&&(!ae||0<ie&&!we)&&(X+=$)}}return X}function me(ne,ce){if(ne==null)return"";if(ne.constructor===Date)return JSON.stringify(ne).slice(1,25);te===!0&&typeof ne=="string"&&ne.match(/^[=+\-@].*$/)!==null&&(ne="'"+ne);var ae=ne.toString().replace(J,K),X=typeof z=="boolean"&&z||typeof z=="function"&&z(ne,ce)||Array.isArray(z)&&z[ce]||function(L,he){for(var ke=0;ke<he.length;ke++)if(-1<L.indexOf(he[ke]))return!0;return!1}(ae,o.BAD_DELIMITERS)||-1<ae.indexOf(y)||ae.charAt(0)===" "||ae.charAt(ae.length-1)===" ";return X?q+ae+q:ae}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r",`
`,'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!r&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=N,o.ParserHandle=B,o.NetworkStreamer=p,o.FileStreamer=k,o.StringStreamer=_,o.ReadableStreamStreamer=D,t.jQuery){var c=t.jQuery;c.fn.parse=function(g){var m=g.config||{},z=[];return this.each(function($){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&t.FileReader)||!this.files||this.files.length===0)return!0;for(var q=0;q<this.files.length;q++)z.push({file:this.files[q],inputElem:this,instanceConfig:c.extend({},m)})}),j(),this;function j(){if(z.length!==0){var $,q,K,O,V=z[0];if(G(g.before)){var te=g.before(V.file,V.inputElem);if(typeof te=="object"){if(te.action==="abort")return $="AbortError",q=V.file,K=V.inputElem,O=te.reason,void(G(g.error)&&g.error({name:$},q,K,O));if(te.action==="skip")return void y();typeof te.config=="object"&&(V.instanceConfig=c.extend(V.instanceConfig,te.config))}else if(te==="skip")return void y()}var J=V.instanceConfig.complete;V.instanceConfig.complete=function(fe){G(J)&&J(fe,V.file,V.inputElem),y()},o.parse(V.file,V.instanceConfig)}else G(g.complete)&&g.complete()}function y(){z.splice(0,1),j()}}}function u(g){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(m){var z=I(m);z.chunkSize=parseInt(z.chunkSize),m.step||m.chunk||(z.chunkSize=null),this._handle=new B(z),(this._handle.streamer=this)._config=z}.call(this,g),this.parseChunk=function(m,z){if(this.isFirstChunk&&G(this._config.beforeFirstChunk)){var j=this._config.beforeFirstChunk(m);j!==void 0&&(m=j)}this.isFirstChunk=!1,this._halted=!1;var y=this._partialLine+m;this._partialLine="";var $=this._handle.parse(y,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var q=$.meta.cursor;this._finished||(this._partialLine=y.substring(q-this._baseIndex),this._baseIndex=q),$&&$.data&&(this._rowCount+=$.data.length);var K=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(l)t.postMessage({results:$,workerId:o.WORKER_ID,finished:K});else if(G(this._config.chunk)&&!z){if(this._config.chunk($,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);$=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat($.data),this._completeResults.errors=this._completeResults.errors.concat($.errors),this._completeResults.meta=$.meta),this._completed||!K||!G(this._config.complete)||$&&$.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),K||$&&$.meta.paused||this._nextChunk(),$}this._halted=!0},this._sendError=function(m){G(this._config.error)?this._config.error(m):l&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:m,finished:!1})}}function p(g){var m;(g=g||{}).chunkSize||(g.chunkSize=o.RemoteChunkSize),u.call(this,g),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(m=new XMLHttpRequest,this._config.withCredentials&&(m.withCredentials=this._config.withCredentials),r||(m.onload=A(this._chunkLoaded,this),m.onerror=A(this._chunkError,this)),m.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var z=this._config.downloadRequestHeaders;for(var j in z)m.setRequestHeader(j,z[j])}if(this._config.chunkSize){var y=this._start+this._config.chunkSize-1;m.setRequestHeader("Range","bytes="+this._start+"-"+y)}try{m.send(this._config.downloadRequestBody)}catch($){this._chunkError($.message)}r&&m.status===0&&this._chunkError()}},this._chunkLoaded=function(){m.readyState===4&&(m.status<200||400<=m.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:m.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(z){var j=z.getResponseHeader("Content-Range");return j===null?-1:parseInt(j.substring(j.lastIndexOf("/")+1))}(m),this.parseChunk(m.responseText)))},this._chunkError=function(z){var j=m.statusText||z;this._sendError(new Error(j))}}function k(g){var m,z;(g=g||{}).chunkSize||(g.chunkSize=o.LocalChunkSize),u.call(this,g);var j=typeof FileReader<"u";this.stream=function(y){this._input=y,z=y.slice||y.webkitSlice||y.mozSlice,j?((m=new FileReader).onload=A(this._chunkLoaded,this),m.onerror=A(this._chunkError,this)):m=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var y=this._input;if(this._config.chunkSize){var $=Math.min(this._start+this._config.chunkSize,this._input.size);y=z.call(y,this._start,$)}var q=m.readAsText(y,this._config.encoding);j||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(y.target.result)},this._chunkError=function(){this._sendError(m.error)}}function _(g){var m;u.call(this,g=g||{}),this.stream=function(z){return m=z,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var z,j=this._config.chunkSize;return j?(z=m.substring(0,j),m=m.substring(j)):(z=m,m=""),this._finished=!m,this.parseChunk(z)}}}function D(g){u.call(this,g=g||{});var m=[],z=!0,j=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(y){this._input=y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&m.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),m.length?this.parseChunk(m.shift()):z=!0},this._streamData=A(function(y){try{m.push(typeof y=="string"?y:y.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(m.shift()))}catch($){this._streamError($)}},this),this._streamError=A(function(y){this._streamCleanUp(),this._sendError(y)},this),this._streamEnd=A(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=A(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function B(g){var m,z,j,y=Math.pow(2,53),$=-y,q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,O=this,V=0,te=0,J=!1,fe=!1,me=[],ne={data:[],errors:[],meta:{}};if(G(g.step)){var ce=g.step;g.step=function(se){if(ne=se,L())X();else{if(X(),ne.data.length===0)return;V+=se.data.length,g.preview&&V>g.preview?z.abort():(ne.data=ne.data[0],ce(ne,O))}}}function ae(se){return g.skipEmptyLines==="greedy"?se.join("").trim()==="":se.length===1&&se[0].length===0}function X(){if(ne&&j&&(ke("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),j=!1),g.skipEmptyLines)for(var se=0;se<ne.data.length;se++)ae(ne.data[se])&&ne.data.splice(se--,1);return L()&&function(){if(!ne)return;function ie(we,ye){G(g.transformHeader)&&(we=g.transformHeader(we,ye)),me.push(we)}if(Array.isArray(ne.data[0])){for(var ue=0;L()&&ue<ne.data.length;ue++)ne.data[ue].forEach(ie);ne.data.splice(0,1)}else ne.data.forEach(ie)}(),function(){if(!ne||!g.header&&!g.dynamicTyping&&!g.transform)return ne;function ie(we,ye){var de,ve=g.header?{}:[];for(de=0;de<we.length;de++){var pe=de,Ee=we[de];g.header&&(pe=de>=me.length?"__parsed_extra":me[de]),g.transform&&(Ee=g.transform(Ee,pe)),Ee=he(pe,Ee),pe==="__parsed_extra"?(ve[pe]=ve[pe]||[],ve[pe].push(Ee)):ve[pe]=Ee}return g.header&&(de>me.length?ke("FieldMismatch","TooManyFields","Too many fields: expected "+me.length+" fields but parsed "+de,te+ye):de<me.length&&ke("FieldMismatch","TooFewFields","Too few fields: expected "+me.length+" fields but parsed "+de,te+ye)),ve}var ue=1;return!ne.data.length||Array.isArray(ne.data[0])?(ne.data=ne.data.map(ie),ue=ne.data.length):ne.data=ie(ne.data,0),g.header&&ne.meta&&(ne.meta.fields=me),te+=ue,ne}()}function L(){return g.header&&me.length===0}function he(se,ie){return ue=se,g.dynamicTypingFunction&&g.dynamicTyping[ue]===void 0&&(g.dynamicTyping[ue]=g.dynamicTypingFunction(ue)),(g.dynamicTyping[ue]||g.dynamicTyping)===!0?ie==="true"||ie==="TRUE"||ie!=="false"&&ie!=="FALSE"&&(function(we){if(q.test(we)){var ye=parseFloat(we);if($<ye&&ye<y)return!0}return!1}(ie)?parseFloat(ie):K.test(ie)?new Date(ie):ie===""?null:ie):ie;var ue}function ke(se,ie,ue,we){var ye={type:se,code:ie,message:ue};we!==void 0&&(ye.row=we),ne.errors.push(ye)}this.parse=function(se,ie,ue){var we=g.quoteChar||'"';if(g.newline||(g.newline=function(ve,pe){ve=ve.substring(0,1048576);var Ee=new RegExp(T(pe)+"([^]*?)"+T(pe),"gm"),Ue=(ve=ve.replace(Ee,"")).split("\r"),Le=ve.split(`
`),Me=1<Le.length&&Le[0].length<Ue[0].length;if(Ue.length===1||Me)return`
`;for(var Oe=0,He=0;He<Ue.length;He++)Ue[He][0]===`
`&&Oe++;return Oe>=Ue.length/2?`\r
`:"\r"}(se,we)),j=!1,g.delimiter)G(g.delimiter)&&(g.delimiter=g.delimiter(se),ne.meta.delimiter=g.delimiter);else{var ye=function(ve,pe,Ee,Ue,Le){var Me,Oe,He,re;Le=Le||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var Fe=0;Fe<Le.length;Fe++){var $e=Le[Fe],Te=0,ze=0,Je=0;He=void 0;for(var rt=new N({comments:Ue,delimiter:$e,newline:pe,preview:10}).parse(ve),Ze=0;Ze<rt.data.length;Ze++)if(Ee&&ae(rt.data[Ze]))Je++;else{var Ge=rt.data[Ze].length;ze+=Ge,He!==void 0?0<Ge&&(Te+=Math.abs(Ge-He),He=Ge):He=Ge}0<rt.data.length&&(ze/=rt.data.length-Je),(Oe===void 0||Te<=Oe)&&(re===void 0||re<ze)&&1.99<ze&&(Oe=Te,Me=$e,re=ze)}return{successful:!!(g.delimiter=Me),bestDelimiter:Me}}(se,g.newline,g.skipEmptyLines,g.comments,g.delimitersToGuess);ye.successful?g.delimiter=ye.bestDelimiter:(j=!0,g.delimiter=o.DefaultDelimiter),ne.meta.delimiter=g.delimiter}var de=I(g);return g.preview&&g.header&&de.preview++,m=se,z=new N(de),ne=z.parse(m,ie,ue),X(),J?{meta:{paused:!0}}:ne||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,z.abort(),m=G(g.chunk)?"":m.substring(z.getCharIndex())},this.resume=function(){O.streamer._halted?(J=!1,O.streamer.parseChunk(m,!0)):setTimeout(O.resume,3)},this.aborted=function(){return fe},this.abort=function(){fe=!0,z.abort(),ne.meta.aborted=!0,G(g.complete)&&g.complete(ne),m=""}}function T(g){return g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N(g){var m,z=(g=g||{}).delimiter,j=g.newline,y=g.comments,$=g.step,q=g.preview,K=g.fastMode,O=m=g.quoteChar===void 0?'"':g.quoteChar;if(g.escapeChar!==void 0&&(O=g.escapeChar),(typeof z!="string"||-1<o.BAD_DELIMITERS.indexOf(z))&&(z=","),y===z)throw new Error("Comment character same as delimiter");y===!0?y="#":(typeof y!="string"||-1<o.BAD_DELIMITERS.indexOf(y))&&(y=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var V=0,te=!1;this.parse=function(J,fe,me){if(typeof J!="string")throw new Error("Input must be a string");var ne=J.length,ce=z.length,ae=j.length,X=y.length,L=G($),he=[],ke=[],se=[],ie=V=0;if(!J)return re();if(K||K!==!1&&J.indexOf(m)===-1){for(var ue=J.split(j),we=0;we<ue.length;we++){if(se=ue[we],V+=se.length,we!==ue.length-1)V+=j.length;else if(me)return re();if(!y||se.substring(0,X)!==y){if(L){if(he=[],Le(se.split(z)),Fe(),te)return re()}else Le(se.split(z));if(q&&q<=we)return he=he.slice(0,q),re(!0)}}return re()}for(var ye=J.indexOf(z,V),de=J.indexOf(j,V),ve=new RegExp(T(O)+T(m),"g"),pe=J.indexOf(m,V);;)if(J[V]!==m)if(y&&se.length===0&&J.substring(V,V+X)===y){if(de===-1)return re();V=de+ae,de=J.indexOf(j,V),ye=J.indexOf(z,V)}else if(ye!==-1&&(ye<de||de===-1))se.push(J.substring(V,ye)),V=ye+ce,ye=J.indexOf(z,V);else{if(de===-1)break;if(se.push(J.substring(V,de)),He(de+ae),L&&(Fe(),te))return re();if(q&&he.length>=q)return re(!0)}else for(pe=V,V++;;){if((pe=J.indexOf(m,pe+1))===-1)return me||ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:he.length,index:V}),Oe();if(pe===ne-1)return Oe(J.substring(V,pe).replace(ve,m));if(m!==O||J[pe+1]!==O){if(m===O||pe===0||J[pe-1]!==O){ye!==-1&&ye<pe+1&&(ye=J.indexOf(z,pe+1)),de!==-1&&de<pe+1&&(de=J.indexOf(j,pe+1));var Ee=Me(de===-1?ye:Math.min(ye,de));if(J[pe+1+Ee]===z){se.push(J.substring(V,pe).replace(ve,m)),J[V=pe+1+Ee+ce]!==m&&(pe=J.indexOf(m,V)),ye=J.indexOf(z,V),de=J.indexOf(j,V);break}var Ue=Me(de);if(J.substring(pe+1+Ue,pe+1+Ue+ae)===j){if(se.push(J.substring(V,pe).replace(ve,m)),He(pe+1+Ue+ae),ye=J.indexOf(z,V),pe=J.indexOf(m,V),L&&(Fe(),te))return re();if(q&&he.length>=q)return re(!0);break}ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:he.length,index:V}),pe++}}else pe++}return Oe();function Le($e){he.push($e),ie=V}function Me($e){var Te=0;if($e!==-1){var ze=J.substring(pe+1,$e);ze&&ze.trim()===""&&(Te=ze.length)}return Te}function Oe($e){return me||($e===void 0&&($e=J.substring(V)),se.push($e),V=ne,Le(se),L&&Fe()),re()}function He($e){V=$e,Le(se),se=[],de=J.indexOf(j,V)}function re($e){return{data:he,errors:ke,meta:{delimiter:z,linebreak:j,aborted:te,truncated:!!$e,cursor:ie+(fe||0)}}}function Fe(){$(re()),he=[],ke=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return V}}function E(g){var m=g.data,z=a[m.workerId],j=!1;if(m.error)z.userError(m.error,m.file);else if(m.results&&m.results.data){var y={abort:function(){j=!0,w(m.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:F,resume:F};if(G(z.userStep)){for(var $=0;$<m.results.data.length&&(z.userStep({data:m.results.data[$],errors:m.results.errors,meta:m.results.meta},y),!j);$++);delete m.results}else G(z.userChunk)&&(z.userChunk(m.results,y,m.file),delete m.results)}m.finished&&!j&&w(m.workerId,m.results)}function w(g,m){var z=a[g];G(z.userComplete)&&z.userComplete(m),z.terminate(),delete a[g]}function F(){throw new Error("Not implemented.")}function I(g){if(typeof g!="object"||g===null)return g;var m=Array.isArray(g)?[]:{};for(var z in g)m[z]=I(g[z]);return m}function A(g,m){return function(){g.apply(m,arguments)}}function G(g){return typeof g=="function"}return l&&(t.onmessage=function(g){var m=g.data;if(o.WORKER_ID===void 0&&m&&(o.WORKER_ID=m.workerId),typeof m.input=="string")t.postMessage({workerId:o.WORKER_ID,results:o.parse(m.input,m.config),finished:!0});else if(t.File&&m.input instanceof File||m.input instanceof Object){var z=o.parse(m.input,m.config);z&&t.postMessage({workerId:o.WORKER_ID,results:z,finished:!0})}}),(p.prototype=Object.create(u.prototype)).constructor=p,(k.prototype=Object.create(u.prototype)).constructor=k,(_.prototype=Object.create(_.prototype)).constructor=_,(D.prototype=Object.create(u.prototype)).constructor=D,o})})(ca);const tu=ca.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fi(i,e,n,t){function r(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function s(u){try{c(t.next(u))}catch(p){a(p)}}function o(u){try{c(t.throw(u))}catch(p){a(p)}}function c(u){u.done?l(u.value):r(u.value).then(s,o)}c((t=t.apply(i,e||[])).next())})}function ui(i,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},t,r,l,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return o([c,u])}}function o(c){if(t)throw new TypeError("Generator is already executing.");for(;n;)try{if(t=1,r&&(l=c[0]&2?r.return:c[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,c[1])).done)return l;switch(r=0,l&&(c=[c[0]&2,l.value]),c[0]){case 0:case 1:l=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!l||c[1]>l[0]&&c[1]<l[3])){n.label=c[1];break}if(c[0]===6&&n.label<l[1]){n.label=l[1],l=c;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(c);break}l[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(i,n)}catch(u){c=[6,u],r=0}finally{t=l=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function nu(i,e){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var t=n.call(i),r,l=[],a;try{for(;(e===void 0||e-- >0)&&!(r=t.next()).done;)l.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(a)throw a.error}}return l}function iu(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(nu(arguments[e]));return i}var ru=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Bi(i,e){var n=lu(i);if(typeof n.path!="string"){var t=i.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof t=="string"&&t.length>0?t:i.name,writable:!1,configurable:!1,enumerable:!0})}return n}function lu(i){var e=i.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!i.type){var t=e.split(".").pop().toLowerCase(),r=ru.get(t);r&&Object.defineProperty(i,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return i}var su=[".DS_Store","Thumbs.db"];function ou(i){return fi(this,void 0,void 0,function(){return ui(this,function(e){return[2,au(i)&&i.dataTransfer?cu(i.dataTransfer,i.type):fu(i)]})})}function au(i){return!!i.dataTransfer}function fu(i){var e=uu(i.target)?i.target.files?ul(i.target.files):[]:[];return e.map(function(n){return Bi(n)})}function uu(i){return i!==null}function cu(i,e){return fi(this,void 0,void 0,function(){var n,t;return ui(this,function(r){switch(r.label){case 0:return i.items?(n=ul(i.items).filter(function(l){return l.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(du))]):[3,2];case 1:return t=r.sent(),[2,Vs(da(t))];case 2:return[2,Vs(ul(i.files).map(function(l){return Bi(l)}))]}})})}function Vs(i){return i.filter(function(e){return su.indexOf(e.name)===-1})}function ul(i){for(var e=[],n=0;n<i.length;n++){var t=i[n];e.push(t)}return e}function du(i){if(typeof i.webkitGetAsEntry!="function")return Gs(i);var e=i.webkitGetAsEntry();return e&&e.isDirectory?pa(e):Gs(i)}function da(i){return i.reduce(function(e,n){return iu(e,Array.isArray(n)?da(n):[n])},[])}function Gs(i){var e=i.getAsFile();if(!e)return Promise.reject(i+" is not a File");var n=Bi(e);return Promise.resolve(n)}function pu(i){return fi(this,void 0,void 0,function(){return ui(this,function(e){return[2,i.isDirectory?pa(i):hu(i)]})})}function pa(i){var e=i.createReader();return new Promise(function(n,t){var r=[];function l(){var a=this;e.readEntries(function(s){return fi(a,void 0,void 0,function(){var o,c,u;return ui(this,function(p){switch(p.label){case 0:if(s.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=p.sent(),n(o),[3,4];case 3:return c=p.sent(),t(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(s.map(pu)),r.push(u),l(),p.label=6;case 6:return[2]}})})},function(s){t(s)})}l()})}function hu(i){return fi(this,void 0,void 0,function(){return ui(this,function(e){return[2,new Promise(function(n,t){i.file(function(r){var l=Bi(r,i.fullPath);n(l)},function(r){t(r)})})]})})}function _u(i,e){if(i&&e){const n=Array.isArray(e)?e:e.split(","),t=i.name||"",r=(i.type||"").toLowerCase(),l=r.replace(/\/.*$/,"");return n.some(a=>{const s=a.trim().toLowerCase();return s.charAt(0)==="."?t.toLowerCase().endsWith(s):s.endsWith("/*")?l===s.replace(/\/.*$/,""):r===s})}return!0}const mu="file-invalid-type",gu="file-too-large",vu="file-too-small",bu="too-many-files",ku=i=>{i=Array.isArray(i)&&i.length===1?i[0]:i;const e=Array.isArray(i)?`one of ${i.join(", ")}`:i;return{code:mu,message:`File type must be ${e}`}},Ys=i=>({code:gu,message:`File is larger than ${i} bytes`}),Ks=i=>({code:vu,message:`File is smaller than ${i} bytes`}),yu={code:bu,message:"Too many files"};function $u(i,e){const n=i.type==="application/x-moz-file"||_u(i,e);return[n,n?null:ku(e)]}function wu(i,e,n){if(ni(i.size))if(ni(e)&&ni(n)){if(i.size>n)return[!1,Ys(n)];if(i.size<e)return[!1,Ks(e)]}else{if(ni(e)&&i.size<e)return[!1,Ks(e)];if(ni(n)&&i.size>n)return[!1,Ys(n)]}return[!0,null]}function ni(i){return i!=null}function Xs(i){return typeof i.isPropagationStopped=="function"?i.isPropagationStopped():typeof i.cancelBubble<"u"?i.cancelBubble:!1}function Ei(i){return i.dataTransfer?Array.prototype.some.call(i.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!i.target&&!!i.target.files}function Js(i){i.preventDefault()}function Fu(i){return i.indexOf("MSIE")!==-1||i.indexOf("Trident/")!==-1}function Tu(i){return i.indexOf("Edge/")!==-1}function Eu(i=window.navigator.userAgent){return Fu(i)||Tu(i)}function Cu(i){let e,n;return{c(){e=v("p"),n=M("Drag 'n' drop some files here, or click to select files")},l(t){e=b(t,"P",{});var r=R(e);n=H(r,"Drag 'n' drop some files here, or click to select files"),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},d(t){t&&f(e)}}}function Su(i){let e,n,t,r,l,a,s;const o=i[28].default,c=Io(o,i,i[27],null),u=c||Cu();return{c(){e=v("div"),n=v("input"),t=C(),u&&u.c(),this.h()},l(p){e=b(p,"DIV",{tabindex:!0,class:!0,style:!0});var k=R(e);n=b(k,"INPUT",{accept:!0,type:!0,autocomplete:!0,tabindex:!0,style:!0}),t=S(k),u&&u.l(k),k.forEach(f),this.h()},h(){U(n,"accept",i[0]),n.multiple=i[1],U(n,"type","file"),U(n,"autocomplete","off"),U(n,"tabindex","-1"),ft(n,"display","none"),U(e,"tabindex","0"),U(e,"class",r=(i[4]?"":"dropzone")+" "+i[2]+" svelte-817dg2"),U(e,"style",i[3])},m(p,k){h(p,e,k),d(e,n),i[29](n),d(e,t),u&&u.m(e,null),i[30](e),l=!0,a||(s=[be(n,"change",i[14]),be(n,"click",Du),be(e,"keydown",i[16](i[7])),be(e,"focus",i[16](i[8])),be(e,"blur",i[16](i[9])),be(e,"click",i[15](i[10])),be(e,"dragenter",i[17](i[11])),be(e,"dragover",i[17](i[12])),be(e,"dragleave",i[17](i[13])),be(e,"drop",i[17](i[14]))],a=!0)},p(p,k){(!l||k[0]&1)&&U(n,"accept",p[0]),(!l||k[0]&2)&&(n.multiple=p[1]),c&&c.p&&(!l||k[0]&134217728)&&Po(c,o,p,p[27],l?Ao(o,p[27],k,null):Ro(p[27]),null),(!l||k[0]&20&&r!==(r=(p[4]?"":"dropzone")+" "+p[2]+" svelte-817dg2"))&&U(e,"class",r),(!l||k[0]&8)&&U(e,"style",p[3])},i(p){l||(W(u,p),l=!0)},o(p){Y(u,p),l=!1},d(p){p&&f(e),i[29](null),u&&u.d(p),i[30](null),a=!1,wt(s)}}}function Du(i){i.stopPropagation()}function Nu(i,e,n){let{$$slots:t={},$$scope:r}=e,{accept:l}=e,{disabled:a=!1}=e,{getFilesFromEvent:s=ou}=e,{maxSize:o=1/0}=e,{minSize:c=0}=e,{multiple:u=!0}=e,{preventDropOnDocument:p=!0}=e,{noClick:k=!1}=e,{noKeyboard:_=!1}=e,{noDrag:D=!1}=e,{noDragEventsBubbling:B=!1}=e,{containerClasses:T=""}=e,{containerStyles:N=""}=e,{disableDefaultStyles:E=!1}=e;const w=Lo();let F={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},I,A;function G(){F.isFileDialogActive=!1,F.isDragActive=!1,F.draggedFiles=[],F.acceptedFiles=[],F.fileRejections=[]}function g(){A&&(n(6,A.value=null,A),F.isFileDialogActive=!0,A.click())}function m(L){!I||!I.isEqualNode(L.target)||(L.keyCode===32||L.keyCode===13)&&(L.preventDefault(),g())}function z(){F.isFocused=!0}function j(){F.isFocused=!1}function y(){k||(Eu()?setTimeout(g,0):g())}function $(L){L.preventDefault(),fe(L),me=[...me,L.target],Ei(L)&&Promise.resolve(s(L)).then(he=>{Xs(L)&&!B||(F.draggedFiles=he,F.isDragActive=!0,w("dragenter",{dragEvent:L}))})}function q(L){if(L.preventDefault(),fe(L),L.dataTransfer)try{L.dataTransfer.dropEffect="copy"}catch{}return Ei(L)&&w("dragover",{dragEvent:L}),!1}function K(L){L.preventDefault(),fe(L);const he=me.filter(se=>I&&I.contains(se)),ke=he.indexOf(L.target);ke!==-1&&he.splice(ke,1),me=he,!(he.length>0)&&(F.isDragActive=!1,F.draggedFiles=[],Ei(L)&&w("dragleave",{dragEvent:L}))}function O(L){L.preventDefault(),fe(L),me=[],Ei(L)&&Promise.resolve(s(L)).then(he=>{if(Xs(L)&&!B)return;const ke=[],se=[];he.forEach(ie=>{const[ue,we]=$u(ie,l),[ye,de]=wu(ie,c,o);if(ue&&ye)ke.push(ie);else{const ve=[we,de].filter(pe=>pe);se.push({file:ie,errors:ve})}}),!u&&ke.length>1&&(ke.forEach(ie=>{se.push({file:ie,errors:[yu]})}),ke.splice(0)),F.acceptedFiles=ke,F.fileRejections=se,w("drop",{acceptedFiles:ke,fileRejections:se,event:L}),se.length>0&&w("droprejected",{fileRejections:se,event:L}),ke.length>0&&w("dropaccepted",{acceptedFiles:ke,event:L})}),G()}function V(L){return a?null:L}function te(L){return _?null:V(L)}function J(L){return D?null:V(L)}function fe(L){B&&L.stopPropagation()}let me=[];function ne(L){I&&I.contains(L.target)||(L.preventDefault(),me=[])}function ce(){F.isFileDialogActive&&setTimeout(()=>{if(A){const{files:L}=A;L.length||(F.isFileDialogActive=!1,w("filedialogcancel"))}},300)}dl(()=>{window.addEventListener("focus",ce,!1),p&&(document.addEventListener("dragover",Js,!1),document.addEventListener("drop",ne,!1))}),ma(()=>{window.removeEventListener("focus",ce,!1),p&&(document.removeEventListener("dragover",Js),document.removeEventListener("drop",ne))});function ae(L){Ce[L?"unshift":"push"](()=>{A=L,n(6,A)})}function X(L){Ce[L?"unshift":"push"](()=>{I=L,n(5,I)})}return i.$$set=L=>{"accept"in L&&n(0,l=L.accept),"disabled"in L&&n(18,a=L.disabled),"getFilesFromEvent"in L&&n(19,s=L.getFilesFromEvent),"maxSize"in L&&n(20,o=L.maxSize),"minSize"in L&&n(21,c=L.minSize),"multiple"in L&&n(1,u=L.multiple),"preventDropOnDocument"in L&&n(22,p=L.preventDropOnDocument),"noClick"in L&&n(23,k=L.noClick),"noKeyboard"in L&&n(24,_=L.noKeyboard),"noDrag"in L&&n(25,D=L.noDrag),"noDragEventsBubbling"in L&&n(26,B=L.noDragEventsBubbling),"containerClasses"in L&&n(2,T=L.containerClasses),"containerStyles"in L&&n(3,N=L.containerStyles),"disableDefaultStyles"in L&&n(4,E=L.disableDefaultStyles),"$$scope"in L&&n(27,r=L.$$scope)},[l,u,T,N,E,I,A,m,z,j,y,$,q,K,O,V,te,J,a,s,o,c,p,k,_,D,B,r,t,ae,X]}class Lu extends et{constructor(e){super(),tt(this,e,Nu,Su,nt,{accept:0,disabled:18,getFilesFromEvent:19,maxSize:20,minSize:21,multiple:1,preventDropOnDocument:22,noClick:23,noKeyboard:24,noDrag:25,noDragEventsBubbling:26,containerClasses:2,containerStyles:3,disableDefaultStyles:4},null,[-1,-1])}}function Qs(i,e,n){const t=i.slice();return t[4]=e[n],t}function Zs(i,e,n){const t=i.slice();return t[7]=e[n],t[9]=n,t}function xs(i,e,n){const t=i.slice();return t[7]=e[n],t}function eo(i){let e,n=i[7]+"",t;return{c(){e=v("th"),t=M(n)},l(r){e=b(r,"TH",{});var l=R(e);t=H(l,n),l.forEach(f)},m(r,l){h(r,e,l),d(e,t)},p(r,l){l&1&&n!==(n=r[7]+"")&&$t(t,n)},d(r){r&&f(e)}}}function to(i){let e,n=i[4][i[9]]+"",t;return{c(){e=v("td"),t=M(n)},l(r){e=b(r,"TD",{});var l=R(e);t=H(l,n),l.forEach(f)},m(r,l){h(r,e,l),d(e,t)},p(r,l){l&2&&n!==(n=r[4][r[9]]+"")&&$t(t,n)},d(r){r&&f(e)}}}function no(i){let e,n,t=i[0],r=[];for(let l=0;l<t.length;l+=1)r[l]=to(Zs(i,t,l));return{c(){e=v("tr");for(let l=0;l<r.length;l+=1)r[l].c();n=C()},l(l){e=b(l,"TR",{});var a=R(e);for(let s=0;s<r.length;s+=1)r[s].l(a);n=S(a),a.forEach(f)},m(l,a){h(l,e,a);for(let s=0;s<r.length;s+=1)r[s].m(e,null);d(e,n)},p(l,a){if(a&3){t=l[0];let s;for(s=0;s<t.length;s+=1){const o=Zs(l,t,s);r[s]?r[s].p(o,a):(r[s]=to(o),r[s].c(),r[s].m(e,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&f(e),nn(r,l)}}}function Iu(i){let e,n,t,r=i[0],l=[];for(let o=0;o<r.length;o+=1)l[o]=eo(xs(i,r,o));let a=i[1],s=[];for(let o=0;o<a.length;o+=1)s[o]=no(Qs(i,a,o));return{c(){e=v("table"),n=v("thead");for(let o=0;o<l.length;o+=1)l[o].c();t=C();for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=b(o,"TABLE",{class:!0});var c=R(e);n=b(c,"THEAD",{});var u=R(n);for(let p=0;p<l.length;p+=1)l[p].l(u);u.forEach(f),t=S(c);for(let p=0;p<s.length;p+=1)s[p].l(c);c.forEach(f),this.h()},h(){U(e,"class","table table-bordered table-hover table-condensed")},m(o,c){h(o,e,c),d(e,n);for(let u=0;u<l.length;u+=1)l[u].m(n,null);d(e,t);for(let u=0;u<s.length;u+=1)s[u].m(e,null)},p(o,[c]){if(c&1){r=o[0];let u;for(u=0;u<r.length;u+=1){const p=xs(o,r,u);l[u]?l[u].p(p,c):(l[u]=eo(p),l[u].c(),l[u].m(n,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}if(c&3){a=o[1];let u;for(u=0;u<a.length;u+=1){const p=Qs(o,a,u);s[u]?s[u].p(p,c):(s[u]=no(p),s[u].c(),s[u].m(e,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=a.length}},i:Qe,o:Qe,d(o){o&&f(e),nn(l,o),nn(s,o)}}}function Pu(i,e,n){let{data:t}=e,{hasHeaderRow:r}=e,l,a;return i.$$set=s=>{"data"in s&&n(2,t=s.data),"hasHeaderRow"in s&&n(3,r=s.hasHeaderRow)},i.$$.update=()=>{i.$$.dirty&12&&(r?(n(0,l=t[0]),n(1,a=t.slice(1,6))):(n(0,l=Object.keys(t[0])),n(1,a=t.slice(0,5))))},[l,a,t,r]}class Ru extends et{constructor(e){super(),tt(this,e,Pu,Iu,nt,{data:2,hasHeaderRow:3})}}function io(i,e,n){const t=i.slice();return t[11]=e[n],t}function ro(i){let e,n=i[11]+"",t,r;return{c(){e=v("option"),t=M(n),this.h()},l(l){e=b(l,"OPTION",{});var a=R(e);t=H(a,n),a.forEach(f),this.h()},h(){e.__value=r=i[11],e.value=e.__value},m(l,a){h(l,e,a),d(e,t)},p(l,a){a&16&&n!==(n=l[11]+"")&&$t(t,n),a&16&&r!==(r=l[11])&&(e.__value=r,e.value=e.__value)},d(l){l&&f(e)}}}function Au(i){let e,n;return{c(){e=v("p"),n=M("Upload a new file")},l(t){e=b(t,"P",{});var r=R(e);n=H(r,"Upload a new file"),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},d(t){t&&f(e)}}}function lo(i){let e,n,t,r,l,a,s,o;return l=new Ru({props:{data:i[4][i[0]].data,hasHeaderRow:i[3]}}),{c(){e=v("label"),n=v("input"),t=M(" Has header row?"),r=C(),Q(l.$$.fragment),this.h()},l(c){e=b(c,"LABEL",{id:!0,class:!0});var u=R(e);n=b(u,"INPUT",{type:!0}),t=H(u," Has header row?"),u.forEach(f),r=S(c),Z(l.$$.fragment,c),this.h()},h(){U(n,"type","checkbox"),U(e,"id","headerCheckbox"),U(e,"class","svelte-3rdk2f")},m(c,u){h(c,e,u),d(e,n),n.checked=i[3],d(e,t),h(c,r,u),x(l,c,u),a=!0,s||(o=[be(n,"change",i[8]),be(n,"change",i[9])],s=!0)},p(c,u){u&8&&(n.checked=c[3]);const p={};u&17&&(p.data=c[4][c[0]].data),u&8&&(p.hasHeaderRow=c[3]),l.$set(p)},i(c){a||(W(l.$$.fragment,c),a=!0)},o(c){Y(l.$$.fragment,c),a=!1},d(c){c&&f(e),c&&f(r),ee(l,c),s=!1,wt(o)}}}function Ou(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T=Object.keys(i[4]),N=[];for(let w=0;w<T.length;w+=1)N[w]=ro(io(i,T,w));u=new Lu({props:{accept:i[2],$$slots:{default:[Au]},$$scope:{ctx:i}}}),u.$on("drop",i[5]);let E=i[0]&&i[1]&&lo(i);return{c(){e=v("div"),n=M(`Select a previously uploaded file:
	`),t=v("select");for(let w=0;w<N.length;w+=1)N[w].c();r=C(),l=v("br"),a=C(),s=v("b"),o=M("or"),c=C(),Q(u.$$.fragment),p=C(),E&&E.c(),k=Ke(),this.h()},l(w){e=b(w,"DIV",{class:!0});var F=R(e);n=H(F,`Select a previously uploaded file:
	`),t=b(F,"SELECT",{});var I=R(t);for(let G=0;G<N.length;G+=1)N[G].l(I);I.forEach(f),r=S(F),l=b(F,"BR",{}),a=S(F),s=b(F,"B",{});var A=R(s);o=H(A,"or"),A.forEach(f),c=S(F),Z(u.$$.fragment,F),F.forEach(f),p=S(w),E&&E.l(w),k=Ke(),this.h()},h(){i[0]===void 0&&Oo(()=>i[7].call(t)),U(e,"class","fileSelector svelte-3rdk2f")},m(w,F){h(w,e,F),d(e,n),d(e,t);for(let I=0;I<N.length;I+=1)N[I].m(t,null);Ni(t,i[0]),d(e,r),d(e,l),d(e,a),d(e,s),d(s,o),d(e,c),x(u,e,null),h(w,p,F),E&&E.m(w,F),h(w,k,F),_=!0,D||(B=be(t,"change",i[7]),D=!0)},p(w,[F]){if(F&16){T=Object.keys(w[4]);let A;for(A=0;A<T.length;A+=1){const G=io(w,T,A);N[A]?N[A].p(G,F):(N[A]=ro(G),N[A].c(),N[A].m(t,null))}for(;A<N.length;A+=1)N[A].d(1);N.length=T.length}F&17&&Ni(t,w[0]);const I={};F&4&&(I.accept=w[2]),F&16384&&(I.$$scope={dirty:F,ctx:w}),u.$set(I),w[0]&&w[1]?E?(E.p(w,F),F&3&&W(E,1)):(E=lo(w),E.c(),W(E,1),E.m(k.parentNode,k)):E&&(lt(),Y(E,1,1,()=>{E=null}),st())},i(w){_||(W(u.$$.fragment,w),W(E),_=!0)},o(w){Y(u.$$.fragment,w),Y(E),_=!1},d(w){w&&f(e),nn(N,w),ee(u),w&&f(p),E&&E.d(w),w&&f(k),D=!1,B()}}}function Mu(i,e,n){let t;pl(i,Qn,_=>n(4,t=_));let{selectedFile:r=null}=e,{showPreviewTable:l=!0}=e,{acceptedFormats:a=".csv"}=e,{parseAsCSV:s=!0}=e,o=!1;function c(_){const{acceptedFiles:D,fileRejections:B}=_.detail;console.log("Seleted:",_.detail);for(const T of D)console.log(`Uploaded file: ${T}`),Ae.event("dat_2","File Uploaded","File Uploaded",T.name),s?tu.parse(T,{header:!1,complete(N){Qn.update(E=>({...E,[T.name]:{data:N.data,hasHeaderRow:o}})),n(0,r=T.name)}}):T.text().then(N=>{Qn.update(E=>({...E,[T.name]:{data:N,hasHeaderRow:o}})),n(0,r=T.name)})}function u(){r=Mo(this),n(0,r)}function p(){o=this.checked,n(3,o)}const k=()=>{Ae.event("dat_2","data view","table has header",o)};return i.$$set=_=>{"selectedFile"in _&&n(0,r=_.selectedFile),"showPreviewTable"in _&&n(1,l=_.showPreviewTable),"acceptedFormats"in _&&n(2,a=_.acceptedFormats),"parseAsCSV"in _&&n(6,s=_.parseAsCSV)},i.$$.update=()=>{i.$$.dirty&9&&r&&ga(Qn,t[r].hasHeaderRow=o,t),i.$$.dirty&16},[r,l,a,o,t,c,s,u,p,k]}class ci extends et{constructor(e){super(),tt(this,e,Mu,Ou,nt,{selectedFile:0,showPreviewTable:1,acceptedFormats:2,parseAsCSV:6})}}function Hu(i){let e,n,t,r,l;return{c(){e=v("h4"),n=M("Upload your data."),t=C(),r=v("p"),l=M("Currently, GEDCOM, PAJEK and GraphML (XML) formats are supported.")},l(a){e=b(a,"H4",{});var s=R(e);n=H(s,"Upload your data."),s.forEach(f),t=S(a),r=b(a,"P",{});var o=R(r);l=H(o,"Currently, GEDCOM, PAJEK and GraphML (XML) formats are supported."),o.forEach(f)},m(a,s){h(a,e,s),d(e,n),h(a,t,s),h(a,r,s),d(r,l)},d(a){a&&f(e),a&&f(t),a&&f(r)}}}function Bu(i){let e,n,t;function r(a){i[5](a)}let l={acceptedFormats:".ged,.paj,.xml,.graphml",parseAsCSV:!1,showPreviewTable:!1};return i[0].selectedFile!==void 0&&(l.selectedFile=i[0].selectedFile),e=new ci({props:l}),Ce.push(()=>De(e,"selectedFile",r)),{c(){Q(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,s){x(e,a,s),t=!0},p(a,s){const o={};!n&&s&1&&(n=!0,o.selectedFile=a[0].selectedFile,Ne(()=>n=!1)),e.$set(o)},i(a){t||(W(e.$$.fragment,a),t=!0)},o(a){Y(e.$$.fragment,a),t=!1},d(a){ee(e,a)}}}function Uu(i){let e;return{c(){e=M("Previous")},l(n){e=H(n,"Previous")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function zu(i){let e;return{c(){e=M("Next")},l(n){e=H(n,"Next")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function ju(i){let e,n,t,r;return e=new Xe({props:{style:"float: left",$$slots:{default:[Uu]},$$scope:{ctx:i}}}),e.$on("click",i[6]),t=new Xe({props:{style:"float: right",disabled:!i[0].selectedFile,$$slots:{default:[zu]},$$scope:{ctx:i}}}),t.$on("click",i[7]),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment)},l(l){Z(e.$$.fragment,l),n=S(l),Z(t.$$.fragment,l)},m(l,a){x(e,l,a),h(l,n,a),x(t,l,a),r=!0},p(l,a){const s={};a&256&&(s.$$scope={dirty:a,ctx:l}),e.$set(s);const o={};a&1&&(o.disabled=!l[0].selectedFile),a&256&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(W(e.$$.fragment,l),W(t.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(t.$$.fragment,l),r=!1},d(l){ee(e,l),l&&f(n),ee(t,l)}}}function qu(i){let e,n,t,r,l,a;return e=new un({props:{$$slots:{default:[Hu]},$$scope:{ctx:i}}}),t=new ln({props:{$$slots:{default:[Bu]},$$scope:{ctx:i}}}),l=new sn({props:{$$slots:{default:[ju]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment),r=C(),Q(l.$$.fragment)},l(s){Z(e.$$.fragment,s),n=S(s),Z(t.$$.fragment,s),r=S(s),Z(l.$$.fragment,s)},m(s,o){x(e,s,o),h(s,n,o),x(t,s,o),h(s,r,o),x(l,s,o),a=!0},p(s,o){const c={};o&256&&(c.$$scope={dirty:o,ctx:s}),e.$set(c);const u={};o&257&&(u.$$scope={dirty:o,ctx:s}),t.$set(u);const p={};o&271&&(p.$$scope={dirty:o,ctx:s}),l.$set(p)},i(s){a||(W(e.$$.fragment,s),W(t.$$.fragment,s),W(l.$$.fragment,s),a=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),Y(l.$$.fragment,s),a=!1},d(s){ee(e,s),s&&f(n),ee(t,s),s&&f(r),ee(l,s)}}}function Wu(i){let e,n;return e=new rn({props:{class:"mb-3",style:"width: 100%",$$slots:{default:[qu]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[r]){const l={};r&271&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function Vu(i,e,n){let{fileFormat:t="network"}=e,{config:r={}}=e,{stage:l,previous_stage:a,next_stage:s}=e;function o(p){i.$$.not_equal(r.selectedFile,p)&&(r.selectedFile=p,n(0,r))}const c=()=>n(1,l=a()),u=()=>n(1,l=s());return i.$$set=p=>{"fileFormat"in p&&n(4,t=p.fileFormat),"config"in p&&n(0,r=p.config),"stage"in p&&n(1,l=p.stage),"previous_stage"in p&&n(2,a=p.previous_stage),"next_stage"in p&&n(3,s=p.next_stage)},[r,l,a,s,t,o,c,u]}class Gu extends et{constructor(e){super(),tt(this,e,Vu,Wu,nt,{fileFormat:4,config:0,stage:1,previous_stage:2,next_stage:3})}}function Yu(i){let e,n;return{c(){e=v("h4"),n=M("How are links (edges) represented in your network?")},l(t){e=b(t,"H4",{});var r=R(e);n=H(r,"How are links (edges) represented in your network?"),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},d(t){t&&f(e)}}}function Ku(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j,y,$,q,K,O,V,te,J,fe,me,ne,ce,ae,X,L,he,ke,se,ie,ue,we,ye,de,ve,pe,Ee,Ue,Le,Me,Oe,He,re,Fe,$e,Te,ze,Je,rt,Ze,Ge,Et,ge,je,it,Ye,Ft,xe,qe,Bt,at,Pe,It,xt,P,oe,_t,Ct,ut,Pt,jt,St,qt,Wt,en,hn,cn,Dt,dn,Ui,zi,_n,ji,qi,mn,Wi,Vi,gn,Gi,Yi,vn,Ki,di,pi,hi,bn,Xi,_i,ct,mi,kn,Ji,gi,yn,Qi,vi,bi,ki,yi,$i,$n,Zi,wi,Ut,Nt,Fi,xi,er,tr,nr,ir,rr,lr,sr,or,ei,mt,wn,ar,fr,Fn,ur,cr,Tn,dr,pr,En,hr,_r,Cn,mr,gr,Sn,vr,br,tn,gt,Dn,kr,yr,Nn,$r,wr,Ln,Fr,Tr,In,Er,Cr,Pn,Sr,Dr,Rn,Nr,Lr,vt,An,Ir,Pr,On,Rr,Ar,Mn,Or,Mr,Hn,Hr,Br,Bn,Ur,zr,Un,jr,qr,bt,zn,Wr,Vr,jn,Gr,Yr,qn,Kr,Xr,Wn,Jr,Qr,Vn,Zr,xr,Gn,el,tl,vl;return{c(){e=v("h4"),n=M("Link Table"),t=C(),r=v("input"),l=M(`
		A table containing `),a=v("b"),s=M("one row per link"),o=M(`. Each row contains a pair of nodes that are linked.
		`),c=v("br"),u=C(),p=v("br"),k=C(),_=v("h5"),D=M("Example:"),B=C(),T=v("table"),N=v("colgroup"),E=v("col"),w=C(),F=v("col"),I=C(),A=v("col"),G=C(),g=v("col"),m=C(),z=v("col"),j=C(),y=v("thead"),$=v("tr"),q=v("th"),K=M("Index"),O=C(),V=v("th"),te=M("Source Node"),J=C(),fe=v("th"),me=M("Relation Type"),ne=C(),ce=v("th"),ae=M("Target Node"),X=C(),L=v("th"),he=M("Date"),ke=C(),se=v("tbody"),ie=v("tr"),ue=v("td"),we=M("0"),ye=C(),de=v("td"),ve=M("Bob"),pe=C(),Ee=v("td"),Ue=M("Work"),Le=C(),Me=v("td"),Oe=M("Sarah"),He=C(),re=v("td"),Fe=M("03/08/1973"),$e=C(),Te=v("tr"),ze=v("td"),Je=M("1"),rt=C(),Ze=v("td"),Ge=M("Alex"),Et=C(),ge=v("td"),je=M("Work"),it=C(),Ye=v("td"),Ft=M("Bob"),xe=C(),qe=v("td"),Bt=M("06/08/1975"),at=C(),Pe=v("tr"),It=v("td"),xt=M("2"),P=C(),oe=v("td"),_t=M("Alex"),Ct=C(),ut=v("td"),Pt=M("Friendship"),jt=C(),St=v("td"),qt=M("Bob"),Wt=C(),en=v("td"),hn=M("06/08/1975"),cn=C(),Dt=v("tr"),dn=v("td"),Ui=M("3"),zi=C(),_n=v("td"),ji=M("Alex"),qi=C(),mn=v("td"),Wi=M("Friendship"),Vi=C(),gn=v("td"),Gi=M("Eve"),Yi=C(),vn=v("td"),Ki=M("15/09/1971"),di=C(),pi=v("br"),hi=C(),bn=v("h4"),Xi=M("Node Table"),_i=C(),ct=v("input"),mi=M(`
		A table containing `),kn=v("b"),Ji=M("one row per node"),gi=M(`, with columns listing the other nodes it is linked to
		(a `),yn=v("i"),Qi=M("node file"),vi=M(`)

		`),bi=v("br"),ki=C(),yi=v("br"),$i=C(),$n=v("h5"),Zi=M("Example:"),wi=C(),Ut=v("table"),Nt=v("colgroup"),Fi=v("col"),xi=C(),er=v("col"),tr=C(),nr=v("col"),ir=C(),rr=v("col"),lr=C(),sr=v("col"),or=C(),ei=v("thead"),mt=v("tr"),wn=v("th"),ar=M("Node"),fr=C(),Fn=v("th"),ur=M("Mother"),cr=C(),Tn=v("th"),dr=M("Father"),pr=C(),En=v("th"),hr=M("God-Father"),_r=C(),Cn=v("th"),mr=M("God-Mother"),gr=C(),Sn=v("th"),vr=M("Place-of-birth"),br=C(),tn=v("tbody"),gt=v("tr"),Dn=v("td"),kr=M("Bob"),yr=C(),Nn=v("td"),$r=M("Celine"),wr=C(),Ln=v("td"),Fr=M("Charles"),Tr=C(),In=v("td"),Er=M("Dave"),Cr=C(),Pn=v("td"),Sr=M("Eve"),Dr=C(),Rn=v("td"),Nr=M("Paris"),Lr=C(),vt=v("tr"),An=v("td"),Ir=M("Ana"),Pr=C(),On=v("td"),Rr=M("Fannie"),Ar=C(),Mn=v("td"),Or=M("Gerd"),Mr=C(),Hn=v("td"),Hr=M("Mike"),Br=C(),Bn=v("td"),Ur=M("Dianne"),zr=C(),Un=v("td"),jr=M("London"),qr=C(),bt=v("tr"),zn=v("td"),Wr=M("Celine"),Vr=C(),jn=v("td"),Gr=M("Maria"),Yr=C(),qn=v("td"),Kr=M("Jo\xE3o"),Xr=C(),Wn=v("td"),Jr=M("Pedro"),Qr=C(),Vn=v("td"),Zr=M("Ana"),xr=C(),Gn=v("td"),el=M("Lisbon"),this.h()},l(le){e=b(le,"H4",{});var Re=R(e);n=H(Re,"Link Table"),Re.forEach(f),t=S(le),r=b(le,"INPUT",{type:!0}),l=H(le,`
		A table containing `),a=b(le,"B",{});var bl=R(a);s=H(bl,"one row per link"),bl.forEach(f),o=H(le,`. Each row contains a pair of nodes that are linked.
		`),c=b(le,"BR",{}),u=S(le),p=b(le,"BR",{}),k=S(le),_=b(le,"H5",{});var kl=R(_);D=H(kl,"Example:"),kl.forEach(f),B=S(le),T=b(le,"TABLE",{class:!0});var Yn=R(T);N=b(Yn,"COLGROUP",{});var Vt=R(N);E=b(Vt,"COL",{}),w=S(Vt),F=b(Vt,"COL",{style:!0}),I=S(Vt),A=b(Vt,"COL",{}),G=S(Vt),g=b(Vt,"COL",{style:!0}),m=S(Vt),z=b(Vt,"COL",{}),Vt.forEach(f),j=S(Yn),y=b(Yn,"THEAD",{});var yl=R(y);$=b(yl,"TR",{});var Gt=R($);q=b(Gt,"TH",{title:!0,class:!0});var $l=R(q);K=H($l,"Index"),$l.forEach(f),O=S(Gt),V=b(Gt,"TH",{title:!0,class:!0});var wl=R(V);te=H(wl,"Source Node"),wl.forEach(f),J=S(Gt),fe=b(Gt,"TH",{title:!0,class:!0});var Fl=R(fe);me=H(Fl,"Relation Type"),Fl.forEach(f),ne=S(Gt),ce=b(Gt,"TH",{title:!0,class:!0});var Tl=R(ce);ae=H(Tl,"Target Node"),Tl.forEach(f),X=S(Gt),L=b(Gt,"TH",{title:!0,class:!0});var El=R(L);he=H(El,"Date"),El.forEach(f),Gt.forEach(f),yl.forEach(f),ke=S(Yn),se=b(Yn,"TBODY",{});var on=R(se);ie=b(on,"TR",{});var Yt=R(ie);ue=b(Yt,"TD",{align:!0,class:!0});var Cl=R(ue);we=H(Cl,"0"),Cl.forEach(f),ye=S(Yt),de=b(Yt,"TD",{class:!0});var Sl=R(de);ve=H(Sl,"Bob"),Sl.forEach(f),pe=S(Yt),Ee=b(Yt,"TD",{class:!0});var Dl=R(Ee);Ue=H(Dl,"Work"),Dl.forEach(f),Le=S(Yt),Me=b(Yt,"TD",{class:!0});var Nl=R(Me);Oe=H(Nl,"Sarah"),Nl.forEach(f),He=S(Yt),re=b(Yt,"TD",{class:!0});var Ll=R(re);Fe=H(Ll,"03/08/1973"),Ll.forEach(f),Yt.forEach(f),$e=S(on),Te=b(on,"TR",{});var Kt=R(Te);ze=b(Kt,"TD",{align:!0,class:!0});var Il=R(ze);Je=H(Il,"1"),Il.forEach(f),rt=S(Kt),Ze=b(Kt,"TD",{class:!0});var Pl=R(Ze);Ge=H(Pl,"Alex"),Pl.forEach(f),Et=S(Kt),ge=b(Kt,"TD",{class:!0});var Rl=R(ge);je=H(Rl,"Work"),Rl.forEach(f),it=S(Kt),Ye=b(Kt,"TD",{class:!0});var Al=R(Ye);Ft=H(Al,"Bob"),Al.forEach(f),xe=S(Kt),qe=b(Kt,"TD",{class:!0});var Ol=R(qe);Bt=H(Ol,"06/08/1975"),Ol.forEach(f),Kt.forEach(f),at=S(on),Pe=b(on,"TR",{});var Xt=R(Pe);It=b(Xt,"TD",{align:!0,class:!0});var Ml=R(It);xt=H(Ml,"2"),Ml.forEach(f),P=S(Xt),oe=b(Xt,"TD",{class:!0});var Hl=R(oe);_t=H(Hl,"Alex"),Hl.forEach(f),Ct=S(Xt),ut=b(Xt,"TD",{class:!0});var Bl=R(ut);Pt=H(Bl,"Friendship"),Bl.forEach(f),jt=S(Xt),St=b(Xt,"TD",{class:!0});var Ul=R(St);qt=H(Ul,"Bob"),Ul.forEach(f),Wt=S(Xt),en=b(Xt,"TD",{class:!0});var zl=R(en);hn=H(zl,"06/08/1975"),zl.forEach(f),Xt.forEach(f),cn=S(on),Dt=b(on,"TR",{});var Jt=R(Dt);dn=b(Jt,"TD",{align:!0,class:!0});var jl=R(dn);Ui=H(jl,"3"),jl.forEach(f),zi=S(Jt),_n=b(Jt,"TD",{class:!0});var ql=R(_n);ji=H(ql,"Alex"),ql.forEach(f),qi=S(Jt),mn=b(Jt,"TD",{class:!0});var Wl=R(mn);Wi=H(Wl,"Friendship"),Wl.forEach(f),Vi=S(Jt),gn=b(Jt,"TD",{class:!0});var Vl=R(gn);Gi=H(Vl,"Eve"),Vl.forEach(f),Yi=S(Jt),vn=b(Jt,"TD",{class:!0});var Gl=R(vn);Ki=H(Gl,"15/09/1971"),Gl.forEach(f),Jt.forEach(f),on.forEach(f),Yn.forEach(f),di=S(le),pi=b(le,"BR",{}),hi=S(le),bn=b(le,"H4",{});var Yl=R(bn);Xi=H(Yl,"Node Table"),Yl.forEach(f),_i=S(le),ct=b(le,"INPUT",{type:!0}),mi=H(le,`
		A table containing `),kn=b(le,"B",{});var Kl=R(kn);Ji=H(Kl,"one row per node"),Kl.forEach(f),gi=H(le,`, with columns listing the other nodes it is linked to
		(a `),yn=b(le,"I",{});var Xl=R(yn);Qi=H(Xl,"node file"),Xl.forEach(f),vi=H(le,`)

		`),bi=b(le,"BR",{}),ki=S(le),yi=b(le,"BR",{}),$i=S(le),$n=b(le,"H5",{});var Jl=R($n);Zi=H(Jl,"Example:"),Jl.forEach(f),wi=S(le),Ut=b(le,"TABLE",{class:!0});var Kn=R(Ut);Nt=b(Kn,"COLGROUP",{});var Qt=R(Nt);Fi=b(Qt,"COL",{style:!0}),xi=S(Qt),er=b(Qt,"COL",{}),tr=S(Qt),nr=b(Qt,"COL",{}),ir=S(Qt),rr=b(Qt,"COL",{}),lr=S(Qt),sr=b(Qt,"COL",{}),Qt.forEach(f),or=S(Kn),ei=b(Kn,"THEAD",{});var Ql=R(ei);mt=b(Ql,"TR",{});var Rt=R(mt);wn=b(Rt,"TH",{class:!0});var Zl=R(wn);ar=H(Zl,"Node"),Zl.forEach(f),fr=S(Rt),Fn=b(Rt,"TH",{class:!0});var xl=R(Fn);ur=H(xl,"Mother"),xl.forEach(f),cr=S(Rt),Tn=b(Rt,"TH",{class:!0});var es=R(Tn);dr=H(es,"Father"),es.forEach(f),pr=S(Rt),En=b(Rt,"TH",{class:!0});var ts=R(En);hr=H(ts,"God-Father"),ts.forEach(f),_r=S(Rt),Cn=b(Rt,"TH",{class:!0});var ns=R(Cn);mr=H(ns,"God-Mother"),ns.forEach(f),gr=S(Rt),Sn=b(Rt,"TH",{class:!0});var is=R(Sn);vr=H(is,"Place-of-birth"),is.forEach(f),Rt.forEach(f),Ql.forEach(f),br=S(Kn),tn=b(Kn,"TBODY",{});var Xn=R(tn);gt=b(Xn,"TR",{});var At=R(gt);Dn=b(At,"TD",{class:!0});var rs=R(Dn);kr=H(rs,"Bob"),rs.forEach(f),yr=S(At),Nn=b(At,"TD",{class:!0});var ls=R(Nn);$r=H(ls,"Celine"),ls.forEach(f),wr=S(At),Ln=b(At,"TD",{class:!0});var ss=R(Ln);Fr=H(ss,"Charles"),ss.forEach(f),Tr=S(At),In=b(At,"TD",{class:!0});var os=R(In);Er=H(os,"Dave"),os.forEach(f),Cr=S(At),Pn=b(At,"TD",{class:!0});var as=R(Pn);Sr=H(as,"Eve"),as.forEach(f),Dr=S(At),Rn=b(At,"TD",{class:!0});var fs=R(Rn);Nr=H(fs,"Paris"),fs.forEach(f),At.forEach(f),Lr=S(Xn),vt=b(Xn,"TR",{});var Ot=R(vt);An=b(Ot,"TD",{class:!0});var us=R(An);Ir=H(us,"Ana"),us.forEach(f),Pr=S(Ot),On=b(Ot,"TD",{class:!0});var cs=R(On);Rr=H(cs,"Fannie"),cs.forEach(f),Ar=S(Ot),Mn=b(Ot,"TD",{class:!0});var ds=R(Mn);Or=H(ds,"Gerd"),ds.forEach(f),Mr=S(Ot),Hn=b(Ot,"TD",{class:!0});var ps=R(Hn);Hr=H(ps,"Mike"),ps.forEach(f),Br=S(Ot),Bn=b(Ot,"TD",{class:!0});var hs=R(Bn);Ur=H(hs,"Dianne"),hs.forEach(f),zr=S(Ot),Un=b(Ot,"TD",{class:!0});var _s=R(Un);jr=H(_s,"London"),_s.forEach(f),Ot.forEach(f),qr=S(Xn),bt=b(Xn,"TR",{});var Mt=R(bt);zn=b(Mt,"TD",{class:!0});var ms=R(zn);Wr=H(ms,"Celine"),ms.forEach(f),Vr=S(Mt),jn=b(Mt,"TD",{class:!0});var gs=R(jn);Gr=H(gs,"Maria"),gs.forEach(f),Yr=S(Mt),qn=b(Mt,"TD",{class:!0});var vs=R(qn);Kr=H(vs,"Jo\xE3o"),vs.forEach(f),Xr=S(Mt),Wn=b(Mt,"TD",{class:!0});var bs=R(Wn);Jr=H(bs,"Pedro"),bs.forEach(f),Qr=S(Mt),Vn=b(Mt,"TD",{class:!0});var ks=R(Vn);Zr=H(ks,"Ana"),ks.forEach(f),xr=S(Mt),Gn=b(Mt,"TD",{class:!0});var ys=R(Gn);el=H(ys,"Lisbon"),ys.forEach(f),Mt.forEach(f),Xn.forEach(f),Kn.forEach(f),this.h()},h(){U(r,"type","radio"),r.__value="linkTable",r.value=r.__value,i[5][0].push(r),ft(F,"background-color","orange"),ft(g,"background-color","orange"),U(q,"title","Field #1"),U(q,"class","svelte-11clmh9"),U(V,"title","Field #2"),U(V,"class","svelte-11clmh9"),U(fe,"title","Field #4"),U(fe,"class","svelte-11clmh9"),U(ce,"title","Field #5"),U(ce,"class","svelte-11clmh9"),U(L,"title","Field #7"),U(L,"class","svelte-11clmh9"),U(ue,"align","right"),U(ue,"class","svelte-11clmh9"),U(de,"class","svelte-11clmh9"),U(Ee,"class","svelte-11clmh9"),U(Me,"class","svelte-11clmh9"),U(re,"class","svelte-11clmh9"),U(ze,"align","right"),U(ze,"class","svelte-11clmh9"),U(Ze,"class","svelte-11clmh9"),U(ge,"class","svelte-11clmh9"),U(Ye,"class","svelte-11clmh9"),U(qe,"class","svelte-11clmh9"),U(It,"align","right"),U(It,"class","svelte-11clmh9"),U(oe,"class","svelte-11clmh9"),U(ut,"class","svelte-11clmh9"),U(St,"class","svelte-11clmh9"),U(en,"class","svelte-11clmh9"),U(dn,"align","right"),U(dn,"class","svelte-11clmh9"),U(_n,"class","svelte-11clmh9"),U(mn,"class","svelte-11clmh9"),U(gn,"class","svelte-11clmh9"),U(vn,"class","svelte-11clmh9"),U(T,"class","table table-bordered table-hover table-condensed"),U(ct,"type","radio"),ct.__value="nodeTable",ct.value=ct.__value,i[5][0].push(ct),ft(Fi,"background-color","orange"),U(wn,"class","svelte-11clmh9"),U(Fn,"class","svelte-11clmh9"),U(Tn,"class","svelte-11clmh9"),U(En,"class","svelte-11clmh9"),U(Cn,"class","svelte-11clmh9"),U(Sn,"class","svelte-11clmh9"),U(Dn,"class","svelte-11clmh9"),U(Nn,"class","svelte-11clmh9"),U(Ln,"class","svelte-11clmh9"),U(In,"class","svelte-11clmh9"),U(Pn,"class","svelte-11clmh9"),U(Rn,"class","svelte-11clmh9"),U(An,"class","svelte-11clmh9"),U(On,"class","svelte-11clmh9"),U(Mn,"class","svelte-11clmh9"),U(Hn,"class","svelte-11clmh9"),U(Bn,"class","svelte-11clmh9"),U(Un,"class","svelte-11clmh9"),U(zn,"class","svelte-11clmh9"),U(jn,"class","svelte-11clmh9"),U(qn,"class","svelte-11clmh9"),U(Wn,"class","svelte-11clmh9"),U(Vn,"class","svelte-11clmh9"),U(Gn,"class","svelte-11clmh9"),U(Ut,"class","table table-bordered table-hover table-condensed")},m(le,Re){h(le,e,Re),d(e,n),h(le,t,Re),h(le,r,Re),r.checked=r.__value===i[0],h(le,l,Re),h(le,a,Re),d(a,s),h(le,o,Re),h(le,c,Re),h(le,u,Re),h(le,p,Re),h(le,k,Re),h(le,_,Re),d(_,D),h(le,B,Re),h(le,T,Re),d(T,N),d(N,E),d(N,w),d(N,F),d(N,I),d(N,A),d(N,G),d(N,g),d(N,m),d(N,z),d(T,j),d(T,y),d(y,$),d($,q),d(q,K),d($,O),d($,V),d(V,te),d($,J),d($,fe),d(fe,me),d($,ne),d($,ce),d(ce,ae),d($,X),d($,L),d(L,he),d(T,ke),d(T,se),d(se,ie),d(ie,ue),d(ue,we),d(ie,ye),d(ie,de),d(de,ve),d(ie,pe),d(ie,Ee),d(Ee,Ue),d(ie,Le),d(ie,Me),d(Me,Oe),d(ie,He),d(ie,re),d(re,Fe),d(se,$e),d(se,Te),d(Te,ze),d(ze,Je),d(Te,rt),d(Te,Ze),d(Ze,Ge),d(Te,Et),d(Te,ge),d(ge,je),d(Te,it),d(Te,Ye),d(Ye,Ft),d(Te,xe),d(Te,qe),d(qe,Bt),d(se,at),d(se,Pe),d(Pe,It),d(It,xt),d(Pe,P),d(Pe,oe),d(oe,_t),d(Pe,Ct),d(Pe,ut),d(ut,Pt),d(Pe,jt),d(Pe,St),d(St,qt),d(Pe,Wt),d(Pe,en),d(en,hn),d(se,cn),d(se,Dt),d(Dt,dn),d(dn,Ui),d(Dt,zi),d(Dt,_n),d(_n,ji),d(Dt,qi),d(Dt,mn),d(mn,Wi),d(Dt,Vi),d(Dt,gn),d(gn,Gi),d(Dt,Yi),d(Dt,vn),d(vn,Ki),h(le,di,Re),h(le,pi,Re),h(le,hi,Re),h(le,bn,Re),d(bn,Xi),h(le,_i,Re),h(le,ct,Re),ct.checked=ct.__value===i[0],h(le,mi,Re),h(le,kn,Re),d(kn,Ji),h(le,gi,Re),h(le,yn,Re),d(yn,Qi),h(le,vi,Re),h(le,bi,Re),h(le,ki,Re),h(le,yi,Re),h(le,$i,Re),h(le,$n,Re),d($n,Zi),h(le,wi,Re),h(le,Ut,Re),d(Ut,Nt),d(Nt,Fi),d(Nt,xi),d(Nt,er),d(Nt,tr),d(Nt,nr),d(Nt,ir),d(Nt,rr),d(Nt,lr),d(Nt,sr),d(Ut,or),d(Ut,ei),d(ei,mt),d(mt,wn),d(wn,ar),d(mt,fr),d(mt,Fn),d(Fn,ur),d(mt,cr),d(mt,Tn),d(Tn,dr),d(mt,pr),d(mt,En),d(En,hr),d(mt,_r),d(mt,Cn),d(Cn,mr),d(mt,gr),d(mt,Sn),d(Sn,vr),d(Ut,br),d(Ut,tn),d(tn,gt),d(gt,Dn),d(Dn,kr),d(gt,yr),d(gt,Nn),d(Nn,$r),d(gt,wr),d(gt,Ln),d(Ln,Fr),d(gt,Tr),d(gt,In),d(In,Er),d(gt,Cr),d(gt,Pn),d(Pn,Sr),d(gt,Dr),d(gt,Rn),d(Rn,Nr),d(tn,Lr),d(tn,vt),d(vt,An),d(An,Ir),d(vt,Pr),d(vt,On),d(On,Rr),d(vt,Ar),d(vt,Mn),d(Mn,Or),d(vt,Mr),d(vt,Hn),d(Hn,Hr),d(vt,Br),d(vt,Bn),d(Bn,Ur),d(vt,zr),d(vt,Un),d(Un,jr),d(tn,qr),d(tn,bt),d(bt,zn),d(zn,Wr),d(bt,Vr),d(bt,jn),d(jn,Gr),d(bt,Yr),d(bt,qn),d(qn,Kr),d(bt,Xr),d(bt,Wn),d(Wn,Jr),d(bt,Qr),d(bt,Vn),d(Vn,Zr),d(bt,xr),d(bt,Gn),d(Gn,el),tl||(vl=[be(r,"change",i[4]),be(r,"click",i[6]),be(ct,"change",i[7]),be(ct,"click",i[8])],tl=!0)},p(le,Re){Re&1&&(r.checked=r.__value===le[0]),Re&1&&(ct.checked=ct.__value===le[0])},d(le){le&&f(e),le&&f(t),le&&f(r),i[5][0].splice(i[5][0].indexOf(r),1),le&&f(l),le&&f(a),le&&f(o),le&&f(c),le&&f(u),le&&f(p),le&&f(k),le&&f(_),le&&f(B),le&&f(T),le&&f(di),le&&f(pi),le&&f(hi),le&&f(bn),le&&f(_i),le&&f(ct),i[5][0].splice(i[5][0].indexOf(ct),1),le&&f(mi),le&&f(kn),le&&f(gi),le&&f(yn),le&&f(vi),le&&f(bi),le&&f(ki),le&&f(yi),le&&f($i),le&&f($n),le&&f(wi),le&&f(Ut),tl=!1,wt(vl)}}}function Xu(i){let e;return{c(){e=M("Previous")},l(n){e=H(n,"Previous")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Ju(i){let e;return{c(){e=M("Next")},l(n){e=H(n,"Next")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Qu(i){let e,n,t,r;return e=new Xe({props:{style:"float: left",$$slots:{default:[Xu]},$$scope:{ctx:i}}}),e.$on("click",i[9]),t=new Xe({props:{style:"float: right",disabled:!i[0],$$slots:{default:[Ju]},$$scope:{ctx:i}}}),t.$on("click",i[10]),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment)},l(l){Z(e.$$.fragment,l),n=S(l),Z(t.$$.fragment,l)},m(l,a){x(e,l,a),h(l,n,a),x(t,l,a),r=!0},p(l,a){const s={};a&2048&&(s.$$scope={dirty:a,ctx:l}),e.$set(s);const o={};a&1&&(o.disabled=!l[0]),a&2048&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(W(e.$$.fragment,l),W(t.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(t.$$.fragment,l),r=!1},d(l){ee(e,l),l&&f(n),ee(t,l)}}}function Zu(i){let e,n,t,r,l,a;return e=new un({props:{$$slots:{default:[Yu]},$$scope:{ctx:i}}}),t=new ln({props:{$$slots:{default:[Ku]},$$scope:{ctx:i}}}),l=new sn({props:{$$slots:{default:[Qu]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment),r=C(),Q(l.$$.fragment)},l(s){Z(e.$$.fragment,s),n=S(s),Z(t.$$.fragment,s),r=S(s),Z(l.$$.fragment,s)},m(s,o){x(e,s,o),h(s,n,o),x(t,s,o),h(s,r,o),x(l,s,o),a=!0},p(s,o){const c={};o&2048&&(c.$$scope={dirty:o,ctx:s}),e.$set(c);const u={};o&2049&&(u.$$scope={dirty:o,ctx:s}),t.$set(u);const p={};o&2063&&(p.$$scope={dirty:o,ctx:s}),l.$set(p)},i(s){a||(W(e.$$.fragment,s),W(t.$$.fragment,s),W(l.$$.fragment,s),a=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),Y(l.$$.fragment,s),a=!1},d(s){ee(e,s),s&&f(n),ee(t,s),s&&f(r),ee(l,s)}}}function xu(i){let e,n;return e=new rn({props:{class:"mb-3",style:"width: 100%",$$slots:{default:[Zu]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[r]){const l={};r&2063&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function ec(i,e,n){let{linkDataType:t}=e,{stage:r,previous_stage:l,next_stage:a}=e;const s=[[]];function o(){t=this.__value,n(0,t)}const c=()=>{Ae.event("dat_2_LT","data view","upload LK","Link Table")};function u(){t=this.__value,n(0,t)}const p=()=>{Ae.event("dat_2_NT","data view","upload NT","Node Table")},k=()=>n(1,r=l()),_=()=>n(1,r=a());return i.$$set=D=>{"linkDataType"in D&&n(0,t=D.linkDataType),"stage"in D&&n(1,r=D.stage),"previous_stage"in D&&n(2,l=D.previous_stage),"next_stage"in D&&n(3,a=D.next_stage)},[t,r,l,a,o,s,c,u,p,k,_]}class tc extends et{constructor(e){super(),tt(this,e,ec,xu,nt,{linkDataType:0,stage:1,previous_stage:2,next_stage:3})}}function so(i,e,n){const t=i.slice();return t[13]=e[n],t[15]=n,t}function oo(i){let e,n;return e=new Xe({props:{size:"sm",outline:!0,$$slots:{default:[nc]},$$scope:{ctx:i}}}),e.$on("click",i[10]),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,r){const l={};r&65536&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function nc(i){let e,n;return e=new xn({props:{icon:Sa}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p:Qe,i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function ao(i){let e,n,t;return{c(){e=v("option"),n=M("-"),this.h()},l(r){e=b(r,"OPTION",{});var l=R(e);n=H(l,"-"),l.forEach(f),this.h()},h(){e.__value=t=null,e.value=e.__value},m(r,l){h(r,e,l),d(e,n)},d(r){r&&f(e)}}}function fo(i){let e,n=i[13]+"",t,r,l=i[5][i[15]]+"",a,s,o;return{c(){e=v("option"),t=M(n),r=M(' (first value is "'),a=M(l),s=M('")'),this.h()},l(c){e=b(c,"OPTION",{});var u=R(e);t=H(u,n),r=H(u,' (first value is "'),a=H(u,l),s=H(u,'")'),u.forEach(f),this.h()},h(){e.__value=o=i[15],e.value=e.__value},m(c,u){h(c,e,u),d(e,t),d(e,r),d(e,a),d(e,s)},p(c,u){u&16&&n!==(n=c[13]+"")&&$t(t,n),u&32&&l!==(l=c[5][c[15]]+"")&&$t(a,l)},d(c){c&&f(e)}}}function uo(i){let e,n;return{c(){e=v("p"),n=M(i[1]),this.h()},l(t){e=b(t,"P",{class:!0});var r=R(e);n=H(r,i[1]),r.forEach(f),this.h()},h(){U(e,"class","help svelte-6rtvcp")},m(t,r){h(t,e,r),d(e,n)},p(t,r){r&2&&$t(n,t[1])},d(t){t&&f(e)}}}function ic(i){let e,n,t,r,l,a,s,o,c,u,p,k=i[1]&&oo(i),_=!i[3]&&ao(),D=i[4],B=[];for(let N=0;N<D.length;N+=1)B[N]=fo(so(i,D,N));let T=i[6]&&uo(i);return{c(){e=v("label"),n=v("span"),t=M(i[2]),r=C(),k&&k.c(),l=C(),a=v("select"),_&&_.c(),s=Ke();for(let N=0;N<B.length;N+=1)B[N].c();o=C(),T&&T.c(),this.h()},l(N){e=b(N,"LABEL",{style:!0});var E=R(e);n=b(E,"SPAN",{style:!0});var w=R(n);t=H(w,i[2]),r=S(w),k&&k.l(w),w.forEach(f),l=S(E),a=b(E,"SELECT",{});var F=R(a);_&&_.l(F),s=Ke();for(let I=0;I<B.length;I+=1)B[I].l(F);F.forEach(f),o=S(E),T&&T.l(E),E.forEach(f),this.h()},h(){ft(n,"display","inline-block"),ft(n,"width","180px"),i[0]===void 0&&Oo(()=>i[11].call(a)),ft(e,"margin-bottom","10px")},m(N,E){h(N,e,E),d(e,n),d(n,t),d(n,r),k&&k.m(n,null),d(e,l),d(e,a),_&&_.m(a,null),d(a,s);for(let w=0;w<B.length;w+=1)B[w].m(a,null);Ni(a,i[0]),d(e,o),T&&T.m(e,null),c=!0,u||(p=[be(a,"change",i[11]),be(a,"change",i[12])],u=!0)},p(N,[E]){if((!c||E&4)&&$t(t,N[2]),N[1]?k?(k.p(N,E),E&2&&W(k,1)):(k=oo(N),k.c(),W(k,1),k.m(n,null)):k&&(lt(),Y(k,1,1,()=>{k=null}),st()),N[3]?_&&(_.d(1),_=null):_||(_=ao(),_.c(),_.m(a,s)),E&48){D=N[4];let w;for(w=0;w<D.length;w+=1){const F=so(N,D,w);B[w]?B[w].p(F,E):(B[w]=fo(F),B[w].c(),B[w].m(a,null))}for(;w<B.length;w+=1)B[w].d(1);B.length=D.length}E&1&&Ni(a,N[0]),N[6]?T?T.p(N,E):(T=uo(N),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},i(N){c||(W(k),c=!0)},o(N){Y(k),c=!1},d(N){N&&f(e),k&&k.d(),_&&_.d(),nn(B,N),T&&T.d(),u=!1,wt(p)}}}function rc(i,e,n){let t;pl(i,Qn,T=>n(9,t=T));let{selectedFile:r}=e,{helpText:l=""}=e,a,s,o,{label:c=""}=e,{selectedField:u=null}=e,{required:p=!1}=e,k=!1;const _=()=>{console.log(`showHelp is ${k}`),n(6,k=!k)};function D(){u=Mo(this),n(0,u)}const B=()=>{u&&Ae.event("dat_11","Column Type Specified",c,a[u])};return i.$$set=T=>{"selectedFile"in T&&n(7,r=T.selectedFile),"helpText"in T&&n(1,l=T.helpText),"label"in T&&n(2,c=T.label),"selectedField"in T&&n(0,u=T.selectedField),"required"in T&&n(3,p=T.required)},i.$$.update=()=>{if(i.$$.dirty&640&&n(8,s=t[r].hasHeaderRow),i.$$.dirty&896){let T=t[r].data[0];s?(n(4,a=T),n(5,o=t[r].data[1])):(n(4,a=Object.keys(T)),n(5,o=t[r].data[0]))}i.$$.dirty&640&&console.log(t[r].data[0])},[u,l,c,p,a,o,k,r,s,t,_,D,B]}class dt extends et{constructor(e){super(),tt(this,e,rc,ic,nt,{selectedFile:7,helpText:1,label:2,selectedField:0,required:3})}}function co(i,e,n){const t=i.slice();return t[6]=e[n],t}function po(i){let e,n,t,r,l,a=i[2],s=[];for(let o=0;o<a.length;o+=1)s[o]=ho(co(i,a,o));return{c(){e=v("div"),n=v("h3"),t=M(i[0]),r=C(),l=v("table");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=b(o,"DIV",{class:!0});var c=R(e);n=b(c,"H3",{});var u=R(n);t=H(u,i[0]),u.forEach(f),r=S(c),l=b(c,"TABLE",{class:!0});var p=R(l);for(let k=0;k<s.length;k+=1)s[k].l(p);p.forEach(f),c.forEach(f),this.h()},h(){U(l,"class","svelte-ghu7y2"),U(e,"class","directiveGroup svelte-ghu7y2")},m(o,c){h(o,e,c),d(e,n),d(n,t),d(e,r),d(e,l);for(let u=0;u<s.length;u+=1)s[u].m(l,null)},p(o,c){if(c&1&&$t(t,o[0]),c&6){a=o[2];let u;for(u=0;u<a.length;u+=1){const p=co(o,a,u);s[u]?s[u].p(p,c):(s[u]=ho(p),s[u].c(),s[u].m(l,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=a.length}},d(o){o&&f(e),nn(s,o)}}}function ho(i){let e,n,t,r,l=i[6].code+"",a,s,o,c=i[6].definition+"",u,p,k,_=sl(i[6].code)(new Date)+"",D,B,T,N,E;function w(){return i[5](i[6])}return{c(){e=v("tr"),n=v("td"),t=v("button"),r=M("+ "),a=M(l),s=C(),o=v("td"),u=M(c),p=M(" (currently "),k=v("b"),D=M(_),B=M(")"),T=C(),this.h()},l(F){e=b(F,"TR",{class:!0});var I=R(e);n=b(I,"TD",{class:!0});var A=R(n);t=b(A,"BUTTON",{});var G=R(t);r=H(G,"+ "),a=H(G,l),G.forEach(f),A.forEach(f),s=S(I),o=b(I,"TD",{class:!0});var g=R(o);u=H(g,c),p=H(g," (currently "),k=b(g,"B",{});var m=R(k);D=H(m,_),m.forEach(f),B=H(g,")"),g.forEach(f),T=S(I),I.forEach(f),this.h()},h(){U(n,"class","svelte-ghu7y2"),U(o,"class","svelte-ghu7y2"),U(e,"class","svelte-ghu7y2")},m(F,I){h(F,e,I),d(e,n),d(n,t),d(t,r),d(t,a),d(e,s),d(e,o),d(o,u),d(o,p),d(o,k),d(k,D),d(o,B),d(e,T),N||(E=be(t,"click",w),N=!0)},p(F,I){i=F,I&4&&l!==(l=i[6].code+"")&&$t(a,l),I&4&&c!==(c=i[6].definition+"")&&$t(u,c),I&4&&_!==(_=sl(i[6].code)(new Date)+"")&&$t(D,_)},d(F){F&&f(e),N=!1,E()}}}function lc(i){let e,n=i[2].length>0&&po(i);return{c(){n&&n.c(),e=Ke()},l(t){n&&n.l(t),e=Ke()},m(t,r){n&&n.m(t,r),h(t,e,r)},p(t,[r]){t[2].length>0?n?n.p(t,r):(n=po(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Qe,o:Qe,d(t){n&&n.d(t),t&&f(e)}}}function sc(i,e,n){let{groupTitle:t}=e,{directives:r}=e,{filter:l}=e,{addDirective:a}=e,s;const o=c=>{a(c.code)};return i.$$set=c=>{"groupTitle"in c&&n(0,t=c.groupTitle),"directives"in c&&n(3,r=c.directives),"filter"in c&&n(4,l=c.filter),"addDirective"in c&&n(1,a=c.addDirective)},i.$$.update=()=>{i.$$.dirty&24&&n(2,s=r.filter(c=>c.definition.includes(l)||c.code.includes(l)))},[t,a,s,r,l,o]}class oc extends et{constructor(e){super(),tt(this,e,sc,lc,nt,{groupTitle:0,directives:3,filter:4,addDirective:1})}}const cl={Year:[{code:"%Y",definition:"year with century as a decimal number",example:"1999"},{code:"%y",definition:"year without century as a decimal number",example:"99"},{code:"%G",definition:"ISO 8601 week-based year with century as a decimal number",example:"1999",obscure:!0},{code:"%g",definition:"ISO 8601 week-based year without century as a decimal number",example:"99",obscure:!0}],Quarter:[{code:"%q",definition:"quarter of the year as a decimal number [1,4]",example:"2"}],Month:[{code:"%B",definition:"full month name",example:"November"},{code:"%b",definition:"abbreviated month name",example:"Nov"},{code:"%m",definition:"month as a decimal number [01,12]",example:"11"}],"Week of year":[{code:"%U",definition:"Sunday-based week of the year as a decimal number [00,53]",example:"42"},{code:"%W",definition:"Monday-based week of the year as a decimal number [00,53]",example:"42"},{code:"%V",definition:"ISO 8601 week of the year as a decimal number [01, 53]",example:"41",obscure:!0}],"Day of week":[{code:"%a",definition:"abbreviated weekday name",example:"Tue"},{code:"%A",definition:"full weekday name",example:"Tuesday"},{code:"%u",definition:"Monday-based (ISO 8601) weekday as a decimal number [1,7]",example:"2"},{code:"%w",definition:"Sunday-based weekday as a decimal number [0,6]",example:"1"}],"Day of month":[{code:"%d",definition:"zero-padded day of the month as a decimal number [01,31]",example:"04"},{code:"%e",definition:"space-padded day of the month as a decimal number [ 1,31]; equivalent to %_d",example:" 4"}],"Day of year":[{code:"%j",definition:"day of the year as a decimal number [001,366]",example:"125"}],"Unix time":[{code:"%Q",definition:"milliseconds since UNIX epoch",example:"1634050951000"},{code:"%s",definition:"seconds since UNIX epoch",example:"1634050951"}],Time:[{code:"%H",definition:"hour (24-hour clock) as a decimal number [00,23]",example:"22"},{code:"%I",definition:"hour (12-hour clock) as a decimal number [01,12]",example:"10"},{code:"%P",definition:"either A (for AM) or P (for PM).",example:"AM"},{code:"%p",definition:"either AM or PM.",example:"AM"},{code:"%M",definition:"minute as a decimal number [00,59]",example:"45"},{code:"%S",definition:"second as a decimal number [00,61]",example:"15"},{code:"%L",definition:"milliseconds as a decimal number [000, 999]",example:"400"},{code:"%f",definition:"microseconds as a decimal number [000000, 999999]",example:"400000"},{code:"%Z",definition:"time zone offset",example:""}]};function _o(i,e,n){const t=i.slice();return t[9]=e[n],t}function mo(i){let e,n;return e=new oc({props:{directives:cl[i[9]],groupTitle:i[9],filter:i[1],addDirective:i[3]}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.filter=t[1]),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function ac(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j,y,$=Object.keys(cl),q=[];for(let O=0;O<$.length;O+=1)q[O]=mo(_o(i,$,O));const K=O=>Y(q[O],1,1,()=>{q[O]=null});return{c(){e=v("h2"),n=M("Datetime format string"),t=C(),r=v("p"),l=v("b"),a=M(`Type in the input box to edit the format string, or click on a button to append the
		corresponding directive. You can manually enter character such as colons, hyphens, spaces, or
		parentheses.`),s=C(),o=v("label"),c=M(`Date format:
	`),u=v("input"),p=C(),k=v("p"),_=M("In this format, the current datetime is "),D=v("b"),B=M(i[2]),T=M("."),N=C(),E=v("h2"),w=M("Possible directives"),F=C(),I=v("label"),A=M(`Filter:
	`),G=v("input"),g=C();for(let O=0;O<q.length;O+=1)q[O].c();m=Ke(),this.h()},l(O){e=b(O,"H2",{});var V=R(e);n=H(V,"Datetime format string"),V.forEach(f),t=S(O),r=b(O,"P",{});var te=R(r);l=b(te,"B",{});var J=R(l);a=H(J,`Type in the input box to edit the format string, or click on a button to append the
		corresponding directive. You can manually enter character such as colons, hyphens, spaces, or
		parentheses.`),J.forEach(f),te.forEach(f),s=S(O),o=b(O,"LABEL",{});var fe=R(o);c=H(fe,`Date format:
	`),u=b(fe,"INPUT",{id:!0}),fe.forEach(f),p=S(O),k=b(O,"P",{});var me=R(k);_=H(me,"In this format, the current datetime is "),D=b(me,"B",{});var ne=R(D);B=H(ne,i[2]),ne.forEach(f),T=H(me,"."),me.forEach(f),N=S(O),E=b(O,"H2",{});var ce=R(E);w=H(ce,"Possible directives"),ce.forEach(f),F=S(O),I=b(O,"LABEL",{});var ae=R(I);A=H(ae,`Filter:
	`),G=b(ae,"INPUT",{}),ae.forEach(f),g=S(O);for(let X=0;X<q.length;X+=1)q[X].l(O);m=Ke(),this.h()},h(){U(u,"id","date-form-input")},m(O,V){h(O,e,V),d(e,n),h(O,t,V),h(O,r,V),d(r,l),d(l,a),h(O,s,V),h(O,o,V),d(o,c),d(o,u),an(u,i[0]),h(O,p,V),h(O,k,V),d(k,_),d(k,D),d(D,B),d(k,T),h(O,N,V),h(O,E,V),d(E,w),h(O,F,V),h(O,I,V),d(I,A),d(I,G),an(G,i[1]),h(O,g,V);for(let te=0;te<q.length;te+=1)q[te].m(O,V);h(O,m,V),z=!0,j||(y=[be(u,"input",i[6]),be(G,"input",i[7])],j=!0)},p(O,[V]){if(V&1&&u.value!==O[0]&&an(u,O[0]),(!z||V&4)&&$t(B,O[2]),V&2&&G.value!==O[1]&&an(G,O[1]),V&10){$=Object.keys(cl);let te;for(te=0;te<$.length;te+=1){const J=_o(O,$,te);q[te]?(q[te].p(J,V),W(q[te],1)):(q[te]=mo(J),q[te].c(),W(q[te],1),q[te].m(m.parentNode,m))}for(lt(),te=$.length;te<q.length;te+=1)K(te);st()}},i(O){if(!z){for(let V=0;V<$.length;V+=1)W(q[V]);z=!0}},o(O){q=q.filter(Boolean);for(let V=0;V<q.length;V+=1)Y(q[V]);z=!1},d(O){O&&f(e),O&&f(t),O&&f(r),O&&f(s),O&&f(o),O&&f(p),O&&f(k),O&&f(N),O&&f(E),O&&f(F),O&&f(I),O&&f(g),nn(q,O),O&&f(m),j=!1,wt(y)}}}function fc(i,e,n){let t,{formatString:r=""}=e,{formatter:l,formattedDate:a}=e,s="";const o=async p=>{const k=document.getElementById("date-form-input").selectionStart;n(0,r=r.slice(0,k)+p+r.slice(k)),await va(),document.getElementById("date-form-input").focus(),console.log("Setting selection range to:",k+p.length),document.getElementById("date-form-input").setSelectionRange(k+p.length,k+p.length)};function c(){r=this.value,n(0,r)}function u(){s=this.value,n(1,s)}return i.$$set=p=>{"formatString"in p&&n(0,r=p.formatString),"formatter"in p&&n(4,l=p.formatter),"formattedDate"in p&&n(5,a=p.formattedDate)},i.$$.update=()=>{i.$$.dirty&1&&n(4,l=sl(r)),i.$$.dirty&16&&n(2,t=l(new Date))},[r,s,t,o,l,a,c,u]}class uc extends et{constructor(e){super(),tt(this,e,fc,ac,nt,{formatString:0,formatter:4,formattedDate:5})}}function cc(i){let e;return{c(){e=M("Edit")},l(n){e=H(n,"Edit")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function dc(i){let e;return{c(){e=M("Datetime format")},l(n){e=H(n,"Datetime format")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function pc(i){let e,n,t;function r(a){i[3](a)}let l={};return i[0]!==void 0&&(l.formatString=i[0]),e=new uc({props:l}),Ce.push(()=>De(e,"formatString",r)),{c(){Q(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,s){x(e,a,s),t=!0},p(a,s){const o={};!n&&s&1&&(n=!0,o.formatString=a[0],Ne(()=>n=!1)),e.$set(o)},i(a){t||(W(e.$$.fragment,a),t=!0)},o(a){Y(e.$$.fragment,a),t=!1},d(a){ee(e,a)}}}function hc(i){let e,n,t,r,l,a;return e=new wa({props:{toggle:i[2],$$slots:{default:[dc]},$$scope:{ctx:i}}}),t=new Fa({props:{$$slots:{default:[pc]},$$scope:{ctx:i}}}),l=new Ta({}),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment),r=C(),Q(l.$$.fragment)},l(s){Z(e.$$.fragment,s),n=S(s),Z(t.$$.fragment,s),r=S(s),Z(l.$$.fragment,s)},m(s,o){x(e,s,o),h(s,n,o),x(t,s,o),h(s,r,o),x(l,s,o),a=!0},p(s,o){const c={};o&16&&(c.$$scope={dirty:o,ctx:s}),e.$set(c);const u={};o&17&&(u.$$scope={dirty:o,ctx:s}),t.$set(u)},i(s){a||(W(e.$$.fragment,s),W(t.$$.fragment,s),W(l.$$.fragment,s),a=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),Y(l.$$.fragment,s),a=!1},d(s){ee(e,s),s&&f(n),ee(t,s),s&&f(r),ee(l,s)}}}function _c(i){let e,n,t,r,l,a,s,o,c,u;return s=new Xe({props:{outline:!0,color:"secondary",$$slots:{default:[cc]},$$scope:{ctx:i}}}),s.$on("click",i[2]),c=new $a({props:{isOpen:i[1],toggle:i[2],$$slots:{default:[hc]},$$scope:{ctx:i}}}),{c(){e=v("div"),n=v("h4"),t=M("4. Specify a date format:"),r=C(),l=M(i[0]),a=C(),Q(s.$$.fragment),o=C(),Q(c.$$.fragment)},l(p){e=b(p,"DIV",{});var k=R(e);n=b(k,"H4",{});var _=R(n);t=H(_,"4. Specify a date format:"),_.forEach(f),r=S(k),l=H(k,i[0]),a=S(k),Z(s.$$.fragment,k),o=S(k),Z(c.$$.fragment,k),k.forEach(f)},m(p,k){h(p,e,k),d(e,n),d(n,t),d(e,r),d(e,l),d(e,a),x(s,e,null),d(e,o),x(c,e,null),u=!0},p(p,[k]){(!u||k&1)&&$t(l,p[0]);const _={};k&16&&(_.$$scope={dirty:k,ctx:p}),s.$set(_);const D={};k&2&&(D.isOpen=p[1]),k&17&&(D.$$scope={dirty:k,ctx:p}),c.$set(D)},i(p){u||(W(s.$$.fragment,p),W(c.$$.fragment,p),u=!0)},o(p){Y(s.$$.fragment,p),Y(c.$$.fragment,p),u=!1},d(p){p&&f(e),ee(s),ee(c)}}}function mc(i,e,n){let{formatString:t=""}=e,r=!1;const l=()=>n(1,r=!r);function a(s){t=s,n(0,t)}return i.$$set=s=>{"formatString"in s&&n(0,t=s.formatString)},[t,r,l,a]}class gc extends et{constructor(e){super(),tt(this,e,mc,_c,nt,{formatString:0})}}function go(i){let e,n,t,r=i[0].edgeTimeType==="pointTime"&&vo(i),l=i[0].edgeTimeType==="pointTime"&&bo(i);return{c(){r&&r.c(),e=C(),l&&l.c(),n=Ke()},l(a){r&&r.l(a),e=S(a),l&&l.l(a),n=Ke()},m(a,s){r&&r.m(a,s),h(a,e,s),l&&l.m(a,s),h(a,n,s),t=!0},p(a,s){a[0].edgeTimeType==="pointTime"?r?(r.p(a,s),s&1&&W(r,1)):(r=vo(a),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(lt(),Y(r,1,1,()=>{r=null}),st()),a[0].edgeTimeType==="pointTime"?l?(l.p(a,s),s&1&&W(l,1)):(l=bo(a),l.c(),W(l,1),l.m(n.parentNode,n)):l&&(lt(),Y(l,1,1,()=>{l=null}),st())},i(a){t||(W(r),W(l),t=!0)},o(a){Y(r),Y(l),t=!1},d(a){r&&r.d(a),a&&f(e),l&&l.d(a),a&&f(n)}}}function vo(i){let e,n,t;function r(a){i[7](a)}let l={selectedFile:i[1],label:"Time",required:!0};return i[0].timeField!==void 0&&(l.selectedField=i[0].timeField),e=new dt({props:l}),Ce.push(()=>De(e,"selectedField",r)),{c(){Q(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,s){x(e,a,s),t=!0},p(a,s){const o={};s&2&&(o.selectedFile=a[1]),!n&&s&1&&(n=!0,o.selectedField=a[0].timeField,Ne(()=>n=!1)),e.$set(o)},i(a){t||(W(e.$$.fragment,a),t=!0)},o(a){Y(e.$$.fragment,a),t=!1},d(a){ee(e,a)}}}function bo(i){let e,n,t;function r(a){i[8](a)}let l={};return i[0].formatString!==void 0&&(l.formatString=i[0].formatString),e=new gc({props:l}),Ce.push(()=>De(e,"formatString",r)),{c(){Q(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,s){x(e,a,s),t=!0},p(a,s){const o={};!n&&s&1&&(n=!0,o.formatString=a[0].formatString,Ne(()=>n=!1)),e.$set(o)},i(a){t||(W(e.$$.fragment,a),t=!0)},o(a){Y(e.$$.fragment,a),t=!1},d(a){ee(e,a)}}}function vc(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j=i[1]&&go(i);return{c(){e=v("h4"),n=M("3. Are links associated with time?"),t=C(),r=v("input"),l=C(),a=v("b"),s=M("No"),o=M(`, my links do not have associated times or this information is not recorded.
`),c=v("br"),u=C(),p=v("input"),k=C(),_=v("b"),D=M("Yes"),B=M(", each link is associated with a "),T=v("i"),N=M("single time"),E=M(` (for example, if edges correspond to
letters posted from one person to another at a particular time)

`),w=v("br"),F=C(),I=v("br"),A=C(),j&&j.c(),G=Ke(),this.h()},l(y){e=b(y,"H4",{});var $=R(e);n=H($,"3. Are links associated with time?"),$.forEach(f),t=S(y),r=b(y,"INPUT",{type:!0}),l=S(y),a=b(y,"B",{});var q=R(a);s=H(q,"No"),q.forEach(f),o=H(y,`, my links do not have associated times or this information is not recorded.
`),c=b(y,"BR",{}),u=S(y),p=b(y,"INPUT",{type:!0}),k=S(y),_=b(y,"B",{});var K=R(_);D=H(K,"Yes"),K.forEach(f),B=H(y,", each link is associated with a "),T=b(y,"I",{});var O=R(T);N=H(O,"single time"),O.forEach(f),E=H(y,` (for example, if edges correspond to
letters posted from one person to another at a particular time)

`),w=b(y,"BR",{}),F=S(y),I=b(y,"BR",{}),A=S(y),j&&j.l(y),G=Ke(),this.h()},h(){U(r,"type","radio"),r.__value=null,r.value=r.__value,i[3][0].push(r),U(p,"type","radio"),p.__value="pointTime",p.value=p.__value,i[3][0].push(p)},m(y,$){h(y,e,$),d(e,n),h(y,t,$),h(y,r,$),r.checked=r.__value===i[0].edgeTimeType,h(y,l,$),h(y,a,$),d(a,s),h(y,o,$),h(y,c,$),h(y,u,$),h(y,p,$),p.checked=p.__value===i[0].edgeTimeType,h(y,k,$),h(y,_,$),d(_,D),h(y,B,$),h(y,T,$),d(T,N),h(y,E,$),h(y,w,$),h(y,F,$),h(y,I,$),h(y,A,$),j&&j.m(y,$),h(y,G,$),g=!0,m||(z=[be(r,"change",i[2]),be(r,"click",i[4]),be(p,"change",i[5]),be(p,"click",i[6])],m=!0)},p(y,[$]){$&1&&(r.checked=r.__value===y[0].edgeTimeType),$&1&&(p.checked=p.__value===y[0].edgeTimeType),y[1]?j?(j.p(y,$),$&2&&W(j,1)):(j=go(y),j.c(),W(j,1),j.m(G.parentNode,G)):j&&(lt(),Y(j,1,1,()=>{j=null}),st())},i(y){g||(W(j),g=!0)},o(y){Y(j),g=!1},d(y){y&&f(e),y&&f(t),y&&f(r),i[3][0].splice(i[3][0].indexOf(r),1),y&&f(l),y&&f(a),y&&f(o),y&&f(c),y&&f(u),y&&f(p),i[3][0].splice(i[3][0].indexOf(p),1),y&&f(k),y&&f(_),y&&f(B),y&&f(T),y&&f(E),y&&f(w),y&&f(F),y&&f(I),y&&f(A),j&&j.d(y),y&&f(G),m=!1,wt(z)}}}function bc(i,e,n){let{config:t={edgeTimeType:null,selectedFile:null,startTimeField:null,endTimeField:null,timeField:null,formatString:""}}=e,{selectedFile:r=null}=e;const l=[[]];function a(){t.edgeTimeType=this.__value,n(0,t)}const s=()=>{Ae.event("dat_11","Column Type Specified","Time","No")};function o(){t.edgeTimeType=this.__value,n(0,t)}const c=()=>{Ae.event("dat_11","Column Type Specified","Time","Yes")};function u(k){i.$$.not_equal(t.timeField,k)&&(t.timeField=k,n(0,t))}function p(k){i.$$.not_equal(t.formatString,k)&&(t.formatString=k,n(0,t))}return i.$$set=k=>{"config"in k&&n(0,t=k.config),"selectedFile"in k&&n(1,r=k.selectedFile)},[t,r,a,l,s,o,c,u,p]}class kc extends et{constructor(e){super(),tt(this,e,bc,vc,nt,{config:0,selectedFile:1})}}function yc(i){let e,n;return{c(){e=v("h4"),n=M("Specifying your link table")},l(t){e=b(t,"H4",{});var r=R(e);n=H(r,"Specifying your link table"),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},d(t){t&&f(e)}}}function ko(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j,y,$,q,K,O,V,te,J,fe,me,ne,ce,ae,X,L,he,ke,se,ie,ue,we,ye,de,ve,pe,Ee,Ue,Le,Me,Oe,He,re,Fe,$e,Te,ze;function Je(P){i[11](P)}let rt={selectedFile:i[0].selectedFile,label:"Source node label:*",required:!0};i[0].fieldSourceId!==void 0&&(rt.selectedField=i[0].fieldSourceId),T=new dt({props:rt}),Ce.push(()=>De(T,"selectedField",Je));function Ze(P){i[12](P)}let Ge={selectedFile:i[0].selectedFile,label:"Target node label:*",required:!0};i[0].fieldTargetId!==void 0&&(Ge.selectedField=i[0].fieldTargetId),I=new dt({props:Ge}),Ce.push(()=>De(I,"selectedField",Ze));function Et(P){i[13](P)}let ge={selectedFile:i[0].selectedFile,label:"Link ID:"};i[0].fieldLinkId!==void 0&&(ge.selectedField=i[0].fieldLinkId),K=new dt({props:ge}),Ce.push(()=>De(K,"selectedField",Et));function je(P){i[14](P)}let it={selectedFile:i[0].selectedFile,label:"Location of source node:"};i[0].fieldLocationSource!==void 0&&(it.selectedField=i[0].fieldLocationSource),fe=new dt({props:it}),Ce.push(()=>De(fe,"selectedField",je));function Ye(P){i[15](P)}let Ft={selectedFile:i[0].selectedFile,label:"Location of target node:"};i[0].fieldLocationTarget!==void 0&&(Ft.selectedField=i[0].fieldLocationTarget),X=new dt({props:Ft}),Ce.push(()=>De(X,"selectedField",Ye));function xe(P){i[16](P)}let qe={selectedFile:i[0].selectedFile,label:"Link weight:",helpText:"A numerical measure of the strength of connection between nodes (e.g., the travel time between two locations, the value of a cash transfer.)"};i[0].fieldWeight!==void 0&&(qe.selectedField=i[0].fieldWeight),ie=new dt({props:qe}),Ce.push(()=>De(ie,"selectedField",xe));function Bt(P){i[17](P)}let at={selectedFile:i[0].selectedFile,label:"Link type:"};i[0].fieldLinkType!==void 0&&(at.selectedField=i[0].fieldLinkType),ve=new dt({props:at}),Ce.push(()=>De(ve,"selectedField",Bt));let Pe=i[0].edgesAreDirected&&yo(i);function It(P){i[19](P)}let xt={selectedFile:i[0].selectedFile};return i[0].timeConfig!==void 0&&(xt.config=i[0].timeConfig),$e=new kc({props:xt}),Ce.push(()=>De($e,"config",It)),{c(){e=v("br"),n=C(),t=v("br"),r=C(),l=v("h4"),a=M("2. What is the structure of your link table?"),s=C(),o=v("p"),c=M("From the dropdowns below, select the columns in your link table."),u=C(),p=v("br"),k=C(),_=v("h5"),D=M("Required fields:"),B=C(),Q(T.$$.fragment),E=C(),w=v("br"),F=C(),Q(I.$$.fragment),G=C(),g=v("br"),m=C(),z=v("br"),j=C(),y=v("h5"),$=M("Optional fields:"),q=C(),Q(K.$$.fragment),V=C(),te=v("br"),J=C(),Q(fe.$$.fragment),ne=C(),ce=v("br"),ae=C(),Q(X.$$.fragment),he=C(),ke=v("br"),se=C(),Q(ie.$$.fragment),we=C(),ye=v("br"),de=C(),Q(ve.$$.fragment),Ee=C(),Ue=v("br"),Le=C(),Pe&&Pe.c(),Me=C(),Oe=v("br"),He=C(),re=v("br"),Fe=C(),Q($e.$$.fragment)},l(P){e=b(P,"BR",{}),n=S(P),t=b(P,"BR",{}),r=S(P),l=b(P,"H4",{});var oe=R(l);a=H(oe,"2. What is the structure of your link table?"),oe.forEach(f),s=S(P),o=b(P,"P",{});var _t=R(o);c=H(_t,"From the dropdowns below, select the columns in your link table."),_t.forEach(f),u=S(P),p=b(P,"BR",{}),k=S(P),_=b(P,"H5",{});var Ct=R(_);D=H(Ct,"Required fields:"),Ct.forEach(f),B=S(P),Z(T.$$.fragment,P),E=S(P),w=b(P,"BR",{}),F=S(P),Z(I.$$.fragment,P),G=S(P),g=b(P,"BR",{}),m=S(P),z=b(P,"BR",{}),j=S(P),y=b(P,"H5",{});var ut=R(y);$=H(ut,"Optional fields:"),ut.forEach(f),q=S(P),Z(K.$$.fragment,P),V=S(P),te=b(P,"BR",{}),J=S(P),Z(fe.$$.fragment,P),ne=S(P),ce=b(P,"BR",{}),ae=S(P),Z(X.$$.fragment,P),he=S(P),ke=b(P,"BR",{}),se=S(P),Z(ie.$$.fragment,P),we=S(P),ye=b(P,"BR",{}),de=S(P),Z(ve.$$.fragment,P),Ee=S(P),Ue=b(P,"BR",{}),Le=S(P),Pe&&Pe.l(P),Me=S(P),Oe=b(P,"BR",{}),He=S(P),re=b(P,"BR",{}),Fe=S(P),Z($e.$$.fragment,P)},m(P,oe){h(P,e,oe),h(P,n,oe),h(P,t,oe),h(P,r,oe),h(P,l,oe),d(l,a),h(P,s,oe),h(P,o,oe),d(o,c),h(P,u,oe),h(P,p,oe),h(P,k,oe),h(P,_,oe),d(_,D),h(P,B,oe),x(T,P,oe),h(P,E,oe),h(P,w,oe),h(P,F,oe),x(I,P,oe),h(P,G,oe),h(P,g,oe),h(P,m,oe),h(P,z,oe),h(P,j,oe),h(P,y,oe),d(y,$),h(P,q,oe),x(K,P,oe),h(P,V,oe),h(P,te,oe),h(P,J,oe),x(fe,P,oe),h(P,ne,oe),h(P,ce,oe),h(P,ae,oe),x(X,P,oe),h(P,he,oe),h(P,ke,oe),h(P,se,oe),x(ie,P,oe),h(P,we,oe),h(P,ye,oe),h(P,de,oe),x(ve,P,oe),h(P,Ee,oe),h(P,Ue,oe),h(P,Le,oe),Pe&&Pe.m(P,oe),h(P,Me,oe),h(P,Oe,oe),h(P,He,oe),h(P,re,oe),h(P,Fe,oe),x($e,P,oe),ze=!0},p(P,oe){const _t={};oe&1&&(_t.selectedFile=P[0].selectedFile),!N&&oe&1&&(N=!0,_t.selectedField=P[0].fieldSourceId,Ne(()=>N=!1)),T.$set(_t);const Ct={};oe&1&&(Ct.selectedFile=P[0].selectedFile),!A&&oe&1&&(A=!0,Ct.selectedField=P[0].fieldTargetId,Ne(()=>A=!1)),I.$set(Ct);const ut={};oe&1&&(ut.selectedFile=P[0].selectedFile),!O&&oe&1&&(O=!0,ut.selectedField=P[0].fieldLinkId,Ne(()=>O=!1)),K.$set(ut);const Pt={};oe&1&&(Pt.selectedFile=P[0].selectedFile),!me&&oe&1&&(me=!0,Pt.selectedField=P[0].fieldLocationSource,Ne(()=>me=!1)),fe.$set(Pt);const jt={};oe&1&&(jt.selectedFile=P[0].selectedFile),!L&&oe&1&&(L=!0,jt.selectedField=P[0].fieldLocationTarget,Ne(()=>L=!1)),X.$set(jt);const St={};oe&1&&(St.selectedFile=P[0].selectedFile),!ue&&oe&1&&(ue=!0,St.selectedField=P[0].fieldWeight,Ne(()=>ue=!1)),ie.$set(St);const qt={};oe&1&&(qt.selectedFile=P[0].selectedFile),!pe&&oe&1&&(pe=!0,qt.selectedField=P[0].fieldLinkType,Ne(()=>pe=!1)),ve.$set(qt),P[0].edgesAreDirected?Pe?(Pe.p(P,oe),oe&1&&W(Pe,1)):(Pe=yo(P),Pe.c(),W(Pe,1),Pe.m(Me.parentNode,Me)):Pe&&(lt(),Y(Pe,1,1,()=>{Pe=null}),st());const Wt={};oe&1&&(Wt.selectedFile=P[0].selectedFile),!Te&&oe&1&&(Te=!0,Wt.config=P[0].timeConfig,Ne(()=>Te=!1)),$e.$set(Wt)},i(P){ze||(W(T.$$.fragment,P),W(I.$$.fragment,P),W(K.$$.fragment,P),W(fe.$$.fragment,P),W(X.$$.fragment,P),W(ie.$$.fragment,P),W(ve.$$.fragment,P),W(Pe),W($e.$$.fragment,P),ze=!0)},o(P){Y(T.$$.fragment,P),Y(I.$$.fragment,P),Y(K.$$.fragment,P),Y(fe.$$.fragment,P),Y(X.$$.fragment,P),Y(ie.$$.fragment,P),Y(ve.$$.fragment,P),Y(Pe),Y($e.$$.fragment,P),ze=!1},d(P){P&&f(e),P&&f(n),P&&f(t),P&&f(r),P&&f(l),P&&f(s),P&&f(o),P&&f(u),P&&f(p),P&&f(k),P&&f(_),P&&f(B),ee(T,P),P&&f(E),P&&f(w),P&&f(F),ee(I,P),P&&f(G),P&&f(g),P&&f(m),P&&f(z),P&&f(j),P&&f(y),P&&f(q),ee(K,P),P&&f(V),P&&f(te),P&&f(J),ee(fe,P),P&&f(ne),P&&f(ce),P&&f(ae),ee(X,P),P&&f(he),P&&f(ke),P&&f(se),ee(ie,P),P&&f(we),P&&f(ye),P&&f(de),ee(ve,P),P&&f(Ee),P&&f(Ue),P&&f(Le),Pe&&Pe.d(P),P&&f(Me),P&&f(Oe),P&&f(He),P&&f(re),P&&f(Fe),ee($e,P)}}}function yo(i){let e,n,t,r,l;function a(o){i[18](o)}let s={selectedFile:i[0].selectedFile,label:"Whether a link is directed:"};return i[0].fieldLinkIsDirected!==void 0&&(s.selectedField=i[0].fieldLinkIsDirected),e=new dt({props:s}),Ce.push(()=>De(e,"selectedField",a)),{c(){Q(e.$$.fragment),t=C(),r=v("br")},l(o){Z(e.$$.fragment,o),t=S(o),r=b(o,"BR",{})},m(o,c){x(e,o,c),h(o,t,c),h(o,r,c),l=!0},p(o,c){const u={};c&1&&(u.selectedFile=o[0].selectedFile),!n&&c&1&&(n=!0,u.selectedField=o[0].fieldLinkIsDirected,Ne(()=>n=!1)),e.$set(u)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){Y(e.$$.fragment,o),l=!1},d(o){ee(e,o),o&&f(t),o&&f(r)}}}function $c(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j,y,$,q,K,O,V,te,J,fe,me;function ne(X){i[10](X)}let ce={};i[0].selectedFile!==void 0&&(ce.selectedFile=i[0].selectedFile),K=new ci({props:ce}),Ce.push(()=>De(K,"selectedFile",ne));let ae=i[0].selectedFile&&ko(i);return{c(){e=v("h4"),n=M("1. Are links "),t=v("i"),r=M("directed"),l=M("?"),a=C(),s=v("p"),o=M("Doses it matter which node is the "),c=v("b"),u=M("source"),p=M(`, and which is the
			`),k=v("b"),_=M("target"),D=M("?"),B=C(),T=v("input"),N=M(`
		Yes
		`),E=v("br"),w=C(),F=v("input"),I=M(`
		No

		`),A=v("br"),G=C(),g=v("br"),m=C(),z=v("h4"),j=M("2. Upload your table"),y=C(),$=v("br"),q=C(),Q(K.$$.fragment),V=C(),ae&&ae.c(),te=Ke(),this.h()},l(X){e=b(X,"H4",{});var L=R(e);n=H(L,"1. Are links "),t=b(L,"I",{});var he=R(t);r=H(he,"directed"),he.forEach(f),l=H(L,"?"),L.forEach(f),a=S(X),s=b(X,"P",{});var ke=R(s);o=H(ke,"Doses it matter which node is the "),c=b(ke,"B",{});var se=R(c);u=H(se,"source"),se.forEach(f),p=H(ke,`, and which is the
			`),k=b(ke,"B",{});var ie=R(k);_=H(ie,"target"),ie.forEach(f),D=H(ke,"?"),ke.forEach(f),B=S(X),T=b(X,"INPUT",{type:!0}),N=H(X,`
		Yes
		`),E=b(X,"BR",{}),w=S(X),F=b(X,"INPUT",{type:!0}),I=H(X,`
		No

		`),A=b(X,"BR",{}),G=S(X),g=b(X,"BR",{}),m=S(X),z=b(X,"H4",{});var ue=R(z);j=H(ue,"2. Upload your table"),ue.forEach(f),y=S(X),$=b(X,"BR",{}),q=S(X),Z(K.$$.fragment,X),V=S(X),ae&&ae.l(X),te=Ke(),this.h()},h(){U(T,"type","radio"),T.__value=!0,T.value=T.__value,i[6][0].push(T),U(F,"type","radio"),F.__value=!1,F.value=F.__value,i[6][0].push(F)},m(X,L){h(X,e,L),d(e,n),d(e,t),d(t,r),d(e,l),h(X,a,L),h(X,s,L),d(s,o),d(s,c),d(c,u),d(s,p),d(s,k),d(k,_),d(s,D),h(X,B,L),h(X,T,L),T.checked=T.__value===i[0].edgesAreDirected,h(X,N,L),h(X,E,L),h(X,w,L),h(X,F,L),F.checked=F.__value===i[0].edgesAreDirected,h(X,I,L),h(X,A,L),h(X,G,L),h(X,g,L),h(X,m,L),h(X,z,L),d(z,j),h(X,y,L),h(X,$,L),h(X,q,L),x(K,X,L),h(X,V,L),ae&&ae.m(X,L),h(X,te,L),J=!0,fe||(me=[be(T,"change",i[5]),be(T,"click",i[7]),be(F,"change",i[8]),be(F,"click",i[9])],fe=!0)},p(X,L){L&1&&(T.checked=T.__value===X[0].edgesAreDirected),L&1&&(F.checked=F.__value===X[0].edgesAreDirected);const he={};!O&&L&1&&(O=!0,he.selectedFile=X[0].selectedFile,Ne(()=>O=!1)),K.$set(he),X[0].selectedFile?ae?(ae.p(X,L),L&1&&W(ae,1)):(ae=ko(X),ae.c(),W(ae,1),ae.m(te.parentNode,te)):ae&&(lt(),Y(ae,1,1,()=>{ae=null}),st())},i(X){J||(W(K.$$.fragment,X),W(ae),J=!0)},o(X){Y(K.$$.fragment,X),Y(ae),J=!1},d(X){X&&f(e),X&&f(a),X&&f(s),X&&f(B),X&&f(T),i[6][0].splice(i[6][0].indexOf(T),1),X&&f(N),X&&f(E),X&&f(w),X&&f(F),i[6][0].splice(i[6][0].indexOf(F),1),X&&f(I),X&&f(A),X&&f(G),X&&f(g),X&&f(m),X&&f(z),X&&f(y),X&&f($),X&&f(q),ee(K,X),X&&f(V),ae&&ae.d(X),X&&f(te),fe=!1,wt(me)}}}function wc(i){let e;return{c(){e=M("Previous")},l(n){e=H(n,"Previous")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Fc(i){let e;return{c(){e=M("Next")},l(n){e=H(n,"Next")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Tc(i){let e,n,t,r;return e=new Xe({props:{style:"float: left",$$slots:{default:[wc]},$$scope:{ctx:i}}}),e.$on("click",i[20]),t=new Xe({props:{style:"float: right",disabled:!i[4],$$slots:{default:[Fc]},$$scope:{ctx:i}}}),t.$on("click",i[21]),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment)},l(l){Z(e.$$.fragment,l),n=S(l),Z(t.$$.fragment,l)},m(l,a){x(e,l,a),h(l,n,a),x(t,l,a),r=!0},p(l,a){const s={};a&4194304&&(s.$$scope={dirty:a,ctx:l}),e.$set(s);const o={};a&16&&(o.disabled=!l[4]),a&4194304&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(W(e.$$.fragment,l),W(t.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(t.$$.fragment,l),r=!1},d(l){ee(e,l),l&&f(n),ee(t,l)}}}function Ec(i){let e,n,t,r,l,a;return e=new un({props:{$$slots:{default:[yc]},$$scope:{ctx:i}}}),t=new ln({props:{$$slots:{default:[$c]},$$scope:{ctx:i}}}),l=new sn({props:{$$slots:{default:[Tc]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment),r=C(),Q(l.$$.fragment)},l(s){Z(e.$$.fragment,s),n=S(s),Z(t.$$.fragment,s),r=S(s),Z(l.$$.fragment,s)},m(s,o){x(e,s,o),h(s,n,o),x(t,s,o),h(s,r,o),x(l,s,o),a=!0},p(s,o){const c={};o&4194304&&(c.$$scope={dirty:o,ctx:s}),e.$set(c);const u={};o&4194305&&(u.$$scope={dirty:o,ctx:s}),t.$set(u);const p={};o&4194334&&(p.$$scope={dirty:o,ctx:s}),l.$set(p)},i(s){a||(W(e.$$.fragment,s),W(t.$$.fragment,s),W(l.$$.fragment,s),a=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),Y(l.$$.fragment,s),a=!1},d(s){ee(e,s),s&&f(n),ee(t,s),s&&f(r),ee(l,s)}}}function Cc(i){let e,n;return e=new rn({props:{class:"mb-3",style:"width: fit-content",$$slots:{default:[Ec]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[r]){const l={};r&4194335&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function Sc(i,e,n){let t,{config:r,stage:l,previous_stage:a,next_stage:s}=e;const o=[[]];function c(){r.edgesAreDirected=this.__value,n(0,r)}const u=()=>{Ae.event("dat_12","data view","directed checkbox","True")};function p(){r.edgesAreDirected=this.__value,n(0,r)}const k=()=>{Ae.event("dat_12","data view","directed checkbox","False")};function _(m){i.$$.not_equal(r.selectedFile,m)&&(r.selectedFile=m,n(0,r))}function D(m){i.$$.not_equal(r.fieldSourceId,m)&&(r.fieldSourceId=m,n(0,r))}function B(m){i.$$.not_equal(r.fieldTargetId,m)&&(r.fieldTargetId=m,n(0,r))}function T(m){i.$$.not_equal(r.fieldLinkId,m)&&(r.fieldLinkId=m,n(0,r))}function N(m){i.$$.not_equal(r.fieldLocationSource,m)&&(r.fieldLocationSource=m,n(0,r))}function E(m){i.$$.not_equal(r.fieldLocationTarget,m)&&(r.fieldLocationTarget=m,n(0,r))}function w(m){i.$$.not_equal(r.fieldWeight,m)&&(r.fieldWeight=m,n(0,r))}function F(m){i.$$.not_equal(r.fieldLinkType,m)&&(r.fieldLinkType=m,n(0,r))}function I(m){i.$$.not_equal(r.fieldLinkIsDirected,m)&&(r.fieldLinkIsDirected=m,n(0,r))}function A(m){i.$$.not_equal(r.timeConfig,m)&&(r.timeConfig=m,n(0,r))}const G=()=>n(1,l=a()),g=()=>n(1,l=s());return i.$$set=m=>{"config"in m&&n(0,r=m.config),"stage"in m&&n(1,l=m.stage),"previous_stage"in m&&n(2,a=m.previous_stage),"next_stage"in m&&n(3,s=m.next_stage)},i.$$.update=()=>{i.$$.dirty&1&&n(4,t=r.edgesAreDirected!==null&&r.selectedFile&&r.fieldSourceId!==null&&r.fieldTargetId!==null&&(r.timeConfig.edgeTimeType==null||r.timeConfig.formatString&&r.timeConfig.timeField!==null)),i.$$.dirty&1&&console.log(r)},[r,l,a,s,t,c,o,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g]}class Dc extends et{constructor(e){super(),tt(this,e,Sc,Cc,nt,{config:0,stage:1,previous_stage:2,next_stage:3})}}function $o(i,e,n){const t=i.slice();return t[14]=e[n],t[15]=e,t[16]=n,t}function Nc(i){let e,n;return{c(){e=v("h4"),n=M("Specifying your node table")},l(t){e=b(t,"H4",{});var r=R(e);n=H(r,"Specifying your node table"),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},d(t){t&&f(e)}}}function Lc(i){let e,n;return{c(){e=v("p"),n=M("You must select a file to import.")},l(t){e=b(t,"P",{});var r=R(e);n=H(r,"You must select a file to import."),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},p:Qe,i:Qe,o:Qe,d(t){t&&f(e)}}}function Ic(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N;function E(g){i[7](g)}let w={selectedFile:i[0].selectedFile,label:"Node",required:!0};i[0].fieldNode!==void 0&&(w.selectedField=i[0].fieldNode),t=new dt({props:w}),Ce.push(()=>De(t,"selectedField",E));let F=i[0].fieldRelations.length===0&&wo(),I=i[0].fieldRelations,A=[];for(let g=0;g<I.length;g+=1)A[g]=Fo($o(i,I,g));const G=g=>Y(A[g],1,1,()=>{A[g]=null});return T=new Xe({props:{outline:!0,$$slots:{default:[Rc]},$$scope:{ctx:i}}}),T.$on("click",i[11]),{c(){e=v("br"),n=C(),Q(t.$$.fragment),l=C(),a=v("br"),s=C(),o=v("br"),c=C(),u=v("h4"),p=M("2. Specify relations"),k=C(),F&&F.c(),_=C(),D=v("ul");for(let g=0;g<A.length;g+=1)A[g].c();B=C(),Q(T.$$.fragment)},l(g){e=b(g,"BR",{}),n=S(g),Z(t.$$.fragment,g),l=S(g),a=b(g,"BR",{}),s=S(g),o=b(g,"BR",{}),c=S(g),u=b(g,"H4",{});var m=R(u);p=H(m,"2. Specify relations"),m.forEach(f),k=S(g),F&&F.l(g),_=S(g),D=b(g,"UL",{});var z=R(D);for(let j=0;j<A.length;j+=1)A[j].l(z);z.forEach(f),B=S(g),Z(T.$$.fragment,g)},m(g,m){h(g,e,m),h(g,n,m),x(t,g,m),h(g,l,m),h(g,a,m),h(g,s,m),h(g,o,m),h(g,c,m),h(g,u,m),d(u,p),h(g,k,m),F&&F.m(g,m),h(g,_,m),h(g,D,m);for(let z=0;z<A.length;z+=1)A[z].m(D,null);h(g,B,m),x(T,g,m),N=!0},p(g,m){const z={};if(m&1&&(z.selectedFile=g[0].selectedFile),!r&&m&1&&(r=!0,z.selectedField=g[0].fieldNode,Ne(()=>r=!1)),t.$set(z),g[0].fieldRelations.length===0?F||(F=wo(),F.c(),F.m(_.parentNode,_)):F&&(F.d(1),F=null),m&1){I=g[0].fieldRelations;let y;for(y=0;y<I.length;y+=1){const $=$o(g,I,y);A[y]?(A[y].p($,m),W(A[y],1)):(A[y]=Fo($),A[y].c(),W(A[y],1),A[y].m(D,null))}for(lt(),y=I.length;y<A.length;y+=1)G(y);st()}const j={};m&131072&&(j.$$scope={dirty:m,ctx:g}),T.$set(j)},i(g){if(!N){W(t.$$.fragment,g);for(let m=0;m<I.length;m+=1)W(A[m]);W(T.$$.fragment,g),N=!0}},o(g){Y(t.$$.fragment,g),A=A.filter(Boolean);for(let m=0;m<A.length;m+=1)Y(A[m]);Y(T.$$.fragment,g),N=!1},d(g){g&&f(e),g&&f(n),ee(t,g),g&&f(l),g&&f(a),g&&f(s),g&&f(o),g&&f(c),g&&f(u),g&&f(k),F&&F.d(g),g&&f(_),g&&f(D),nn(A,g),g&&f(B),ee(T,g)}}}function wo(i){let e;return{c(){e=M("You must define at least one relation type.")},l(n){e=H(n,"You must define at least one relation type.")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Pc(i){let e;return{c(){e=M("Delete this relation")},l(n){e=H(n,"Delete this relation")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Fo(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w;function F(g){i[8](g,i[14])}let I={selectedFile:i[0].selectedFile,label:"Column:",required:!0};i[14].field!==void 0&&(I.selectedField=i[14].field),n=new dt({props:I}),Ce.push(()=>De(n,"selectedField",F));function A(){i[9].call(c,i[15],i[16])}function G(){return i[10](i[16])}return B=new Xe({props:{outline:!0,size:"sm",$$slots:{default:[Pc]},$$scope:{ctx:i}}}),B.$on("click",G),{c(){e=v("li"),Q(n.$$.fragment),r=C(),l=v("label"),a=v("span"),s=M("Link name (type):"),o=C(),c=v("input"),u=C(),p=v("br"),k=C(),_=v("br"),D=C(),Q(B.$$.fragment),T=C(),this.h()},l(g){e=b(g,"LI",{style:!0});var m=R(e);Z(n.$$.fragment,m),r=S(m),l=b(m,"LABEL",{});var z=R(l);a=b(z,"SPAN",{style:!0});var j=R(a);s=H(j,"Link name (type):"),j.forEach(f),o=S(z),c=b(z,"INPUT",{}),z.forEach(f),u=S(m),p=b(m,"BR",{}),k=S(m),_=b(m,"BR",{}),D=S(m),Z(B.$$.fragment,m),T=S(m),m.forEach(f),this.h()},h(){ft(a,"display","inline-block"),ft(a,"width","180px"),ft(e,"margin-bottom","25px")},m(g,m){h(g,e,m),x(n,e,null),d(e,r),d(e,l),d(l,a),d(a,s),d(l,o),d(l,c),an(c,i[14].relation),d(e,u),d(e,p),d(e,k),d(e,_),d(e,D),x(B,e,null),d(e,T),N=!0,E||(w=be(c,"input",A),E=!0)},p(g,m){i=g;const z={};m&1&&(z.selectedFile=i[0].selectedFile),!t&&m&1&&(t=!0,z.selectedField=i[14].field,Ne(()=>t=!1)),n.$set(z),m&1&&c.value!==i[14].relation&&an(c,i[14].relation);const j={};m&131072&&(j.$$scope={dirty:m,ctx:i}),B.$set(j)},i(g){N||(W(n.$$.fragment,g),W(B.$$.fragment,g),N=!0)},o(g){Y(n.$$.fragment,g),Y(B.$$.fragment,g),N=!1},d(g){g&&f(e),ee(n),ee(B),E=!1,w()}}}function Rc(i){let e;return{c(){e=M("+ Add relation")},l(n){e=H(n,"+ Add relation")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Ac(i){let e,n,t,r,l,a,s,o,c,u,p,k;function _(E){i[5](E)}let D={};i[0].selectedFile!==void 0&&(D.selectedFile=i[0].selectedFile),a=new ci({props:D}),Ce.push(()=>De(a,"selectedFile",_)),a.$on("click",i[6]);const B=[Ic,Lc],T=[];function N(E,w){return E[0].selectedFile?0:1}return c=N(i),u=T[c]=B[c](i),{c(){e=v("h4"),n=M("1. Upload your node table:"),t=C(),r=v("br"),l=C(),Q(a.$$.fragment),o=C(),u.c(),p=Ke()},l(E){e=b(E,"H4",{});var w=R(e);n=H(w,"1. Upload your node table:"),w.forEach(f),t=S(E),r=b(E,"BR",{}),l=S(E),Z(a.$$.fragment,E),o=S(E),u.l(E),p=Ke()},m(E,w){h(E,e,w),d(e,n),h(E,t,w),h(E,r,w),h(E,l,w),x(a,E,w),h(E,o,w),T[c].m(E,w),h(E,p,w),k=!0},p(E,w){const F={};!s&&w&1&&(s=!0,F.selectedFile=E[0].selectedFile,Ne(()=>s=!1)),a.$set(F);let I=c;c=N(E),c===I?T[c].p(E,w):(lt(),Y(T[I],1,1,()=>{T[I]=null}),st(),u=T[c],u?u.p(E,w):(u=T[c]=B[c](E),u.c()),W(u,1),u.m(p.parentNode,p))},i(E){k||(W(a.$$.fragment,E),W(u),k=!0)},o(E){Y(a.$$.fragment,E),Y(u),k=!1},d(E){E&&f(e),E&&f(t),E&&f(r),E&&f(l),ee(a,E),E&&f(o),T[c].d(E),E&&f(p)}}}function Oc(i){let e;return{c(){e=M("Previous")},l(n){e=H(n,"Previous")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Mc(i){let e;return{c(){e=M("Next")},l(n){e=H(n,"Next")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Hc(i){let e,n,t,r;return e=new Xe({props:{style:"float: left",$$slots:{default:[Oc]},$$scope:{ctx:i}}}),e.$on("click",i[12]),t=new Xe({props:{style:"float: right",disabled:!i[4],$$slots:{default:[Mc]},$$scope:{ctx:i}}}),t.$on("click",i[13]),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment)},l(l){Z(e.$$.fragment,l),n=S(l),Z(t.$$.fragment,l)},m(l,a){x(e,l,a),h(l,n,a),x(t,l,a),r=!0},p(l,a){const s={};a&131072&&(s.$$scope={dirty:a,ctx:l}),e.$set(s);const o={};a&16&&(o.disabled=!l[4]),a&131072&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(W(e.$$.fragment,l),W(t.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(t.$$.fragment,l),r=!1},d(l){ee(e,l),l&&f(n),ee(t,l)}}}function Bc(i){let e,n,t,r,l,a;return e=new un({props:{$$slots:{default:[Nc]},$$scope:{ctx:i}}}),t=new ln({props:{$$slots:{default:[Ac]},$$scope:{ctx:i}}}),l=new sn({props:{$$slots:{default:[Hc]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment),r=C(),Q(l.$$.fragment)},l(s){Z(e.$$.fragment,s),n=S(s),Z(t.$$.fragment,s),r=S(s),Z(l.$$.fragment,s)},m(s,o){x(e,s,o),h(s,n,o),x(t,s,o),h(s,r,o),x(l,s,o),a=!0},p(s,o){const c={};o&131072&&(c.$$scope={dirty:o,ctx:s}),e.$set(c);const u={};o&131073&&(u.$$scope={dirty:o,ctx:s}),t.$set(u);const p={};o&131102&&(p.$$scope={dirty:o,ctx:s}),l.$set(p)},i(s){a||(W(e.$$.fragment,s),W(t.$$.fragment,s),W(l.$$.fragment,s),a=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),Y(l.$$.fragment,s),a=!1},d(s){ee(e,s),s&&f(n),ee(t,s),s&&f(r),ee(l,s)}}}function Uc(i){let e,n;return e=new rn({props:{class:"mb-3",style:"width: 100%",$$slots:{default:[Bc]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[r]){const l={};r&131103&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function zc(i,e,n){let t,{config:r={selectedFile:null,fieldNode:null,fieldRelations:[]}}=e,{stage:l,previous_stage:a,next_stage:s}=e;function o(N){i.$$.not_equal(r.selectedFile,N)&&(r.selectedFile=N,n(0,r))}const c=()=>{Ae.event("dat_2_NT","data view","Upload File","Node Table")};function u(N){i.$$.not_equal(r.fieldNode,N)&&(r.fieldNode=N,n(0,r))}function p(N,E){i.$$.not_equal(E.field,N)&&(E.field=N,n(0,r))}function k(N,E){N[E].relation=this.value,n(0,r)}const _=N=>n(0,r.fieldRelations=r.fieldRelations.filter((E,w)=>N!==w),r),D=()=>{n(0,r.fieldRelations=[...r.fieldRelations,{relation:null,field:null}],r),Ae.event("dat_11","data view","Node Table","Add Relation")},B=()=>n(1,l=a()),T=()=>n(1,l=s());return i.$$set=N=>{"config"in N&&n(0,r=N.config),"stage"in N&&n(1,l=N.stage),"previous_stage"in N&&n(2,a=N.previous_stage),"next_stage"in N&&n(3,s=N.next_stage)},i.$$.update=()=>{i.$$.dirty&1&&n(4,t=r.selectedFile&&r.fieldRelations.length>0),i.$$.dirty&1&&console.log("In NodeTableNetworkConfig:",r)},[r,l,a,s,t,o,c,u,p,k,_,D,B,T]}class jc extends et{constructor(e){super(),tt(this,e,zc,Uc,nt,{config:0,stage:1,previous_stage:2,next_stage:3})}}function To(i){let e,n,t,r,l,a,s;function o(p){i[10](p)}let c={};i[0].selectedFile!==void 0&&(c.selectedFile=i[0].selectedFile),e=new ci({props:c}),Ce.push(()=>De(e,"selectedFile",o));let u=i[0].selectedFile&&Eo(i);return{c(){Q(e.$$.fragment),t=C(),r=v("br"),l=C(),u&&u.c(),a=Ke()},l(p){Z(e.$$.fragment,p),t=S(p),r=b(p,"BR",{}),l=S(p),u&&u.l(p),a=Ke()},m(p,k){x(e,p,k),h(p,t,k),h(p,r,k),h(p,l,k),u&&u.m(p,k),h(p,a,k),s=!0},p(p,k){const _={};!n&&k&1&&(n=!0,_.selectedFile=p[0].selectedFile,Ne(()=>n=!1)),e.$set(_),p[0].selectedFile?u?(u.p(p,k),k&1&&W(u,1)):(u=Eo(p),u.c(),W(u,1),u.m(a.parentNode,a)):u&&(lt(),Y(u,1,1,()=>{u=null}),st())},i(p){s||(W(e.$$.fragment,p),W(u),s=!0)},o(p){Y(e.$$.fragment,p),Y(u),s=!1},d(p){ee(e,p),p&&f(t),p&&f(r),p&&f(l),u&&u.d(p),p&&f(a)}}}function Eo(i){let e,n,t,r,l,a,s,o;function c(_){i[11](_)}let u={selectedFile:i[0].selectedFile,label:"Node ID",required:!0};i[0].fieldNodeId!==void 0&&(u.selectedField=i[0].fieldNodeId),e=new dt({props:u}),Ce.push(()=>De(e,"selectedField",c));function p(_){i[12](_)}let k={selectedFile:i[0].selectedFile,label:"Node type",required:!0};return i[0].fieldNodeType!==void 0&&(k.selectedField=i[0].fieldNodeType),a=new dt({props:k}),Ce.push(()=>De(a,"selectedField",p)),{c(){Q(e.$$.fragment),t=C(),r=v("br"),l=C(),Q(a.$$.fragment)},l(_){Z(e.$$.fragment,_),t=S(_),r=b(_,"BR",{}),l=S(_),Z(a.$$.fragment,_)},m(_,D){x(e,_,D),h(_,t,D),h(_,r,D),h(_,l,D),x(a,_,D),o=!0},p(_,D){const B={};D&1&&(B.selectedFile=_[0].selectedFile),!n&&D&1&&(n=!0,B.selectedField=_[0].fieldNodeId,Ne(()=>n=!1)),e.$set(B);const T={};D&1&&(T.selectedFile=_[0].selectedFile),!s&&D&1&&(s=!0,T.selectedField=_[0].fieldNodeType,Ne(()=>s=!1)),a.$set(T)},i(_){o||(W(e.$$.fragment,_),W(a.$$.fragment,_),o=!0)},o(_){Y(e.$$.fragment,_),Y(a.$$.fragment,_),o=!1},d(_){ee(e,_),_&&f(t),_&&f(r),_&&f(l),ee(a,_)}}}function qc(i){let e,n,t,r,l,a,s,o,c,u,p,k,_=i[0].hasMetadata&&To(i);return{c(){e=v("input"),n=M(`
		Yes, I have a file recording the type for each node.
		`),t=v("br"),r=C(),l=v("input"),a=M(`
		No, I do not have a file recording the type for each node.
		`),s=v("br"),o=C(),_&&_.c(),c=Ke(),this.h()},l(D){e=b(D,"INPUT",{type:!0}),n=H(D,`
		Yes, I have a file recording the type for each node.
		`),t=b(D,"BR",{}),r=S(D),l=b(D,"INPUT",{type:!0}),a=H(D,`
		No, I do not have a file recording the type for each node.
		`),s=b(D,"BR",{}),o=S(D),_&&_.l(D),c=Ke(),this.h()},h(){U(e,"type","radio"),e.__value=!0,e.value=e.__value,i[6][0].push(e),U(l,"type","radio"),l.__value=!1,l.value=l.__value,i[6][0].push(l)},m(D,B){h(D,e,B),e.checked=e.__value===i[0].hasMetadata,h(D,n,B),h(D,t,B),h(D,r,B),h(D,l,B),l.checked=l.__value===i[0].hasMetadata,h(D,a,B),h(D,s,B),h(D,o,B),_&&_.m(D,B),h(D,c,B),u=!0,p||(k=[be(e,"change",i[5]),be(e,"click",i[7]),be(l,"change",i[8]),be(l,"click",i[9])],p=!0)},p(D,B){B&1&&(e.checked=e.__value===D[0].hasMetadata),B&1&&(l.checked=l.__value===D[0].hasMetadata),D[0].hasMetadata?_?(_.p(D,B),B&1&&W(_,1)):(_=To(D),_.c(),W(_,1),_.m(c.parentNode,c)):_&&(lt(),Y(_,1,1,()=>{_=null}),st())},i(D){u||(W(_),u=!0)},o(D){Y(_),u=!1},d(D){D&&f(e),i[6][0].splice(i[6][0].indexOf(e),1),D&&f(n),D&&f(t),D&&f(r),D&&f(l),i[6][0].splice(i[6][0].indexOf(l),1),D&&f(a),D&&f(s),D&&f(o),_&&_.d(D),D&&f(c),p=!1,wt(k)}}}function Wc(i){let e;return{c(){e=M("Previous")},l(n){e=H(n,"Previous")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Vc(i){let e;return{c(){e=M("Next")},l(n){e=H(n,"Next")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function Gc(i){let e,n,t,r;return e=new Xe({props:{style:"float: left",$$slots:{default:[Wc]},$$scope:{ctx:i}}}),e.$on("click",i[13]),t=new Xe({props:{style:"float: right",disabled:!i[4],$$slots:{default:[Vc]},$$scope:{ctx:i}}}),t.$on("click",i[14]),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment)},l(l){Z(e.$$.fragment,l),n=S(l),Z(t.$$.fragment,l)},m(l,a){x(e,l,a),h(l,n,a),x(t,l,a),r=!0},p(l,a){const s={};a&32768&&(s.$$scope={dirty:a,ctx:l}),e.$set(s);const o={};a&16&&(o.disabled=!l[4]),a&32768&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(W(e.$$.fragment,l),W(t.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(t.$$.fragment,l),r=!1},d(l){ee(e,l),l&&f(n),ee(t,l)}}}function Yc(i){let e,n,t,r,l,a,s;return r=new ln({props:{$$slots:{default:[qc]},$$scope:{ctx:i}}}),a=new sn({props:{$$slots:{default:[Gc]},$$scope:{ctx:i}}}),{c(){e=v("h4"),n=M("Do you have an extra file recording node types?"),t=C(),Q(r.$$.fragment),l=C(),Q(a.$$.fragment)},l(o){e=b(o,"H4",{});var c=R(e);n=H(c,"Do you have an extra file recording node types?"),c.forEach(f),t=S(o),Z(r.$$.fragment,o),l=S(o),Z(a.$$.fragment,o)},m(o,c){h(o,e,c),d(e,n),h(o,t,c),x(r,o,c),h(o,l,c),x(a,o,c),s=!0},p(o,c){const u={};c&32769&&(u.$$scope={dirty:c,ctx:o}),r.$set(u);const p={};c&32798&&(p.$$scope={dirty:c,ctx:o}),a.$set(p)},i(o){s||(W(r.$$.fragment,o),W(a.$$.fragment,o),s=!0)},o(o){Y(r.$$.fragment,o),Y(a.$$.fragment,o),s=!1},d(o){o&&f(e),o&&f(t),ee(r,o),o&&f(l),ee(a,o)}}}function Kc(i){let e,n;return e=new rn({props:{class:"mb-3",style:"width: 50%",$$slots:{default:[Yc]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[r]){const l={};r&32799&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function Xc(i,e,n){let t,{config:r,stage:l,previous_stage:a,next_stage:s}=e;const o=[[]];function c(){r.hasMetadata=this.__value,n(0,r)}const u=()=>{Ae.event("dat_11","data view","Node Types","Yes")};function p(){r.hasMetadata=this.__value,n(0,r)}const k=()=>{Ae.event("dat_11","data view","Node Types","No")};function _(E){i.$$.not_equal(r.selectedFile,E)&&(r.selectedFile=E,n(0,r))}function D(E){i.$$.not_equal(r.fieldNodeId,E)&&(r.fieldNodeId=E,n(0,r))}function B(E){i.$$.not_equal(r.fieldNodeType,E)&&(r.fieldNodeType=E,n(0,r))}const T=()=>n(1,l=a()),N=()=>n(1,l=s());return i.$$set=E=>{"config"in E&&n(0,r=E.config),"stage"in E&&n(1,l=E.stage),"previous_stage"in E&&n(2,a=E.previous_stage),"next_stage"in E&&n(3,s=E.next_stage)},i.$$.update=()=>{i.$$.dirty&1&&n(4,t=!r.hasMetadata||r.hasMetadata&&r.selectedFile&&r.fieldNodeId!==null&&r.fieldNodeType!==null)},[r,l,a,s,t,c,o,u,p,k,_,D,B,T,N]}class Jc extends et{constructor(e){super(),tt(this,e,Xc,Kc,nt,{config:0,stage:1,previous_stage:2,next_stage:3})}}function Qc(i){let e,n;return{c(){e=v("h4"),n=M("Specifying location table")},l(t){e=b(t,"H4",{});var r=R(e);n=H(r,"Specifying location table"),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},d(t){t&&f(e)}}}function Co(i){let e,n,t,r,l;function a(o){i[7](o)}let s={};return i[0].selectedFile!==void 0&&(s.selectedFile=i[0].selectedFile),e=new ci({props:s}),Ce.push(()=>De(e,"selectedFile",a)),{c(){Q(e.$$.fragment),t=C(),r=v("br")},l(o){Z(e.$$.fragment,o),t=S(o),r=b(o,"BR",{})},m(o,c){x(e,o,c),h(o,t,c),h(o,r,c),l=!0},p(o,c){const u={};!n&&c&1&&(n=!0,u.selectedFile=o[0].selectedFile,Ne(()=>n=!1)),e.$set(u)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){Y(e.$$.fragment,o),l=!1},d(o){ee(e,o),o&&f(t),o&&f(r)}}}function So(i){let e,n,t,r,l,a,s,o,c,u,p,k,_;function D(F){i[8](F)}let B={selectedFile:i[0].selectedFile,label:"Place name",required:!0};i[0].fieldPlaceName!==void 0&&(B.selectedField=i[0].fieldPlaceName),e=new dt({props:B}),Ce.push(()=>De(e,"selectedField",D));function T(F){i[9](F)}let N={selectedFile:i[0].selectedFile,label:"Latitude",required:!0};i[0].fieldLat!==void 0&&(N.selectedField=i[0].fieldLat),a=new dt({props:N}),Ce.push(()=>De(a,"selectedField",T));function E(F){i[10](F)}let w={selectedFile:i[0].selectedFile,label:"Longitude",required:!0};return i[0].fieldLon!==void 0&&(w.selectedField=i[0].fieldLon),p=new dt({props:w}),Ce.push(()=>De(p,"selectedField",E)),{c(){Q(e.$$.fragment),t=C(),r=v("br"),l=C(),Q(a.$$.fragment),o=C(),c=v("br"),u=C(),Q(p.$$.fragment)},l(F){Z(e.$$.fragment,F),t=S(F),r=b(F,"BR",{}),l=S(F),Z(a.$$.fragment,F),o=S(F),c=b(F,"BR",{}),u=S(F),Z(p.$$.fragment,F)},m(F,I){x(e,F,I),h(F,t,I),h(F,r,I),h(F,l,I),x(a,F,I),h(F,o,I),h(F,c,I),h(F,u,I),x(p,F,I),_=!0},p(F,I){const A={};I&1&&(A.selectedFile=F[0].selectedFile),!n&&I&1&&(n=!0,A.selectedField=F[0].fieldPlaceName,Ne(()=>n=!1)),e.$set(A);const G={};I&1&&(G.selectedFile=F[0].selectedFile),!s&&I&1&&(s=!0,G.selectedField=F[0].fieldLat,Ne(()=>s=!1)),a.$set(G);const g={};I&1&&(g.selectedFile=F[0].selectedFile),!k&&I&1&&(k=!0,g.selectedField=F[0].fieldLon,Ne(()=>k=!1)),p.$set(g)},i(F){_||(W(e.$$.fragment,F),W(a.$$.fragment,F),W(p.$$.fragment,F),_=!0)},o(F){Y(e.$$.fragment,F),Y(a.$$.fragment,F),Y(p.$$.fragment,F),_=!1},d(F){ee(e,F),F&&f(t),F&&f(r),F&&f(l),ee(a,F),F&&f(o),F&&f(c),F&&f(u),ee(p,F)}}}function Zc(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j=i[0].usingLocationFile&&Co(i),y=i[0].selectedFile&&So(i);return{c(){e=v("h4"),n=M("Do you have a file giving the lat/long of each location?"),t=C(),r=v("br"),l=C(),a=v("h5"),s=M("No, ..."),o=C(),c=v("input"),u=M(`... I do not have a
		file specifying the longitude and latitude of place names. I want the Vistorian to get these for
		me, please.

		`),p=v("br"),k=C(),_=v("br"),D=C(),B=v("h5"),T=M("Yes, ..."),N=C(),E=v("input"),w=M(` ... I have a file
		specifying the longitude and latitude of each place name used in the node-link table.

		`),F=v("br"),I=C(),j&&j.c(),A=C(),y&&y.c(),G=Ke(),this.h()},l($){e=b($,"H4",{});var q=R(e);n=H(q,"Do you have a file giving the lat/long of each location?"),q.forEach(f),t=S($),r=b($,"BR",{}),l=S($),a=b($,"H5",{});var K=R(a);s=H(K,"No, ..."),K.forEach(f),o=S($),c=b($,"INPUT",{type:!0}),u=H($,`... I do not have a
		file specifying the longitude and latitude of place names. I want the Vistorian to get these for
		me, please.

		`),p=b($,"BR",{}),k=S($),_=b($,"BR",{}),D=S($),B=b($,"H5",{});var O=R(B);T=H(O,"Yes, ..."),O.forEach(f),N=S($),E=b($,"INPUT",{type:!0}),w=H($,` ... I have a file
		specifying the longitude and latitude of each place name used in the node-link table.

		`),F=b($,"BR",{}),I=S($),j&&j.l($),A=S($),y&&y.l($),G=Ke(),this.h()},h(){U(c,"type","radio"),c.__value=!1,c.value=c.__value,i[5][0].push(c),U(E,"type","radio"),E.__value="true",E.value=E.__value,i[5][0].push(E)},m($,q){h($,e,q),d(e,n),h($,t,q),h($,r,q),h($,l,q),h($,a,q),d(a,s),h($,o,q),h($,c,q),c.checked=c.__value===i[0].usingLocationFile,h($,u,q),h($,p,q),h($,k,q),h($,_,q),h($,D,q),h($,B,q),d(B,T),h($,N,q),h($,E,q),E.checked=E.__value===i[0].usingLocationFile,h($,w,q),h($,F,q),h($,I,q),j&&j.m($,q),h($,A,q),y&&y.m($,q),h($,G,q),g=!0,m||(z=[be(c,"change",i[4]),be(E,"change",i[6])],m=!0)},p($,q){q&1&&(c.checked=c.__value===$[0].usingLocationFile),q&1&&(E.checked=E.__value===$[0].usingLocationFile),$[0].usingLocationFile?j?(j.p($,q),q&1&&W(j,1)):(j=Co($),j.c(),W(j,1),j.m(A.parentNode,A)):j&&(lt(),Y(j,1,1,()=>{j=null}),st()),$[0].selectedFile?y?(y.p($,q),q&1&&W(y,1)):(y=So($),y.c(),W(y,1),y.m(G.parentNode,G)):y&&(lt(),Y(y,1,1,()=>{y=null}),st())},i($){g||(W(j),W(y),g=!0)},o($){Y(j),Y(y),g=!1},d($){$&&f(e),$&&f(t),$&&f(r),$&&f(l),$&&f(a),$&&f(o),$&&f(c),i[5][0].splice(i[5][0].indexOf(c),1),$&&f(u),$&&f(p),$&&f(k),$&&f(_),$&&f(D),$&&f(B),$&&f(N),$&&f(E),i[5][0].splice(i[5][0].indexOf(E),1),$&&f(w),$&&f(F),$&&f(I),j&&j.d($),$&&f(A),y&&y.d($),$&&f(G),m=!1,wt(z)}}}function xc(i){let e;return{c(){e=M("Previous")},l(n){e=H(n,"Previous")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function ed(i){let e;return{c(){e=M("Next")},l(n){e=H(n,"Next")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function td(i){let e,n,t,r;return e=new Xe({props:{style:"float: left",$$slots:{default:[xc]},$$scope:{ctx:i}}}),e.$on("click",i[11]),t=new Xe({props:{style:"float: right",$$slots:{default:[ed]},$$scope:{ctx:i}}}),t.$on("click",i[12]),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment)},l(l){Z(e.$$.fragment,l),n=S(l),Z(t.$$.fragment,l)},m(l,a){x(e,l,a),h(l,n,a),x(t,l,a),r=!0},p(l,a){const s={};a&16384&&(s.$$scope={dirty:a,ctx:l}),e.$set(s);const o={};a&16384&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(W(e.$$.fragment,l),W(t.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(t.$$.fragment,l),r=!1},d(l){ee(e,l),l&&f(n),ee(t,l)}}}function nd(i){let e,n,t,r,l,a;return e=new un({props:{$$slots:{default:[Qc]},$$scope:{ctx:i}}}),t=new ln({props:{$$slots:{default:[Zc]},$$scope:{ctx:i}}}),l=new sn({props:{$$slots:{default:[td]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment),r=C(),Q(l.$$.fragment)},l(s){Z(e.$$.fragment,s),n=S(s),Z(t.$$.fragment,s),r=S(s),Z(l.$$.fragment,s)},m(s,o){x(e,s,o),h(s,n,o),x(t,s,o),h(s,r,o),x(l,s,o),a=!0},p(s,o){const c={};o&16384&&(c.$$scope={dirty:o,ctx:s}),e.$set(c);const u={};o&16385&&(u.$$scope={dirty:o,ctx:s}),t.$set(u);const p={};o&16398&&(p.$$scope={dirty:o,ctx:s}),l.$set(p)},i(s){a||(W(e.$$.fragment,s),W(t.$$.fragment,s),W(l.$$.fragment,s),a=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),Y(l.$$.fragment,s),a=!1},d(s){ee(e,s),s&&f(n),ee(t,s),s&&f(r),ee(l,s)}}}function id(i){let e,n;return e=new rn({props:{class:"mb-3",style:"width: fit-content",$$slots:{default:[nd]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[r]){const l={};r&16399&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function rd(i,e,n){let{config:t,stage:r,previous_stage:l,next_stage:a}=e;const s=[[]];function o(){t.usingLocationFile=this.__value,n(0,t)}function c(){t.usingLocationFile=this.__value,n(0,t)}function u(T){i.$$.not_equal(t.selectedFile,T)&&(t.selectedFile=T,n(0,t))}function p(T){i.$$.not_equal(t.fieldPlaceName,T)&&(t.fieldPlaceName=T,n(0,t))}function k(T){i.$$.not_equal(t.fieldLat,T)&&(t.fieldLat=T,n(0,t))}function _(T){i.$$.not_equal(t.fieldLon,T)&&(t.fieldLon=T,n(0,t))}const D=()=>n(1,r=l()),B=()=>n(1,r=a());return i.$$set=T=>{"config"in T&&n(0,t=T.config),"stage"in T&&n(1,r=T.stage),"previous_stage"in T&&n(2,l=T.previous_stage),"next_stage"in T&&n(3,a=T.next_stage)},i.$$.update=()=>{i.$$.dirty&1&&(!t.usingLocationFile||t.fieldPlaceName&&t.fieldLat&&t.fieldLon)},[t,r,l,a,o,s,c,u,p,k,_,D,B]}class ld extends et{constructor(e){super(),tt(this,e,rd,id,nt,{config:0,stage:1,previous_stage:2,next_stage:3})}}function sd(i){let e,n,t,r;function l(o){i[37](o)}function a(o){i[38](o)}let s={previous_stage:i[35],next_stage:i[36],reloadNetworks:i[0]};return i[1]!==void 0&&(s.settings=i[1]),i[2]!==void 0&&(s.stage=i[2]),e=new Vf({props:s}),Ce.push(()=>De(e,"settings",l)),Ce.push(()=>De(e,"stage",a)),{c(){Q(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,c){x(e,o,c),r=!0},p(o,c){const u={};c[0]&4&&(u.next_stage=o[36]),c[0]&1&&(u.reloadNetworks=o[0]),!n&&c[0]&2&&(n=!0,u.settings=o[1],Ne(()=>n=!1)),!t&&c[0]&4&&(t=!0,u.stage=o[2],Ne(()=>t=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){Y(e.$$.fragment,o),r=!1},d(o){ee(e,o)}}}function od(i){let e,n,t,r;function l(o){i[33](o)}function a(o){i[34](o)}let s={previous_stage:i[31],next_stage:i[32]};return i[1].locationTableConfig!==void 0&&(s.config=i[1].locationTableConfig),i[2]!==void 0&&(s.stage=i[2]),e=new ld({props:s}),Ce.push(()=>De(e,"config",l)),Ce.push(()=>De(e,"stage",a)),{c(){Q(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,c){x(e,o,c),r=!0},p(o,c){const u={};c[0]&4&&(u.next_stage=o[32]),!n&&c[0]&2&&(n=!0,u.config=o[1].locationTableConfig,Ne(()=>n=!1)),!t&&c[0]&4&&(t=!0,u.stage=o[2],Ne(()=>t=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){Y(e.$$.fragment,o),r=!1},d(o){ee(e,o)}}}function ad(i){let e,n,t,r;function l(o){i[29](o)}function a(o){i[30](o)}let s={previous_stage:i[27],next_stage:i[28]};return i[1].nodeTableConfig!==void 0&&(s.config=i[1].nodeTableConfig),i[2]!==void 0&&(s.stage=i[2]),e=new jc({props:s}),Ce.push(()=>De(e,"config",l)),Ce.push(()=>De(e,"stage",a)),{c(){Q(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,c){x(e,o,c),r=!0},p(o,c){const u={};c[0]&4&&(u.next_stage=o[28]),!n&&c[0]&2&&(n=!0,u.config=o[1].nodeTableConfig,Ne(()=>n=!1)),!t&&c[0]&4&&(t=!0,u.stage=o[2],Ne(()=>t=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){Y(e.$$.fragment,o),r=!1},d(o){ee(e,o)}}}function fd(i){let e,n,t,r;function l(o){i[25](o)}function a(o){i[26](o)}let s={previous_stage:i[23],next_stage:i[24]};return i[1].nodeMetadataConfig!==void 0&&(s.config=i[1].nodeMetadataConfig),i[2]!==void 0&&(s.stage=i[2]),e=new Jc({props:s}),Ce.push(()=>De(e,"config",l)),Ce.push(()=>De(e,"stage",a)),{c(){Q(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,c){x(e,o,c),r=!0},p(o,c){const u={};c[0]&4&&(u.next_stage=o[24]),!n&&c[0]&2&&(n=!0,u.config=o[1].nodeMetadataConfig,Ne(()=>n=!1)),!t&&c[0]&4&&(t=!0,u.stage=o[2],Ne(()=>t=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){Y(e.$$.fragment,o),r=!1},d(o){ee(e,o)}}}function ud(i){let e,n,t,r;function l(o){i[21](o)}function a(o){i[22](o)}let s={previous_stage:i[19],next_stage:i[20]};return i[1].linkTableConfig!==void 0&&(s.config=i[1].linkTableConfig),i[2]!==void 0&&(s.stage=i[2]),e=new Dc({props:s}),Ce.push(()=>De(e,"config",l)),Ce.push(()=>De(e,"stage",a)),{c(){Q(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,c){x(e,o,c),r=!0},p(o,c){const u={};c[0]&6&&(u.next_stage=o[20]),!n&&c[0]&2&&(n=!0,u.config=o[1].linkTableConfig,Ne(()=>n=!1)),!t&&c[0]&4&&(t=!0,u.stage=o[2],Ne(()=>t=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){Y(e.$$.fragment,o),r=!1},d(o){ee(e,o)}}}function cd(i){let e,n,t,r;function l(o){i[17](o)}function a(o){i[18](o)}let s={previous_stage:i[15],next_stage:i[16]};return i[1].linkDataType!==void 0&&(s.linkDataType=i[1].linkDataType),i[2]!==void 0&&(s.stage=i[2]),e=new tc({props:s}),Ce.push(()=>De(e,"linkDataType",l)),Ce.push(()=>De(e,"stage",a)),{c(){Q(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,c){x(e,o,c),r=!0},p(o,c){const u={};c[0]&6&&(u.next_stage=o[16]),!n&&c[0]&2&&(n=!0,u.linkDataType=o[1].linkDataType,Ne(()=>n=!1)),!t&&c[0]&4&&(t=!0,u.stage=o[2],Ne(()=>t=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){Y(e.$$.fragment,o),r=!1},d(o){ee(e,o)}}}function dd(i){let e,n,t,r;function l(o){i[13](o)}function a(o){i[14](o)}let s={previous_stage:i[11],next_stage:i[12]};return i[2]!==void 0&&(s.stage=i[2]),i[1].networkFileConfig!==void 0&&(s.config=i[1].networkFileConfig),e=new Gu({props:s}),Ce.push(()=>De(e,"stage",l)),Ce.push(()=>De(e,"config",a)),{c(){Q(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,c){x(e,o,c),r=!0},p(o,c){const u={};c[0]&4&&(u.next_stage=o[12]),!n&&c[0]&4&&(n=!0,u.stage=o[2],Ne(()=>n=!1)),!t&&c[0]&2&&(t=!0,u.config=o[1].networkFileConfig,Ne(()=>t=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){Y(e.$$.fragment,o),r=!1},d(o){ee(e,o)}}}function pd(i){let e,n,t,r;function l(o){i[9](o)}function a(o){i[10](o)}let s={next_stage:i[7],previous_stage:i[8]};return i[2]!==void 0&&(s.stage=i[2]),i[1].fileFormat!==void 0&&(s.fileFormat=i[1].fileFormat),e=new eu({props:s}),Ce.push(()=>De(e,"stage",l)),Ce.push(()=>De(e,"fileFormat",a)),{c(){Q(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,c){x(e,o,c),r=!0},p(o,c){const u={};c[0]&6&&(u.next_stage=o[7]),!n&&c[0]&4&&(n=!0,u.stage=o[2],Ne(()=>n=!1)),!t&&c[0]&2&&(t=!0,u.fileFormat=o[1].fileFormat,Ne(()=>t=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){Y(e.$$.fragment,o),r=!1},d(o){ee(e,o)}}}function hd(i){let e,n;return e=new rn({props:{class:"mb-3",style:"width: 100%",$$slots:{default:[bd]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,r){const l={};r[0]&6|r[1]&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function _d(i){let e,n;return{c(){e=v("h4"),n=M("Enter a name for your network:")},l(t){e=b(t,"H4",{});var r=R(e);n=H(r,"Enter a name for your network:"),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},d(t){t&&f(e)}}}function md(i){let e,n,t;return{c(){e=v("input"),this.h()},l(r){e=b(r,"INPUT",{class:!0}),this.h()},h(){U(e,"class","svelte-18xwvxe")},m(r,l){h(r,e,l),an(e,i[1].name),n||(t=[be(e,"input",i[5]),be(e,"blur",i[3])],n=!0)},p(r,l){l[0]&2&&e.value!==r[1].name&&an(e,r[1].name)},d(r){r&&f(e),n=!1,wt(t)}}}function gd(i){let e;return{c(){e=M("Next")},l(n){e=H(n,"Next")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function vd(i){let e,n;return e=new Xe({props:{style:"float: right",disabled:!i[1].name,$$slots:{default:[gd]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,r){const l={};r[0]&2&&(l.disabled=!t[1].name),r[1]&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function bd(i){let e,n,t,r,l,a;return e=new un({props:{$$slots:{default:[_d]},$$scope:{ctx:i}}}),t=new ln({props:{$$slots:{default:[md]},$$scope:{ctx:i}}}),l=new sn({props:{$$slots:{default:[vd]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment),n=C(),Q(t.$$.fragment),r=C(),Q(l.$$.fragment)},l(s){Z(e.$$.fragment,s),n=S(s),Z(t.$$.fragment,s),r=S(s),Z(l.$$.fragment,s)},m(s,o){x(e,s,o),h(s,n,o),x(t,s,o),h(s,r,o),x(l,s,o),a=!0},p(s,o){const c={};o[1]&256&&(c.$$scope={dirty:o,ctx:s}),e.$set(c);const u={};o[0]&2|o[1]&256&&(u.$$scope={dirty:o,ctx:s}),t.$set(u);const p={};o[0]&6|o[1]&256&&(p.$$scope={dirty:o,ctx:s}),l.$set(p)},i(s){a||(W(e.$$.fragment,s),W(t.$$.fragment,s),W(l.$$.fragment,s),a=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),Y(l.$$.fragment,s),a=!1},d(s){ee(e,s),s&&f(n),ee(t,s),s&&f(r),ee(l,s)}}}function kd(i){let e,n,t,r,l,a,s,o,c;const u=[hd,pd,dd,cd,ud,fd,ad,od,sd],p=[];function k(_,D){return _[2]==="name"?0:_[2]==="network_format"?1:_[2]==="network"?2:_[2]==="tabular"?3:_[2]==="linkTable"?4:_[2]==="extraNodeData"?5:_[2]==="nodeTable"?6:_[2]==="location_table"?7:_[2]==="end"?8:-1}return~(a=k(i))&&(s=p[a]=u[a](i)),{c(){e=v("h3"),n=M("Network data import wizard"),t=C(),r=v("br"),l=C(),s&&s.c(),o=Ke()},l(_){e=b(_,"H3",{});var D=R(e);n=H(D,"Network data import wizard"),D.forEach(f),t=S(_),r=b(_,"BR",{}),l=S(_),s&&s.l(_),o=Ke()},m(_,D){h(_,e,D),d(e,n),h(_,t,D),h(_,r,D),h(_,l,D),~a&&p[a].m(_,D),h(_,o,D),c=!0},p(_,D){let B=a;a=k(_),a===B?~a&&p[a].p(_,D):(s&&(lt(),Y(p[B],1,1,()=>{p[B]=null}),st()),~a?(s=p[a],s?s.p(_,D):(s=p[a]=u[a](_),s.c()),W(s,1),s.m(o.parentNode,o)):s=null)},i(_){c||(W(s),c=!0)},o(_){Y(s),c=!1},d(_){_&&f(e),_&&f(t),_&&f(r),_&&f(l),~a&&p[a].d(_),_&&f(o)}}}function yd(i,e,n){let{reloadNetworks:t}=e,r={name:"",fileFormat:"tabular",linkDataType:null,networkFileConfig:{selectedFile:null},nodeTableConfig:{selectedFile:null,fieldNode:null,fieldRelations:[]},linkTableConfig:{edgesAreDirected:null,selectedFile:null,fieldLinkId:null,fieldSourceId:null,fieldTargetId:null,fieldLocationSource:null,fieldLocationTarget:null,fieldWeight:null,fieldLinkType:null,fieldLinkIsDirected:null,timeConfig:{edgeTimeType:null,selectedFile:null,startTimeField:null,endTimeField:null,timeField:null,formatString:"%d/%m/%Y"}},locationTableConfig:{selectedFile:null,usingLocationFile:!1,fieldPlaceName:null,fieldLat:null,fieldLon:null},nodeLocationConfig:{locationFormat:"",fieldPlaceName:null,fieldLat:null,fieldLon:null,fieldX:null,fieldY:null},nodeMetadataConfig:{hasMetadata:!1,selectedFile:null,fieldNodeId:null,fieldNodeType:null}};const l=()=>{n(1,r.name=r.name.trim().replace(/ /g,"_").replace(/[\W]+/g,""),r)};let a="name",s=[];function o(){r.name=this.value,n(1,r)}const c=()=>{s.push("name"),n(2,a="network_format")},u=()=>(s.push(a),r.fileFormat),p=()=>s.pop();function k(L){a=L,n(2,a)}function _(L){i.$$.not_equal(r.fileFormat,L)&&(r.fileFormat=L,n(1,r))}const D=()=>s.pop(),B=()=>(s.push(a),"end");function T(L){a=L,n(2,a)}function N(L){i.$$.not_equal(r.networkFileConfig,L)&&(r.networkFileConfig=L,n(1,r))}const E=()=>s.pop(),w=()=>(s.push(a),r.linkDataType);function F(L){i.$$.not_equal(r.linkDataType,L)&&(r.linkDataType=L,n(1,r))}function I(L){a=L,n(2,a)}const A=()=>s.pop(),G=()=>(s.push(a),r.linkTableConfig.fieldLocationSource||r.linkTableConfig.fieldLocationTarget?"location_table":"extraNodeData");function g(L){i.$$.not_equal(r.linkTableConfig,L)&&(r.linkTableConfig=L,n(1,r))}function m(L){a=L,n(2,a)}const z=()=>s.pop(),j=()=>(s.push(a),"end");function y(L){i.$$.not_equal(r.nodeMetadataConfig,L)&&(r.nodeMetadataConfig=L,n(1,r))}function $(L){a=L,n(2,a)}const q=()=>s.pop(),K=()=>(s.push(a),"end");function O(L){i.$$.not_equal(r.nodeTableConfig,L)&&(r.nodeTableConfig=L,n(1,r))}function V(L){a=L,n(2,a)}const te=()=>s.pop(),J=()=>(s.push(a),"extraNodeData");function fe(L){i.$$.not_equal(r.locationTableConfig,L)&&(r.locationTableConfig=L,n(1,r))}function me(L){a=L,n(2,a)}const ne=()=>s.pop(),ce=()=>(s.push(a),null);function ae(L){r=L,n(1,r)}function X(L){a=L,n(2,a)}return i.$$set=L=>{"reloadNetworks"in L&&n(0,t=L.reloadNetworks)},i.$$.update=()=>{i.$$.dirty[0]&2&&console.log(r)},[t,r,a,l,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j,y,$,q,K,O,V,te,J,fe,me,ne,ce,ae,X]}class $d extends et{constructor(e){super(),tt(this,e,yd,kd,nt,{reloadNetworks:0},null,[-1,-1])}}const{document:Ci}=ka;function Do(i,e,n){const t=i.slice();return t[29]=e[n],t}function wd(i){let e,n,t;return e=new xn({props:{icon:Da}}),{c(){Q(e.$$.fragment),n=M(`
							Create network`)},l(r){Z(e.$$.fragment,r),n=H(r,`
							Create network`)},m(r,l){x(e,r,l),h(r,n,l),t=!0},p:Qe,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){Y(e.$$.fragment,r),t=!1},d(r){ee(e,r),r&&f(n)}}}function No(i){let e,n,t=i[11](i[29].name)+"",r,l,a,s,o,c,u,p,k,_,D;function B(){return i[18](i[29])}function T(){return i[19](i[29])}function N(){return i[20](i[29])}return{c(){e=v("li"),n=v("a"),r=M(t),l=C(),a=v("img"),o=C(),c=v("img"),p=C(),this.h()},l(E){e=b(E,"LI",{style:!0});var w=R(e);n=b(w,"A",{});var F=R(n);r=H(F,t),F.forEach(f),l=S(w),a=b(w,"IMG",{class:!0,title:!0,src:!0}),o=S(w),c=b(w,"IMG",{class:!0,title:!0,src:!0}),p=S(w),w.forEach(f),this.h()},h(){U(a,"class","controlIcon svelte-1847pty"),U(a,"title","Delete this network."),Lt(a.src,s="../logos/delete.png")||U(a,"src",s),U(c,"class","controlIcon svelte-1847pty"),U(c,"title","Download this network in .vistorian format."),Lt(c.src,u="../logos/download.png")||U(c,"src",u),U(e,"style",k=`font-weight: ${i[0]&&i[0].id===i[29].id?"bold":"normal"}`)},m(E,w){h(E,e,w),d(e,n),d(n,r),d(e,l),d(e,a),d(e,o),d(e,c),d(e,p),_||(D=[be(n,"click",B),be(a,"click",T),be(c,"click",N)],_=!0)},p(E,w){i=E,w[0]&4&&t!==(t=i[11](i[29].name)+"")&&$t(r,t),w[0]&5&&k!==(k=`font-weight: ${i[0]&&i[0].id===i[29].id?"bold":"normal"}`)&&U(e,"style",k)},d(E){E&&f(e),_=!1,wt(D)}}}function Fd(i){let e,n;return{c(){e=v("p"),n=M("First select a network.")},l(t){e=b(t,"P",{});var r=R(e);n=H(r,"First select a network."),r.forEach(f)},m(t,r){h(t,e,r),d(e,n)},p:Qe,i:Qe,o:Qe,d(t){t&&f(e)}}}function Td(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j,y,$,q,K,O,V,te,J,fe,me,ne,ce,ae,X,L,he,ke,se;return ne=new Xe({props:{$$slots:{default:[Ed]},$$scope:{ctx:i}}}),ne.$on("click",i[14]),L=new xn({props:{icon:Bo}}),{c(){e=v("ul"),n=v("li"),t=v("a"),r=v("img"),a=M(`
									Node-link`),o=C(),c=v("li"),u=v("a"),p=v("img"),_=M(`
									Matrix`),B=C(),T=v("li"),N=v("a"),E=v("img"),F=M(`
									Timeline`),A=C(),G=v("li"),g=v("a"),m=v("img"),j=M(`
									Map`),$=C(),q=v("li"),K=v("a"),O=v("img"),te=M(`
									Node-link & Matrix`),fe=C(),me=v("div"),Q(ne.$$.fragment),ce=C(),ae=v("a"),X=M(`What is NetworkNarratives?
								`),Q(L.$$.fragment),this.h()},l(ie){e=b(ie,"UL",{class:!0});var ue=R(e);n=b(ue,"LI",{class:!0});var we=R(n);t=b(we,"A",{href:!0,target:!0});var ye=R(t);r=b(ye,"IMG",{src:!0,width:!0,class:!0}),a=H(ye,`
									Node-link`),ye.forEach(f),we.forEach(f),o=S(ue),c=b(ue,"LI",{class:!0});var de=R(c);u=b(de,"A",{href:!0,target:!0});var ve=R(u);p=b(ve,"IMG",{src:!0,width:!0,class:!0}),_=H(ve,`
									Matrix`),ve.forEach(f),de.forEach(f),B=S(ue),T=b(ue,"LI",{class:!0});var pe=R(T);N=b(pe,"A",{href:!0,target:!0});var Ee=R(N);E=b(Ee,"IMG",{src:!0,width:!0,class:!0}),F=H(Ee,`
									Timeline`),Ee.forEach(f),pe.forEach(f),A=S(ue),G=b(ue,"LI",{class:!0});var Ue=R(G);g=b(Ue,"A",{href:!0,target:!0});var Le=R(g);m=b(Le,"IMG",{src:!0,width:!0,class:!0}),j=H(Le,`
									Map`),Le.forEach(f),Ue.forEach(f),$=S(ue),q=b(ue,"LI",{class:!0});var Me=R(q);K=b(Me,"A",{href:!0,target:!0});var Oe=R(K);O=b(Oe,"IMG",{src:!0,width:!0,class:!0}),te=H(Oe,`
									Node-link & Matrix`),Oe.forEach(f),Me.forEach(f),ue.forEach(f),fe=S(ie),me=b(ie,"DIV",{});var He=R(me);Z(ne.$$.fragment,He),ce=S(He),ae=b(He,"A",{href:!0,target:!0,rel:!0,style:!0});var re=R(ae);X=H(re,`What is NetworkNarratives?
								`),Z(L.$$.fragment,re),re.forEach(f),He.forEach(f),this.h()},h(){Lt(r.src,l="/figures/nodelink.png")||U(r,"src",l),U(r,"width","75px"),U(r,"class","svelte-1847pty"),U(t,"href",s="/nodelink?session=0&datasetName="+i[0].name),U(t,"target","blank"),U(n,"class","svelte-1847pty"),Lt(p.src,k="/figures/matrix.png")||U(p,"src",k),U(p,"width","75px"),U(p,"class","svelte-1847pty"),U(u,"href",D="/matrix?session=0&datasetName="+i[0].name),U(u,"target","blank"),U(c,"class","svelte-1847pty"),Lt(E.src,w="/figures/dynamicego.png")||U(E,"src",w),U(E,"width","75px"),U(E,"class","svelte-1847pty"),U(N,"href",I="/dynamicego?session=0&datasetName="+i[0].name),U(N,"target","blank"),U(T,"class","svelte-1847pty"),Lt(m.src,z="/figures/map.png")||U(m,"src",z),U(m,"width","75px"),U(m,"class","svelte-1847pty"),U(g,"href",y="/map?session=0&datasetName="+i[0].name),U(g,"target","blank"),U(G,"class","svelte-1847pty"),Lt(O.src,V="/figures/nl+mat.png")||U(O,"src",V),U(O,"width","75px"),U(O,"class","svelte-1847pty"),U(K,"href",J="/mat-nl?session=0&datasetName="+i[0].name),U(K,"target","blank"),U(q,"class","svelte-1847pty"),U(e,"class","vis-types svelte-1847pty"),U(ae,"href","https://vistorian.github.io/networknarratives.html"),U(ae,"target","_blank"),U(ae,"rel","noreferrer noopener"),ft(ae,"margin-left","0.75rem"),ft(ae,"color","gray")},m(ie,ue){h(ie,e,ue),d(e,n),d(n,t),d(t,r),d(t,a),d(e,o),d(e,c),d(c,u),d(u,p),d(u,_),d(e,B),d(e,T),d(T,N),d(N,E),d(N,F),d(e,A),d(e,G),d(G,g),d(g,m),d(g,j),d(e,$),d(e,q),d(q,K),d(K,O),d(K,te),h(ie,fe,ue),h(ie,me,ue),x(ne,me,null),d(me,ce),d(me,ae),d(ae,X),x(L,ae,null),he=!0,ke||(se=[be(t,"click",i[21]),be(u,"click",i[22]),be(N,"click",i[23]),be(g,"click",i[24]),be(K,"click",i[25])],ke=!0)},p(ie,ue){(!he||ue[0]&1&&s!==(s="/nodelink?session=0&datasetName="+ie[0].name))&&U(t,"href",s),(!he||ue[0]&1&&D!==(D="/matrix?session=0&datasetName="+ie[0].name))&&U(u,"href",D),(!he||ue[0]&1&&I!==(I="/dynamicego?session=0&datasetName="+ie[0].name))&&U(N,"href",I),(!he||ue[0]&1&&y!==(y="/map?session=0&datasetName="+ie[0].name))&&U(g,"href",y),(!he||ue[0]&1&&J!==(J="/mat-nl?session=0&datasetName="+ie[0].name))&&U(K,"href",J);const we={};ue[1]&2&&(we.$$scope={dirty:ue,ctx:ie}),ne.$set(we)},i(ie){he||(W(ne.$$.fragment,ie),W(L.$$.fragment,ie),he=!0)},o(ie){Y(ne.$$.fragment,ie),Y(L.$$.fragment,ie),he=!1},d(ie){ie&&f(e),ie&&f(fe),ie&&f(me),ee(ne),ee(L),ke=!1,wt(se)}}}function Ed(i){let e,n,t;return n=new xn({props:{icon:Bo}}),{c(){e=M(`Open in NetworkNarratives
								`),Q(n.$$.fragment)},l(r){e=H(r,`Open in NetworkNarratives
								`),Z(n.$$.fragment,r)},m(r,l){h(r,e,l),x(n,r,l),t=!0},p:Qe,i(r){t||(W(n.$$.fragment,r),t=!0)},o(r){Y(n.$$.fragment,r),t=!1},d(r){r&&f(e),ee(n,r)}}}function Cd(i){let e,n,t;return e=new xn({props:{icon:Na}}),{c(){Q(e.$$.fragment),n=M(" Empty browser cache")},l(r){Z(e.$$.fragment,r),n=H(r," Empty browser cache")},m(r,l){x(e,r,l),h(r,n,l),t=!0},p:Qe,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){Y(e.$$.fragment,r),t=!1},d(r){ee(e,r),r&&f(n)}}}function Sd(i){let e,n,t,r,l;return{c(){e=v("h3"),n=M("This is your Data View"),t=C(),r=v("h5"),l=M("Select a network or create a new one using the panel on the left."),this.h()},l(a){e=b(a,"H3",{});var s=R(e);n=H(s,"This is your Data View"),s.forEach(f),t=S(a),r=b(a,"H5",{class:!0});var o=R(r);l=H(o,"Select a network or create a new one using the panel on the left."),o.forEach(f),this.h()},h(){U(r,"class","vertical-centered svelte-1847pty")},m(a,s){h(a,e,s),d(e,n),h(a,t,s),h(a,r,s),d(r,l)},p:Qe,i:Qe,o:Qe,d(a){a&&f(e),a&&f(t),a&&f(r)}}}function Dd(i){let e,n=i[0].name+"",t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E;return u=new js({props:{data:i[5],columns:i[6],sort:!0,pagination:!0,search:!0,resizable:!0}}),N=new js({props:{data:i[3],columns:i[4],sort:!0,pagination:!0,search:!0,resizable:!0}}),{c(){e=v("h3"),t=M(n),r=C(),l=v("br"),a=C(),s=v("h4"),o=M("Node table"),c=C(),Q(u.$$.fragment),p=C(),k=v("br"),_=C(),D=v("h4"),B=M("Link table"),T=C(),Q(N.$$.fragment)},l(w){e=b(w,"H3",{});var F=R(e);t=H(F,n),F.forEach(f),r=S(w),l=b(w,"BR",{}),a=S(w),s=b(w,"H4",{});var I=R(s);o=H(I,"Node table"),I.forEach(f),c=S(w),Z(u.$$.fragment,w),p=S(w),k=b(w,"BR",{}),_=S(w),D=b(w,"H4",{});var A=R(D);B=H(A,"Link table"),A.forEach(f),T=S(w),Z(N.$$.fragment,w)},m(w,F){h(w,e,F),d(e,t),h(w,r,F),h(w,l,F),h(w,a,F),h(w,s,F),d(s,o),h(w,c,F),x(u,w,F),h(w,p,F),h(w,k,F),h(w,_,F),h(w,D,F),d(D,B),h(w,T,F),x(N,w,F),E=!0},p(w,F){(!E||F[0]&1)&&n!==(n=w[0].name+"")&&$t(t,n);const I={};F[0]&32&&(I.data=w[5]),F[0]&64&&(I.columns=w[6]),u.$set(I);const A={};F[0]&8&&(A.data=w[3]),F[0]&16&&(A.columns=w[4]),N.$set(A)},i(w){E||(W(u.$$.fragment,w),W(N.$$.fragment,w),E=!0)},o(w){Y(u.$$.fragment,w),Y(N.$$.fragment,w),E=!1},d(w){w&&f(e),w&&f(r),w&&f(l),w&&f(a),w&&f(s),w&&f(c),ee(u,w),w&&f(p),w&&f(k),w&&f(_),w&&f(D),w&&f(T),ee(N,w)}}}function Nd(i){let e,n;return e=new $d({props:{reloadNetworks:i[7]}}),{c(){Q(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p:Qe,i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function Ld(i){let e,n,t,r,l,a,s,o,c,u,p,k,_,D,B,T,N,E,w,F,I,A,G,g,m,z,j,y,$,q,K,O,V,te,J,fe,me,ne,ce,ae,X,L,he,ke,se,ie,ue,we,ye,de,ve,pe,Ee,Ue,Le,Me,Oe,He,re,Fe;F=new Xe({props:{size:"sm",title:"Create new network from one or more tables.",$$slots:{default:[wd]},$$scope:{ctx:i}}}),F.$on("click",i[12]);let $e=i[2],Te=[];for(let ge=0;ge<$e.length;ge+=1)Te[ge]=No(Do(i,$e,ge));const ze=[Td,Fd],Je=[];function rt(ge,je){return ge[0]?0:1}$=rt(i),q=Je[$]=ze[$](i),ue=new Xe({props:{title:"This will remove ALL your networks and tables from your browser cache. FOREVER. Use this function if your browser stops responding. ",outline:!0,color:"danger",$$slots:{default:[Cd]},$$scope:{ctx:i}}}),ue.$on("click",i[10]);const Ze=[Nd,Dd,Sd],Ge=[];function Et(ge,je){return ge[1]==="NEW_NETWORK"?0:ge[0]?1:2}return de=Et(i),ve=Ge[de]=Ze[de](i),Ee=new Oa({}),Le=new Ra({}),Oe=new Aa({}),{c(){e=C(),n=C(),t=v("div"),r=v("main"),l=v("div"),a=v("div"),s=v("div"),o=v("a"),c=v("img"),p=C(),k=v("div"),_=v("h3"),D=M("My Networks"),B=C(),T=v("p"),N=M("Create or select a network to visualize."),E=C(),w=v("div"),Q(F.$$.fragment),I=C(),A=v("ul"),G=C();for(let ge=0;ge<Te.length;ge+=1)Te[ge].c();g=C(),m=v("div"),z=v("h3"),j=M("Visualizations"),y=C(),q.c(),K=C(),O=v("div"),V=v("h3"),te=v("span"),J=M("Quick Help"),fe=C(),me=v("ul"),ne=v("li"),ce=v("a"),ae=M("Formatting data"),X=C(),L=v("li"),he=v("a"),ke=M("Visualization features"),se=C(),ie=v("div"),Q(ue.$$.fragment),we=C(),ye=v("div"),ve.c(),pe=C(),Q(Ee.$$.fragment),Ue=C(),Q(Le.$$.fragment),Me=C(),Q(Oe.$$.fragment),this.h()},l(ge){ba('[data-svelte="svelte-1gzdt9z"]',Ci.head).forEach(f),e=S(ge),n=S(ge),t=b(ge,"DIV",{id:!0,class:!0});var it=R(t);r=b(it,"MAIN",{});var Ye=R(r);l=b(Ye,"DIV",{style:!0});var Ft=R(l);a=b(Ft,"DIV",{id:!0,xs:!0});var xe=R(a);s=b(xe,"DIV",{id:!0,class:!0});var qe=R(s);o=b(qe,"A",{href:!0});var Bt=R(o);c=b(Bt,"IMG",{width:!0,src:!0}),Bt.forEach(f),qe.forEach(f),p=S(xe),k=b(xe,"DIV",{id:!0,class:!0});var at=R(k);_=b(at,"H3",{});var Pe=R(_);D=H(Pe,"My Networks"),Pe.forEach(f),B=S(at),T=b(at,"P",{});var It=R(T);N=H(It,"Create or select a network to visualize."),It.forEach(f),E=S(at),w=b(at,"DIV",{id:!0,class:!0});var xt=R(w);Z(F.$$.fragment,xt),xt.forEach(f),I=S(at),A=b(at,"UL",{id:!0,class:!0}),R(A).forEach(f),G=S(at);for(let cn=0;cn<Te.length;cn+=1)Te[cn].l(at);at.forEach(f),g=S(xe),m=b(xe,"DIV",{id:!0,class:!0});var P=R(m);z=b(P,"H3",{});var oe=R(z);j=H(oe,"Visualizations"),oe.forEach(f),y=S(P),q.l(P),P.forEach(f),K=S(xe),O=b(xe,"DIV",{class:!0});var _t=R(O);V=b(_t,"H3",{});var Ct=R(V);te=b(Ct,"SPAN",{});var ut=R(te);J=H(ut,"Quick Help"),ut.forEach(f),Ct.forEach(f),fe=S(_t),me=b(_t,"UL",{style:!0});var Pt=R(me);ne=b(Pt,"LI",{});var jt=R(ne);ce=b(jt,"A",{href:!0,target:!0});var St=R(ce);ae=H(St,"Formatting data"),St.forEach(f),jt.forEach(f),X=S(Pt),L=b(Pt,"LI",{});var qt=R(L);he=b(qt,"A",{href:!0,target:!0});var Wt=R(he);ke=H(Wt,"Visualization features"),Wt.forEach(f),qt.forEach(f),Pt.forEach(f),_t.forEach(f),se=S(xe),ie=b(xe,"DIV",{id:!0,class:!0});var en=R(ie);Z(ue.$$.fragment,en),en.forEach(f),xe.forEach(f),we=S(Ft),ye=b(Ft,"DIV",{id:!0,class:!0});var hn=R(ye);ve.l(hn),hn.forEach(f),Ft.forEach(f),pe=S(Ye),Z(Ee.$$.fragment,Ye),Ue=S(Ye),Z(Le.$$.fragment,Ye),Me=S(Ye),Z(Oe.$$.fragment,Ye),Ye.forEach(f),it.forEach(f),this.h()},h(){Ci.title="Data view",U(c,"width","250px"),Lt(c.src,u="../logos/logo-networkcube.png")||U(c,"src",u),U(o,"href","/"),U(s,"id","menu"),U(s,"class","svelte-1847pty"),U(w,"id","divAddNetwork"),U(w,"class","svelte-1847pty"),U(A,"id","networkList"),U(A,"class","nointent"),U(k,"id","networkListDiv"),U(k,"class","boxed svelte-1847pty"),U(m,"id","divVisualizations"),U(m,"class","boxed svelte-1847pty"),U(ce,"href","https://vistorian.github.io/formattingdata.html"),U(ce,"target","_blank"),U(he,"href","https://vistorian.github.io/visualizations.html"),U(he,"target","_blank"),ft(me,"list-style-type","disc"),U(O,"class","helpSidebar boxed svelte-1847pty"),U(ie,"id","divEmptyCache"),U(ie,"class","svelte-1847pty"),U(a,"id","lists"),U(a,"xs","2"),U(ye,"id","center"),U(ye,"class","svelte-1847pty"),ft(l,"display","grid"),ft(l,"grid-template-columns","300px 1fr"),U(t,"id","divMain"),U(t,"class","svelte-1847pty")},m(ge,je){h(ge,e,je),h(ge,n,je),h(ge,t,je),d(t,r),d(r,l),d(l,a),d(a,s),d(s,o),d(o,c),d(a,p),d(a,k),d(k,_),d(_,D),d(k,B),d(k,T),d(T,N),d(k,E),d(k,w),x(F,w,null),d(k,I),d(k,A),d(k,G);for(let it=0;it<Te.length;it+=1)Te[it].m(k,null);d(a,g),d(a,m),d(m,z),d(z,j),d(m,y),Je[$].m(m,null),d(a,K),d(a,O),d(O,V),d(V,te),d(te,J),d(O,fe),d(O,me),d(me,ne),d(ne,ce),d(ce,ae),d(me,X),d(me,L),d(L,he),d(he,ke),d(a,se),d(a,ie),x(ue,ie,null),d(l,we),d(l,ye),Ge[de].m(ye,null),d(r,pe),x(Ee,r,null),d(r,Ue),x(Le,r,null),d(r,Me),x(Oe,r,null),He=!0,re||(Fe=[be(Ci.body,"error",i[16]),be(Ci.body,"beforeunload",i[17]),be(ce,"click",i[26]),be(he,"click",i[27])],re=!0)},p(ge,je){const it={};if(je[1]&2&&(it.$$scope={dirty:je,ctx:ge}),F.$set(it),je[0]&11013){$e=ge[2];let qe;for(qe=0;qe<$e.length;qe+=1){const Bt=Do(ge,$e,qe);Te[qe]?Te[qe].p(Bt,je):(Te[qe]=No(Bt),Te[qe].c(),Te[qe].m(k,null))}for(;qe<Te.length;qe+=1)Te[qe].d(1);Te.length=$e.length}let Ye=$;$=rt(ge),$===Ye?Je[$].p(ge,je):(lt(),Y(Je[Ye],1,1,()=>{Je[Ye]=null}),st(),q=Je[$],q?q.p(ge,je):(q=Je[$]=ze[$](ge),q.c()),W(q,1),q.m(m,null));const Ft={};je[1]&2&&(Ft.$$scope={dirty:je,ctx:ge}),ue.$set(Ft);let xe=de;de=Et(ge),de===xe?Ge[de].p(ge,je):(lt(),Y(Ge[xe],1,1,()=>{Ge[xe]=null}),st(),ve=Ge[de],ve?ve.p(ge,je):(ve=Ge[de]=Ze[de](ge),ve.c()),W(ve,1),ve.m(ye,null))},i(ge){He||(W(F.$$.fragment,ge),W(q),W(ue.$$.fragment,ge),W(ve),W(Ee.$$.fragment,ge),W(Le.$$.fragment,ge),W(Oe.$$.fragment,ge),He=!0)},o(ge){Y(F.$$.fragment,ge),Y(q),Y(ue.$$.fragment,ge),Y(ve),Y(Ee.$$.fragment,ge),Y(Le.$$.fragment,ge),Y(Oe.$$.fragment,ge),He=!1},d(ge){ge&&f(e),ge&&f(n),ge&&f(t),ee(F),nn(Te,ge),Je[$].d(),ee(ue),Ge[de].d(),ee(Ee),ee(Le),ee(Oe),re=!1,wt(Fe)}}}function Id(i,e,n){let t=null,r=null,l,a=[],s=[],o=[],c=[],u=[];const p=()=>{n(2,a=La(l).map(K=>Ia(K,l)))};dl(async()=>{Ae.event("log_2","load","webpage",document.location.pathname),n(15,l=si().session),p();const K=si().datasetName,O=a.filter(V=>V.name===K);O.length>0&&n(0,t=O[0])});const k=K=>{!confirm("Are you sure you want to delete this network?")||(Pa(K,l),p(),Ba(K.name),Ae.event("dat_4","data view","selected network","deleted"))},_=K=>{const O=document.createElement("a");O.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(K))),O.setAttribute("download",K.name+".vistorian"),O.style.display="none",document.body.appendChild(O),O.click(),document.body.removeChild(O),Ae.event("dat_7","data view","selected network","downloaded")},D=()=>{if(!confirm("Are you sure you want to clear the cache? This will remove ALL your networks and tables from your browser cache. FOREVER."))return;const O=localStorage.getItem("SessionLogId");localStorage.clear(),localStorage.getItem(O),Ae.event("dat_5","data view","browser cache","cleared"),location.reload()},B=K=>K.length<=15?K:K.slice(0,15)+"...",T=()=>{n(1,r="NEW_NETWORK"),n(0,t=null),Ae.event("dat_1","data view","new network","created")},N=K=>{n(0,t=K),n(1,r="")},E=()=>{const K="https://networknarratives.github.io/",O=window.open(K,"_blank");new Promise(V=>setTimeout(V,1e4)).then(()=>{O.postMessage(t,"*")})},w=(K,O,V,te,J)=>Ae.event("err",K+" "+O+" "+V,J,document.location.pathname),F=()=>Ae.event("log_12","page","close",document.location.pathname),I=K=>N(K),A=K=>k(K),G=K=>_(K),g=()=>{Ae.event("vis_1","data view","Create Visualization","Node-link")},m=()=>{Ae.event("vis_1","data view","Create Visualization","Matrix")},z=()=>{Ae.event("vis_1","data view","Create Visualization","Timeline")},j=()=>{Ae.event("vis_1","data view","Create Visualization","Map")},y=()=>{Ae.event("vis_1","data view","Create Visualization","Mat+Nl")},$=()=>Ae.event("hlp_8","dataview","tutorials","click"),q=()=>Ae.event("hlp_8","dataview","tutorials","click");return i.$$.update=()=>{if(i.$$.dirty[0]&32769&&t){const K=jo(t.name,l),O=K.nodes().toArray();O.some(J=>J.nodeType())?(n(6,u=["id","label","node type"]),n(5,c=O.map(J=>[J.id(),J.label()||"",J.nodeType()||""]))):(n(6,u=["id","label"]),n(5,c=O.map(J=>[J.id(),J.label()||""])));let te=K.links().toArray();n(3,s=te.map(J=>[J._id,J.source.id(),J.source.label(),J.target.id(),J.target.label(),J.linkType(),J.times().toArray()[0].time().toUTCString()])),n(4,o=["Link id","Source ID","Source label","Target ID","Target Label","Link type","Date"])}},[t,r,a,s,o,c,u,p,k,_,D,B,T,N,E,l,w,F,I,A,G,g,m,z,j,y,$,q]}class jd extends et{constructor(e){super(),tt(this,e,Id,Ld,nt,{},null,[-1,-1])}}export{jd as default};
