<!DOCTYPE html>
<html>

<head>
    <html>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8; X-Content-Type-Options=nosniff">
        <link rel="stylesheet" type="text/css" href="./static/styles.css">
        <link rel="stylesheet" type="text/css" href="./static/visview.css">
        <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet' type='text/css'>
        <script type="text/javascript" src="./static/traces/trace.js"></script>

        <script src="./node_modules/jstorage/jstorage.js"></script>

        <script src="./static/science.js"></script>

        <script> var exports = {}; </script>
        <!-- <script src="./node_modules/vistorian-web/lib/vistorian-web.js"></script>  -->
        <!-- <script src="https://unpkg.com/vistorian-core@0.0.13/lib/vistorian-core.js"></script> -->
        <script src="./node_modules/vistorian-core/lib/vistorian-core.js"></script>

    </head>
    <title>Node link</title>

<body>
    <table>
        <tr>

            <td width="220px">
                <div width="220" id="visFrame">
            </td>
        </tr>
    </table>
    <div id="footer">

        <script type="text/javascript">
            // Load demo data
            $.get("https://raw.githubusercontent.com/networkcube/vistorian-web/master/web/demo/demo_scientists.vistorian",
                function (data) {
                    window.exports.networkcube.vistorian.importData(JSON.parse(data), 0);
                });

        </script>
    </div>


    <script type="text/javascript">
        if (window.location.port)
            SERVER = location.protocol + '//' + window.location.hostname + ':' + window.location.port + '' + window.location.pathname + '/';
        else
            SERVER = location.protocol + '//' + window.location.hostname + '' + window.location.pathname + '/';

        SERVER = SERVER.split('index/')[0]

        $(document).ready(function () {
            var width = window.innerWidth - 30;
            var height = window.innerHeight - 50

            var params = { "session": 0, "datasetName": "demo_scientists" }//window.vc.utils.getUrlVars();
            params['datasetName'] = params['datasetName'].replace(/___/g, ' ');

            window.vc.main.createVisualizationIFrame(
                'visFrame',
                SERVER + './web/index.html',
                params['session'], params['datasetName'],
                width, height
            );
        });
    </script>
</body>

</html>